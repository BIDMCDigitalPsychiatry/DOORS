{"version":3,"sources":["components/layout/Header.tsx","components/layout/hooks.ts","components/layout/LeftDrawerContent.tsx","components/application/GenericDialog/store.ts","hooks.tsx","fonts/Montserrat-Regular.woff2","fonts/archivo-v7-latin-regular.woff2","components/general/StyledButton.tsx","images/calendar.png","images/wifi.png","images/picture.png","images/contacts.png","components/application/GenericDialog/DialogButton.tsx","images/musicplayer.png","images/newspaper.png","images/checkbox.png","images/video.png","components/application/GenericDialog/useDialogState.tsx","helpers.tsx","components/application/GenericTable/helpers.tsx","fonts.js","constants.tsx","images/logo.svg","components/application/GenericTable/store.ts","components/layout/store.ts","components/application/Selector/store.ts","components/application/SnackBar/store.ts","database/store.ts","store.ts","storeConfig.ts","components/layout/ViewPort.tsx","components/layout/PlayGround.tsx","components/application/GenericTable/TableToolbar.tsx","components/application/Selector/useTabSelector.ts","components/general/TabSelector/TabSelector.tsx","components/application/GenericTable/TableTabSelector.tsx","components/application/GenericTable/GenericTableContainer.tsx","database/dbConfig.ts","database/useUpdateDatabase.tsx","database/useProcessData.tsx","components/application/GenericTable/Instructors/toolbars.tsx","components/application/GenericTable/Instructors/hooks.tsx","database/useTable.tsx","database/useInstructor.tsx","components/application/GenericTable/Instructors/useInstructors.tsx","components/application/GenericDialog/helpers.tsx","components/application/DialogField/Text.tsx","components/application/GenericDialog/Fields.tsx","components/application/GenericDialog/ErrorGate.tsx","components/application/GenericDialog/GenericDialog.tsx","components/application/DialogField/Label.tsx","components/application/DialogField/MarginDivider.tsx","components/application/GenericDialog/AddInstructor/helpers.ts","components/application/SnackBar/useSnackBar.tsx","components/application/GenericDialog/AddInstructor/index.tsx","components/application/GenericTable/Instructors/table.tsx","components/pages/Instructors.tsx","components/pages/Profile/ProfileSettings.tsx","components/pages/Profile/ProfileDetails.tsx","components/pages/Page.tsx","components/pages/Profile/Profile.tsx","components/pages/Calendar.tsx","components/pages/Class/helpers.tsx","components/pages/Class/Class.tsx","components/pages/Class/Classes.tsx","components/pages/Class/useClasses.tsx","components/general/ActionCard.tsx","components/pages/ChildPage.tsx","database/useLocationData.tsx","database/useData.tsx","components/pages/Class/ClassDashboard.tsx","components/pages/Class/SessionClass.tsx","aws-exports.js","database/useS3Bucket.tsx","components/pages/Class/ClassPresentationFile.tsx","components/application/DialogField/Check.tsx","components/application/GenericDialog/BlockList/index.tsx","components/general/BlockList.tsx","components/hooks/useFormState.tsx","components/general/OutlinedDiv/OutlinedDivActive.tsx","components/application/DialogField/ImageSelector.tsx","components/pages/Class/ClassMaterials.tsx","components/general/OutlinedDiv/OutlinedDiv.tsx","components/application/DialogField/Radio.tsx","components/application/GenericDialog/CreateGroup/helpers.ts","components/application/GenericDialog/CreateGroup/index.tsx","components/application/GenericDialog/useSubmitDialogData.tsx","components/application/GenericDialog/AddStudent/index.tsx","database/useTableRow.tsx","components/pages/Class/Participant.tsx","database/useProfile.tsx","components/pages/Class/Participants.tsx","components/pages/Class/Group.tsx","database/useGroupStudents.tsx","database/useGroups.tsx","components/pages/Class/ClassRoster.tsx","components/pages/TermsAndConditions.tsx","components/pages/StyleGuide.tsx","components/pages/Class/PostSurvey.tsx","components/pages/Class/PreSurvey.tsx","components/pages/Class/Lesson.tsx","components/pages/Class/Resources.tsx","components/pages/Class/Congratulations.tsx","database/models/Class.ts","components/pages/Class/CreateClass.tsx","components/layout/routes.tsx","components/general/TabSelector/TabSelectorToolBar.tsx","components/layout/useTabs.ts","components/application/GenericDialog/Help/helpers.ts","components/application/GenericDialog/Help/index.tsx","components/layout/ApplicationBar.tsx","components/layout/Footer.tsx","components/application/SnackBar/SnackBar.tsx","components/layout/LeftDrawer.tsx","components/layout/Layout.tsx","components/application/GenericDialog/Register/index.js","components/layout/ForgotPassword.tsx","components/layout/Login.tsx","components/layout/AuthGate.tsx","components/layout/AcceptInvite.tsx","components/layout/InviteGate.tsx","components/layout/SelectUserType.tsx","components/application/GenericTable/Instructors/useUserIdInstructors.tsx","components/layout/UserTypeGate.tsx","components/layout/AppRouter.tsx","components/layout/CssBaselineCustom.tsx","App.tsx","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","palette","createStyles","header","color","primary","dark","Header","superVariant","titleVariant","subVariant","supertitle","undefined","title","subtitle","ActionButton","TitleButton","classes","container","spacing","item","xs","variant","isEmpty","className","justify","useAuth","key","useSelector","state","layout","shallowEqual","useUserEmail","signInUserSession","idToken","payload","email","useUserId","username","useLogout","dispatch","useDispatch","React","type","handleValidation","dialogState","message","errors","copyToLower","includes","useLogin","setState","onSuccess","stateStr","JSON","stringify","handleLogin","forgotPassword","enterNewPassword","confirmationCode","newPassword","password","prev","open","loading","showErrors","Auth","forgotPasswordSubmit","then","data","alert","signIn","user","console","log","auth","catch","err","error","newErrors","parse","useAppBarHeight","appBarHeight","useResizeViewPort","props","useHeight","height","useWidth","width","useAppBarHeightRef","ref","useComponentSize","resizeAppBar","useResizeAppBar","useHandleChangeRoute","changeRoute","useChangeRoute","route","search","event","pathname","useLocation","history","useHistory","push","publicUrl","useLayout","useLeftDrawer","leftDrawerOpen","setLayout","useTheme","fullScreen","useFullScreen","drawerPaths","parts","homepage","split","lastPart","length","replace","leftDrawerEnabled","find","p","setLeftDrawerOpen","theme","root","button","marginTop","marginRight","actionsContainer","marginBottom","resetContainer","paddingLeft","paddingRight","steps","label","VerticalLinearStepper","useState","activeStep","setActiveStep","useEffect","idx","findIndex","s","endsWith","linkVariant","onClick","mt","orientation","map","index","square","elevation","defaultDialogState","submitting","initialValues","initialState","updateDialog","id","reducer","action","updateState","size","useMediaQuery","breakpoints","down","useContentPadding","contentpadding_xs","contentpadding","useSignedIn","useIsAdmin","signedIn","adminEmails","adminUsers","ae","trim","toLowerCase","useIsAdminMode","isAdmin","admin","useUserType","isInstructor","instructor","useIsInstructorMode","isStudent","student","useIsStudentMode","getUrlParamater","paramName","sParameterName","i","sURLVariables","window","location","substring","decodeURIComponent","module","exports","primaryRoot","secondary","background","borderRadius","borderColor","opacity","common","white","main","primaryPressed","secondaryRoot","light","secondaryPressed","textRoot","textPressed","text","pressed","disabled","StyledButton","Icon","children","other","rootClass","pressedClass","renderDialogModule","Dialog","default","withStyles","badge","top","right","border","paper","Badge","margin","listitem","padding","DialogButton","forwardRef","Content","Id","Module","tooltip","placement","underline","styledVariant","noGrid","mount","onSubmit","onClose","onChange","onReset","values","setValues","disabledColor","fullWidth","useDialogState","setDialogState","anchorEl","setAnchorEl","other_s","handleUpdate","useCallback","evalFunc","handleClose","handleClick","currentTarget","shared","checkEmpty","style","marginLeft","fontSize","cursor","dialog","hostAddress","append","protocol","hostname","port","debugSettings","debugoutput","logviewport","logrender","logmapping","logreducer","logselectors","logform","logformupdates","debugfieldonhover","printHeader","process","packageJson","version","value","Array","isArray","hasChanged","current","initial","validateEmail","test","String","validateHttpUrl","url","uncapitalize","charAt","slice","obj","keys","Object","n","newobj","bool","x","emptyUndefined","isError","getLabel","f","spread","final","str","triggerResize","dispatchEvent","CustomEvent","setTimeout","path","newState","uuid","uuidv4","getDateFromTimestamp","milliseconds","d","Date","setUTCMilliseconds","date","mm","getMonth","dd","getDate","getFullYear","join","mmddyyyy","minutesFrom","time","diff","getTime","minutesToTimeAgo","minutes","Math","floor","h","m","ret","timeAgo","parseEmails","emails","getClassTitle","headline","name","filter","getStudentName","profile","sortComparators","a","b","orderBy","isMatch","re","getSearchValues","match","attrname","isNaN","e","toString","isColumnExactMatch","cf","column","useTableFilter","customFilter","table","TableStore","searchtext","columnfilter","columnfiltervalue","columnfiltercolumn","filtered","table_filter","stableSort","getSorting","orderDirection","sortComparator","performcolumnfilter","performtextfilter","RegExp","array","cmp","stabilizedThis","el","sort","order","setDefaults","tables","t","reduce","isObjectWithKeys","isObject","montserrat","fontFamily","fontStyle","fontDisplay","fontWeight","src","Montserrat","unicodeRange","archivo","Archivo","basetheme","createMuiTheme","beta","typography","noScrollPaths","noPadPaths","leftDrawerWidth","toolbarheight","contentrowspacing","tablefooterheight","tablefilterbarheight","tabletoolbarheight","tableRowHeight","footerheight","progressSize","tabheight","overrides","MuiCssBaseline","MuiTooltip","maxWidth","MuiTypography","h6","lineHeight","subtitle1","MuiDialogTitle","paddingTop","paddingBottom","MuiDialogActions","grey","display","alignItems","justifyContent","flex","MuiListItemIcon","defaultValues","hydratestate","useTableUpdate","useTableFilterUpdate","filters","getState","tableFilterUpdate","useTable","useTableFilterValues","defaultUserState","canChangeUserType","defaultState","updateSnackBar","reducers","Table","selector","snackBar","database","localforage","driver","storeName","description","persistConfig","storage","staticProps","flexGrow","zIndex","overflow","position","dimensions","backdrop","backdropColor","viewport","backgroundColor","ViewPort","resizeViewPort","PlayGround","Grid","Typography","formControl","searchIcon","h4","pxToRem","titleicon","grid","hidden","borderBottom","TableToolbar","searchOpen","setSearchOpen","buttons","inputplaceholder","showicon","buttonPosition","handleOpenSearch","inputRef","tableUpdate","updateTable","handleClear","handleKeyDown","preventDefault","focus","addEventListener","removeEventListener","handleChange","target","Search","FormControl","Input","disableUnderline","placeholder","startAdornment","InputAdornment","endAdornment","IconButton","Buttons","widths","headerpadding","iconwidth","titlepadding","titleminwidth","calculatedbuttonswidth","calculatedfullwidth","k","tabletitlevisible","tableiconvisible","IconComponent","Icons","ButtonGroup","direction","Paper","zeroMinWidth","Tooltip","noWrap","useTabSelector","updateSelector","rounded","tabs","minHeight","indicator","labelIcon","tabroot","minWidth","wrapper","flexDirection","TabSelector","wrapped","tabSelector","setTabSelector","selected","tabId","Tabs","scrollButtons","icon","TableTabSelector","tab","Tab","storeTable","GenericTable","GenericTableContainer","Height","toolbar","stacked","toolbarplaceholder","Columns","columns","dialogs","onChangeTab","FilterContainer","tableProps","layoutHeight","forEach","renderCell","cell","row","col","getValues","Cell","Component","handleRefresh","injectValues","applyCellRenderers","_toolbar","filterbar","rows","component","excludePadding","contentPadding","calculatedheight","c","spinner","CircularProgress","thickness","fallback","r","AWS","require","config","region","credentials","CognitoIdentityCredentials","IdentityPoolId","identityPoolIdUnauth","dynamo","DynamoDB","DocumentClient","useUpdateDatabase","updateDatabase","executeTransaction","pdi","Data","Model","Action","Snackbar","onError","put","TableName","Item","_rev","get","Key","processData","DataProp","created","updated","deleted","statusCode","useProcessData","toolbarPaper","borderBottomLeftRadius","borderBottomRightRadius","MultiUserToolbar","instructors","u","handleDelete","OnSuccess","stopPropagation","Instructors","useDeleteInstructors","success","handleRequest","FilterExpression","ExpressionAttributeNames","ExpressionAttributeValues","getRows","scanResults","params","ExclusiveStartKey","scan","promise","items","Items","LastEvaluatedKey","isExpired","inviteExpiration","useInstructors","requestParams","Invite","accepted","setMappedValue","field","object","getValue","getMappedValue","singleValue","isDisabled","isActive","active","isHidden","useValues","fields","InitialValues","validate","externalValues","externalSetValues","disableInitialize","initialValue","getDefaultValues","mergedInitialValues","merge","internalValues","setInternalValues","vals","touched","setTouched","mergedInitialValuesStr","initializeValues","internalErrors","externalErrors","errorCount","stateErrors","resetErrors","uppercase","toUpperCase","useHandleChange","handleBlur","mapField","required","autoFocus","InputProps","inputProps","step","min","max","multiline","getProps","disableCloseOnSelect","showError","onBlur","bindField","Errors","http","Text","forceErrorMargin","TextField","helperText","InputLabelProps","shrink","getColumnFields","numFields","numCols","numColsField","ceil","startIndex","endIndex","MapField","Field","collapse","wrappeditem","Collapse","in","Fields","minColumnWidth","maxColumnWidth","from","ErrorGate","align","PaperComponent","cancel","outline","dialogHeader","capitalize","textTransform","content","actions","closeButton","deleteButton","deleteButtonEmpty","submitProgress","left","GenericDialog","Title","draggable","cancelLabel","deleteLabel","submitLabel","onDelete","ContentProps","Classes","confirmDelete","setConfirmDelete","handleConfirmDelete","values_s","handleSubmit","contentProps","inProgress","aria-labelledby","aria-describedby","disableAutoFocus","DialogTitle","disableTypography","aria-label","Divider","DialogContent","dividers","Button","DialogActions","Label","MarginDivider","useSnackBar","AddInstructorDialog","setSnackbar","parentId","submitData","institution","onSubmitSuccess","role","body","Destination","CcAddresses","ToAddresses","Message","Body","Html","Charset","Subject","Source","sourceEmailAddress","ReplyToAddresses","SES","apiVersion","sendEmail","stack","sendInstructorInvite","footer","checkbox","select","MultiSelectToolbar","ProfileSettings","rest","city","Card","clsx","CardContent","md","Box","avatar","ProfileDetails","userType","textAlign","Avatar","Page","Container","disableGutters","Profile","lg","xl","Calendar","images","wifi","calendar","picture","contacts","musicplayer","newspaper","video","getImage","black","imageContainer","summary","Class","image","keySkills","rankingModel","surveyQuestions","classResources","classPresentation","gutterBottom","alt","handleChangeRoute","isAdminMode","useClasses","sm","circle","circleText","ActionCard","actionLabel","titleProps","onLock","onRemove","onEdit","locked","canLock","handleLock","handleRemove","handleEdit","canEdit","canDelete","CardActions","ChildPage","backLabel","onBack","useLocationData","response","data_str","setData","updateData","newValues","OnError","saveData","useData","actionCards","ClassDashboard","ml","mb","ac","SessionClass","awsmobile","aws_project_region","aws_cognito_identity_pool_id","aws_cognito_region","aws_user_pools_id","aws_user_pools_web_client_id","oauth","aws_user_files_s3_bucket","aws_user_files_s3_bucket_region","aws_dynamodb_all_tables_region","Amplify","configure","awsconfig","blue","FileActions","Boolean","uploading","handleUpload","level","contentType","onStart","Storage","result","status","useS3Bucket","onInput","uploadFiles","files","arrFiles","file","Menu","keepMounted","accept","htmlFor","MenuItem","ClassPresentationFile","CardHeader","subheader","Check","checked","FormControlLabel","control","Checkbox","FormHelperText","BlockListDialog","BlockList","showIndexBadges","add","edit","remove","value_str","handleReplace","actionText","useFormState","formState","setFormState","handleCreate","shadows","inputLabel","transform","notchedOutline","borderWidth","boxShadow","OutlinedDivActive","labelWidth","setLabelWidth","labelRef","useRef","labelNode","ReactDOM","findDOMNode","offsetWidth","InputLabel","notched","ImageSelector","ClassMaterials","shape","OutlinedDiv","Radio","RadioGroup","sendStudentInvite","participants","CreateGroupDialog","classId","useSubmitDialogData","userId","isLast","groupId","invitesToSend","group","instructorId","AddStudentDialog","useTableRow","row_str","Participant","useProfile","bold","Participants","students","details","semibold","createdOn","Group","sessionId","activeStudents","pendingStudents","expiredStudents","useGroupStudents","ClassRoster","groups","useGroups","class","g","TermsAndConditions","StyleGuide","PostSurvey","PreSurvey","Lesson","Resources","Congratulations","defaultRankingModels","CreateClass","adminId","Routes","exact","TabSelectorToolBar","tabRoute","tabToSelect","allTabs","userTypes","useTabs","ut","tabs_s","HelpDialog","sendHelpEmail","readOnly","appBar","drawer","appBarFullScreen","logo","menuButton","up","AppBarTabSelector","ApplicationBar","prevId","onLogout","handleOpenLeftDrawer","handleLogout","handleTabChange","defaultTabId","defaultTabRoute","handleLogoClick","handleHelpClose","resetUserType","AppBar","Toolbar","edge","aria-haspopup","anchorOrigin","vertical","horizontal","transformOrigin","MenuListProps","bottomAppBar","bottom","bottomAppBarBeta","bottomToolBar","pointer","Footer","Link","href","variantIcon","CheckCircleIcon","warning","WarningIcon","ErrorIcon","info","InfoIcon","green","amber","iconVariant","SnackBar","setSnackBar","reason","autoHideDuration","SnackbarContent","mixins","flexShrink","drawerPaper","drawerPaperTemporary","LeftDrawer","leftDrawer","setLeftDrawer","handleLeftDrawerClose","Drawer","ModalProps","LeftDrawerContent","transitions","create","easing","easeOut","duration","enteringScreen","innerContent","contentHeight","padInnerContent","Layout","data-testid","passwordValidator","schema","is","has","lowercase","digits","symbols","confirmationCodeError","confirmPassword","validationRulesErrors","list","formatPasswordValidateError","isValEmpty","EnterConfirmationCode","RegisterDialog","confirm","dialogStateStr","handleAdd","signUp","attributes","handleConfirm","confirmSignUp","overflowY","disclaimer","panelarea","buttonProgress","ForgotPassword","Email","BannerMsg","buttonRef","confirmNewPassword","handleReset","handleEnterReset","handleBack","onKeyUp","keyCode","click","autoComplete","BrandLogoImage","Login","handleForgotPassword","AuthGate","maxWdith","AcceptInvite","setRow","expired","InviteGate","setId","setType","SelectUserType","handleSelect","UserTypeGate","useUserIdInstructors","connect","ownProp","router","html","WebkitFontSmoothing","MozOsxFontSmoothing","body2","boxSizing","fontWeightBold","createBrowserHistory","initialReduxState","store","appConfig","devToolsExtension","allReducers","combineReducers","assign","connectRouter","buildRootReducer","persistedReducer","persistReducer","compose","applyMiddleware","thunk","routerMiddleware","createStore","createStoreWithMiddleware","configureStore","persistor","persistStore","ThemedViewPort","CssBaselineCustom","AppWrapper","App","Suspense","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.bacde1e5.chunk.js","sourcesContent":["import * as React from 'react';\nimport { makeStyles, createStyles, Typography, Grid } from '@material-ui/core';\nimport { isEmpty } from '../../helpers';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    header: {\n      color: palette.primary.dark\n    }\n  } as any)\n);\n\nexport default function Header({\n  superVariant = 'h6',\n  titleVariant = 'h4',\n  subVariant = 'subtitle1',\n  supertitle = undefined,\n  title = undefined,\n  subtitle = undefined,\n  ActionButton = undefined,\n  TitleButton = undefined\n}) {\n  const classes = useStyles();\n  return (\n    <Grid container spacing={1}>\n      <Grid item xs>\n        <Grid container spacing={1}>\n          {supertitle && (\n            <Grid item xs={12}>\n              <Typography color='textSecondary' variant={superVariant as any}>\n                {supertitle}\n              </Typography>\n            </Grid>\n          )}\n          {(!isEmpty(title) || !isEmpty(subtitle)) && (\n            <Grid item xs={12}>\n              <Typography className={classes.header} variant={titleVariant as any}>\n                <Grid container spacing={1} justify='space-between'>\n                  <Grid item>\n                    {title}\n                    {subtitle && (\n                      <Typography color='textSecondary' variant={subVariant as any}>\n                        {subtitle}\n                      </Typography>\n                    )}\n                  </Grid>\n                  {TitleButton && (\n                    <Grid item>\n                      <TitleButton />\n                    </Grid>\n                  )}\n                </Grid>\n              </Typography>\n            </Grid>\n          )}\n        </Grid>\n      </Grid>\n      {ActionButton && (\n        <Grid item>\n          <ActionButton />\n        </Grid>\n      )}\n    </Grid>\n  );\n}\n","import { useFullScreen } from './../../hooks';\nimport * as React from 'react';\nimport useComponentSize from '@rehooks/component-size';\nimport { useHistory, useLocation } from 'react-router';\nimport { AppState } from '../../store';\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux';\nimport { publicUrl, copyToLower, isEmpty } from '../../helpers';\nimport { Auth } from 'aws-amplify';\nimport { useTheme } from '@material-ui/core';\nimport { homepage } from '../../../package.json';\n\nexport const useLayoutKey = key => useSelector((state: AppState) => state.layout[key], shallowEqual);\nexport const useAuth = () => useLayoutKey('auth') || {};\nexport const useUserEmail = () => {\n  const auth = useAuth();\n  return auth.signInUserSession?.idToken?.payload?.email ?? 'Username';\n};\nexport const useUserId = () => {\n  const auth = useAuth();\n  return auth.username;\n};\n\nexport const useLogout = () => {\n  const dispatch = useDispatch();\n  return React.useCallback(() => dispatch({ type: 'LOGOUT' }), [dispatch]);\n};\n\nexport default function useRequest({ url, setState = undefined, onSuccess = undefined, onError = undefined, method = 'post' as any }) {\n  const [error, setError] = React.useState();\n  const { access } = useAuth();\n\n  const handleRequest = React.useCallback(\n    (values = {}, OnSuccess = undefined, OnError = undefined) => {\n      setState && setState(prev => ({ ...prev, success: false, disabled: true, submitting: true, response: undefined }));\n      async function submitData() {\n        setError(undefined); // Reset any previous errors\n        try {\n          console.log({ access, method, url });\n          //const response = await processRequest(method, url, values, access);\n          const response = { data: { success: true, email: 'test@test.com' } };\n          console.log('Successful request.');\n          console.log({ response, values });\n          setState && setState(prev => ({ ...prev, success: true, disabled: false, submitting: false, errors: {}, response }));\n          onSuccess && onSuccess(response);\n          OnSuccess && OnSuccess(response);\n        } catch (error) {\n          const { response } = error;\n          const { error_text = 'Unknown error' } = response?.data ?? {};\n          console.error({ error_text, error, values });\n          setError(error_text); // Set any new errors\n          setState && setState(prev => ({ ...prev, success: false, disabled: false, submitting: false, errors: {}, response }));\n          onError && onError(response);\n          OnError && OnError(response);\n        }\n      }\n      submitData();\n    },\n    [access, url, method, setState, setError, onSuccess, onError]\n  );\n\n  return { handleRequest, error, setError };\n}\n\nconst handleValidation = ({ message }, dialogState) => {\n  var errors = copyToLower(dialogState.errors); // start with server generated errors, ensure all keys start with lowercase letter\n\n  if (!isEmpty(message)) {\n    if (message.includes('password') || message.includes('Password')) {\n      errors['password'] = message;\n    } else {\n      errors['email'] = message;\n    }\n  }\n\n  return errors;\n};\n\nexport const useLogin = ({ state = {}, setState = undefined, onSuccess = undefined }) => {\n  const dispatch = useDispatch();\n  const stateStr = JSON.stringify(state);\n\n  const handleLogin = React.useCallback(\n    ({ forgotPassword, enterNewPassword, confirmationCode, newPassword, email, password }) => {\n      setState(prev => ({ ...prev, open: false, loading: true, showErrors: false, errors: {} }));\n      if (forgotPassword) {\n        if (enterNewPassword) {\n          Auth.forgotPasswordSubmit(email, confirmationCode, newPassword)\n            .then(data => {\n              alert('Successfully updated password.');\n              Auth.signIn(email, newPassword)\n                .then(user => {\n                  console.log('Login success!');\n                  dispatch({ type: 'LOGIN', auth: user });\n                  setState(prev => ({ ...prev, open: false, loading: false, errors: {} }));\n                })\n                .catch(err => {\n                  console.error('Error with Login');\n                  console.error(err);\n                  const newErrors = handleValidation({ message: err.message }, JSON.parse(stateStr));\n                  setState(prev => ({ ...prev, loading: false, showErrors: true, errors: newErrors }));\n                });\n            })\n            .catch(err => {\n              console.error('Error resetting password');\n              console.error(err);\n              const newErrors = handleValidation({ message: err.message }, JSON.parse(stateStr));\n              setState(prev => ({ ...prev, loading: false, showErrors: true, errors: newErrors }));\n            });\n        } else {\n          Auth.forgotPassword(email)\n            .then(data => {\n              alert('An email has been sent with instructions for resetting your password.');\n              setState(prev => ({ ...prev, loading: false, enterNewPassword: true }));\n            })\n            .catch(err => {\n              console.error('Error requesting reset');\n              const newErrors = handleValidation({ message: err.message }, JSON.parse(stateStr));\n              setState(prev => ({ ...prev, loading: false, showErrors: true, errors: newErrors }));\n            });\n        }\n      } else {\n        Auth.signIn(email, password)\n          .then(user => {\n            console.log('Login success!');\n            dispatch({ type: 'LOGIN', auth: user });\n            onSuccess && onSuccess();\n            setState(prev => ({ ...prev, open: false, loading: false, errors: {} }));\n          })\n          .catch(err => {\n            console.error('Error with Login');\n            console.error(err);\n            const newErrors = handleValidation({ message: err.message }, JSON.parse(stateStr));\n            setState(prev => ({ ...prev, loading: false, showErrors: true, errors: newErrors }));\n          });\n      }\n    },\n    [dispatch, onSuccess, setState, stateStr]\n  );\n\n  return { handleLogin };\n};\n\nexport const useResizeAppBar = () => {\n  const dispatch = useDispatch();\n  return React.useCallback(height => dispatch({ type: 'RESIZE_APPBAR', height }), [dispatch]);\n};\n\nexport const useAppBarHeight = (): number => {\n  return useSelector((state: AppState) => state.layout.appBarHeight);\n};\n\nexport const useResizeViewPort = () => {\n  const dispatch = useDispatch();\n  return React.useCallback(props => dispatch({ type: 'RESIZE_VIEWPORT', ...props }), [dispatch]);\n};\n\nexport const useHeight = (): number => {\n  return useSelector((state: AppState) => state.layout.height);\n};\n\nexport const useWidth = (): number => {\n  return useSelector((state: AppState) => state.layout.width);\n};\n\nexport const useDimensions = () => {\n  return [useHeight(), useWidth()];\n};\n\nexport const useAppBarHeightRef = () => {\n  let ref = React.useRef(null);\n  const { height } = useComponentSize(ref);\n  const resizeAppBar = useResizeAppBar();\n  React.useEffect(() => {\n    resizeAppBar(height);\n  }, [resizeAppBar, height]);\n  return ref;\n};\n\nexport const useHandleChangeRoute = () => {\n  const changeRoute = useChangeRoute();\n  return React.useCallback((route, state = undefined, search = undefined) => event => changeRoute(route, state, search), [changeRoute]);\n};\n\nexport const useChangeRoute = () => {\n  const { pathname } = useLocation();\n  const history = useHistory();\n  return React.useCallback(\n    (route: string, state: any = undefined, search: any = undefined) => {\n      if (pathname !== route && history) {\n        history.push({ pathname: publicUrl(route), search, state });\n      }\n    },\n    [history, pathname]\n  );\n};\n\nexport const useLayout = (): any[] => {\n  const dispatch = useDispatch();\n  const layout = useSelector((state: AppState) => state.layout, shallowEqual);\n  const setLayout = React.useCallback(\n    payload => {\n      dispatch({ type: 'UPDATE_LAYOUT', payload });\n    },\n    [dispatch]\n  );\n  return [layout, setLayout];\n};\n\nexport const useLeftDrawer = (): any[] => {\n  const { pathname } = useLocation();\n  const [{ leftDrawerOpen }, setLayout] = useLayout();\n  const { layout }: any = useTheme();\n  const fullScreen = useFullScreen();\n  const { drawerPaths } = layout;\n  const parts = (homepage ?? '').split('/');\n  const lastPart = (parts.length > 0 ? parts[parts.length - 1] : '').replace('/', '');\n  const leftDrawerEnabled = drawerPaths.find(p => p === pathname || `/${lastPart}/${p}` === pathname) ? true : false;\n  const setLeftDrawerOpen = React.useCallback((open = !leftDrawerOpen) => setLayout({ leftDrawerOpen: open }), [setLayout, leftDrawerOpen]);\n  return [leftDrawerEnabled && (fullScreen ? leftDrawerOpen : true), setLeftDrawerOpen, leftDrawerEnabled];\n};\n","import React from 'react';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport { Stepper, Step, StepLabel, Box } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport { useHandleChangeRoute } from './hooks';\nimport { useLocation } from 'react-router';\nimport Header from '../layout/Header';\nimport DialogButton from '../application/GenericDialog/DialogButton';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: '100%'\n    },\n    button: {\n      marginTop: theme.spacing(1),\n      marginRight: theme.spacing(1)\n    },\n    actionsContainer: {\n      marginBottom: theme.spacing(2)\n    },\n    resetContainer: {\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2)\n    },\n    container: {\n      marginTop: 8,\n      marginBottom: 8\n    },\n    header: {\n      color: theme.palette.primary.dark\n    }\n  })\n);\n\nexport const steps = [{ label: 'Pre-Survey' }, { label: 'Lesson' }, { label: 'Post-Survey' }, { label: 'Resources' }];\n\nexport default function VerticalLinearStepper() {\n  const classes = useStyles();\n  const [activeStep, setActiveStep] = React.useState(0);\n  const { pathname } = useLocation();\n\n  React.useEffect(() => {\n    var idx = steps.findIndex(s => pathname.endsWith(`/${s.label}`));\n    if (idx !== activeStep && idx >= 0) setActiveStep(idx);\n  }, [activeStep, pathname]);\n\n  /*const handleNext = () => {\n    setActiveStep(prevActiveStep => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setActiveStep(prevActiveStep => prevActiveStep - 1);\n  };*/\n\n  const handleReset = () => {\n    setActiveStep(0);\n  };\n\n  const changeRoute = useHandleChangeRoute();\n\n  return (\n    <>\n      <Box p={1}>\n        <DialogButton variant='link' linkVariant='subtitle1' onClick={changeRoute('/Classes')}>\n          {`<  Back to Classes`}\n        </DialogButton>\n        <Box mt={2}>\n          <Header supertitle={'Class 3'} subtitle={'Managing Responsibilities'} />\n        </Box>\n      </Box>\n      <Stepper activeStep={activeStep} orientation='vertical'>\n        {steps.map(({ label }, index) => (\n          <Step key={label}>\n            <StepLabel onClick={changeRoute(`/${label}`)}>{label}</StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n      {activeStep === steps.length && (\n        <Paper square elevation={0} className={classes.resetContainer}>\n          <Typography>All steps completed - you&apos;re finished</Typography>\n          <Button onClick={handleReset} className={classes.button}>\n            Reset\n          </Button>\n        </Paper>\n      )}\n    </>\n  );\n}\n","import { updateState } from '../../../helpers';\n\nexport const defaultDialogState = {\n  open: false,\n  type: 'add',\n  errors: {},\n  showErrors: false,\n  submitting: false,\n  initialValues: {}\n};\n\nconst initialState = {\n  'Getting Started': { open: true }\n};\n\nexport const updateDialog = (id, payload) => ({ type: 'UPDATE_DIALOG', id, payload });\n\nexport function reducer(state = initialState, action) {\n  switch (action.type) {\n    case 'UPDATE_DIALOG':\n      return updateState(state, action);\n    case 'LOGOUT':\n      return initialState;\n    default:\n      return state;\n  }\n}\n","import { useTheme, useMediaQuery } from '@material-ui/core';\nimport { useSelector } from 'react-redux';\nimport { adminUsers } from '../package.json';\nimport { useLayout, useUserEmail } from './components/layout/hooks';\n\nexport const useFullScreen = (size = 'sm' as any) => {\n  const theme = useTheme();\n  return useMediaQuery(theme.breakpoints.down(size));\n};\n\nexport const useContentPadding = () => {\n  const fullScreen = useFullScreen();\n  const { layout } = useTheme();\n  return fullScreen ? layout.contentpadding_xs : layout.contentpadding;\n};\n\nexport const useSignedIn = () => {\n  const isEmpty = useSelector((s: any) => s.layout.auth === undefined);\n  const isLoaded = useSelector((s: any) => s.layout.auth !== undefined);\n  return isLoaded && !isEmpty ? true : false;\n};\n\nexport const useIsAdmin = () => {\n  const signedIn = useSignedIn();\n  const email = useUserEmail();\n  const adminEmails = adminUsers.split(',');\n  return signedIn && adminEmails.findIndex(ae => ae.trim().toLowerCase() === email.trim().toLowerCase()) > -1 ? true : false;\n};\n\nexport const useIsAdminMode = () => {\n  const isAdmin = useIsAdmin();\n  const [{ admin }] = useLayout();\n  return isAdmin === true && admin === true ? true : false;\n};\n\nexport const useIsInstructorMode = () => {\n  const [{ instructor }] = useLayout();\n  return instructor !== undefined;\n};\n\nexport const useIsStudentMode = () => {\n  const [{ student }] = useLayout();\n  return student !== undefined;\n};\n\nexport const useUserType = () => {\n  const isAdmin = useIsAdminMode();\n  const isInstructor = useIsInstructorMode();\n  const isStudent = useIsStudentMode();\n  return isAdmin ? 'Admin' : isInstructor ? 'Instructor' : isStudent ? 'Student' : 'Unknown';\n};\n\nexport const getUrlParamater = paramName => {\n  var sPageURL = window.location.search.substring(1),\n    sURLVariables = sPageURL.split('&'),\n    sParameterName,\n    i;\n\n  for (i = 0; i < sURLVariables.length; i++) {\n    sParameterName = sURLVariables[i].split('=');\n\n    if (sParameterName[0] === paramName) {\n      return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);\n    }\n  }\n  return undefined;\n};\n","module.exports = __webpack_public_path__ + \"static/media/Montserrat-Regular.6e5293f1.woff2\";","module.exports = __webpack_public_path__ + \"static/media/archivo-v7-latin-regular.1311922f.woff2\";","import React from 'react';\nimport { makeStyles, Button } from '@material-ui/core';\n\nconst useStyles = makeStyles(({ palette, spacing }) => ({\n  primaryRoot: ({ width }: any) => ({\n    width,\n    color: palette.secondary.dark,\n    background: '#F1C30A',\n    borderRadius: 20,\n    borderColor: '#F1C30A',\n    '&:hover': {\n      opacity: '85%',\n      color: palette.secondary.dark,\n      background: '#F1C30A',\n      borderColor: '#F1C30A'\n    },\n    '&:disabled': {\n      opacity: '85%',\n      color: palette.common.white,\n      borderColor: palette.secondary.main,\n      background: palette.secondary.main\n    }\n  }),\n  primaryPressed: ({ width }: any) => ({\n    width,\n    color: palette.common.white,\n    background: palette.secondary.dark,\n    borderColor: palette.secondary.dark,\n    borderRadius: 20,\n    '&:hover': {\n      opacity: '85%',\n      color: palette.common.white,\n      borderColor: palette.secondary.dark,\n      background: palette.secondary.dark\n    }\n  }),\n  secondaryRoot: ({ width }: any) => ({\n    width,\n    color: palette.primary.main,\n    background: palette.common.white,\n    borderColor: palette.primary.main,\n    borderRadius: 20,\n    '&:hover': {\n      opacity: '85%',\n      borderColor: palette.primary.light,\n      color: palette.primary.light,\n      background: palette.common.white\n    },\n    '&:disabled': {\n      opacity: '85%',\n      color: palette.secondary.main,\n      background: palette.common.white\n    }\n  }),\n  secondaryPressed: ({ width }: any) => ({\n    width,\n    color: palette.secondary.dark,\n    background: palette.common.white,\n    borderColor: palette.secondary.dark,\n    borderRadius: 20,\n    '&:hover': {\n      opacity: '85%',\n      color: palette.secondary.dark,\n      borderColor: palette.secondary.dark,\n      background: palette.common.white\n    }\n  }),\n  textRoot: ({ width }: any) => ({\n    width,\n    color: palette.primary.main,\n    '&:hover': {\n      opacity: '85%',\n      color: palette.primary.light\n    },\n    '&:disabled': {\n      opacity: '85%',\n      color: palette.secondary.main\n    }\n  }),\n  textPressed: ({ width }: any) => ({\n    width\n  }),\n  text: {},\n  pressed: {},\n  disabled: {\n    color: palette.common.white,\n    background: palette.common.white\n  }\n}));\n\nexport type StyledButtonVariant = 'primary' | 'secondary' | 'text';\n\nexport default function StyledButton({\n  disabled = undefined,\n  pressed = undefined,\n  width = undefined,\n  variant = 'primary' as StyledButtonVariant,\n  size = 'large' as any,\n  Icon = undefined,\n  children,\n  ...other\n}) {\n  const classes = useStyles({ width });\n  const rootClass = classes[`${variant}Root`];\n  const pressedClass = classes[`${variant}Pressed`];\n\n  const className = pressed ? pressedClass : rootClass;\n  return (\n    <Button disabled={disabled} color='default' variant={variant === 'text' ? variant : 'contained'} size={size} className={className} {...other}>\n      {Icon && <Icon />}\n      {variant === 'text' ? <u>{children}</u> : children}\n    </Button>\n  );\n}\n","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAYAAABxlTA0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAnNSURBVHgB7Z1rbBTXGYbfM7uz3rGN7bUTkpKQEoiqNkCKiqMmpERJK3FppUJ/BBxVKkRFtJVSBEhJpKiV+NFWClGJ1CCREBBEaiuHJJL7pxFIbdNWENQ4FQkGiSghxiY2IjFe76734t2Zk/Mdexevd9ZrvGcuhn2k8c7NMzvvfvOe75wzFwYH2blzZ8torn4LmLURYCsA3gJfwKIc/IxmsaOaaf37lVde6IVDMDjE9qef3chZ4Ih/RLVHCNBrcmvX4f17u+AAATjA9h3P7eHQDojRMPxPC2Os4zvfXTXy//+dPA3FKI/gbU8/95j4wv+CCpY/CiRGgM8+lJPpdBqmaRatEggEUFdXB7FPVAvn/PFD+194FwoJQjGaxo5wjuq599vAskfHx4evYOxqP1KpZNnVw+HqTxaNsSO0ZyhEg0IoeoW4i6CC0ej4ZzYth0Cg/FcVPypUIOJiER0DFKI0gjWmbeBQEb6Cq5eAt14cH89mhMBBtLRE6DQu3a+mLk7Eb7VBfLwLRSgVWIi7AioRwk6GfFaF106HBUVn4ARKLeKmgDOlaaXyQi7PigeWYS5x5qMeOIFjAv/kx+sxl3BK4JpFOExNYIepCewwNYEdxrFCTgXMiiEwcgxa5jwCmXNgZkzOt/S7wQNNMBvXwTQeBhfTfsWXAgeS70Ef2odAyr5xK5C7LD+DiRPy0zQeQrZtN8z6h+E3fGURFLF1n29D+PKmsuLaQevS/4Su7AbLXoaf8I3AWrYfRu9aBEePY7bosTel0H4S2RcCk7jhfiFMrnph5LZ8JLLnApMtqBI3T0FkKwav8Vzg0NU9SsXNQyLrX74Er/E0iyARgsI3y/EpewQ9bB0GsBzXsBDDbKGcH+H9aEUfFqAHy/g7WMJP2f6/Hj0kUrk1nmYXngqsD9lH2PusA/9lv8AAW2q7nIQeFoJ/ikfkehH0Y431Ih7knSXrBqOHb02BqdIwNXqvCeHeYC+LyF1Vsv541PbL8RSahPjXm0NJ7De0P6Gbb8ZmvgOtvL+wjHJq8mKuNcELPBM4kHqvaPpzIdgBrQtpXBdiCT+J1dZB3IeTCKO4wKL1eth6Ee1PFn4QspQDrAtPWT/DAn5OzpO1wcRx5JqegBd4JrCWvC5wCs1F4rbyPmy2dmAJTknRjrNnCj4sl0/y319ZG8WyZTiqHRVnwD0ymmlbz5srYUz8KFqGxL7FBGa5/uLpic7SdqsTG/lvMCTEomi0s4vJ/ktRTrawy/qBtAmK6qn9rl7mxJ56cB4DI9htfh+fCNEeRCe6tc3oYr8vsgsiMuGt+WyCoAj/A/sAHdavsdXaIuJ6vfRqY5KleJkP+6axhzIBEpcKuk5R0OW5i5/F96zXhEH8veDDef89IayDbIHo1F7GEvOUMIt34Cc8E5jrIgptGnQMHpMRTb682noVG/hvpej/obRNyEcZBPnvan4Qz1vtUuQT2jPi/0bK78ujDILwTGCz7n7bneftggQmIUk8EnEyef9dw/fK/Jci9y6cLck08lhiX17hWVWZ1y0tu4zsgsQlf50q7mROsGdFVC8V2cbJsuISXlY0PBOYDrrSqbuA98iIJtZYe/E78z45UNQSZAsGpi/ALGFFlnGLVpWzkZ8jNFS+QSZvFwRFNdkF5WCyWmx2yuXhCgJTb4eXeCpwrmUb9OHD06ZRkYnqcQ/7YcEuWtlltNu0O0yFzhDqSvIST5srqeMy27ZrRutShYJqeGQLND4TspFtnneIep4Hkwha8nTFriJpF9a4XVSyBSLXsHbGP56T+KLLaOzOfSKVWlpxPRJ2JuLStsa+tg9+wBcCk1Wk7z6mpMWLtpFeeMzTysVkfNOrTCJnRCRn7vgjePDGfZMEzdy+R27DL+ISvrvwJNe8CZbIkak5k1K4Sv11VIhlmzYhJ1I+Pwmbx5dX9sjKQfNCKTa15Wrpc1LogthCSKr+ktfOxLu9xNfXphFzQcTpqF1d6TA1gR2mJrDD1AR2GNcKucRoCqPJFKrBMMJoaqy3XRYK6ZjXYIBa2+LxJPoHvyhaTjeNNzc1QA+6W667trdkKgPTtFANiUTSVmC6j7m1ubFwF2hbazNMy0L/wHWRad9D10ZwW1sLggFHnuJgi2sC14voS6XS4Hz2IjfICC3FCJc+zqAt0lQkMGFZHJnMGIL19ttxAtcEbmwIy8EJ7G4Qz5U5Wxhzt9hxTeC0iJykiGCKonLM1iNTwn4ajDrps3nIDqYiH94hvNpNXBM4JgqeXC437TrksZGWG29PsEQEDw3HUV8fpodqiPGYLFTJlvKQTzcKi3H6bv2puOrBsXii7HI68FAV0UWFWjwx/kSUYDCAFlHo+YGbwoP9TK2i4TCuRTD5JD0xarpCrhK6HpQeW46UOSyHyYQC9WgM3YYAQlXn4bPBNYGHo3GZg1aDrgdwe1vEdtkno//AxeQ/i+Y1htqwdtEuNOptcno0mUYskYSbuGYRXMGzvqwyAXg1c75EXOLxhb8siEs0iCwjpN+kVeVI8zyZB1dDuC5kOz+eG7Sd3xou7dujTGUsO326qBLXBKY81DDKZxH07DNtljlqJLRYNHaURvCV0Y9xZ8M3iuZlc+6JS7gmcDQ2imSF1jSqyTXMop2gVb8X9xir0Jcqvl/u/StvjttEaNwmKE/OZLJwE9cEzmQyFddJp8dmJTDxzcYf4ev1q5A2o0Xz+77oxR31IZnBmNZNnEVQFTiZnN6D55Vp650phhaRw1TGsu5G7WRcE5hK75BPqq9uUqvJOUxNYIepCewwNYEdxrFC7qX9r6KGgwJHo94/zsUP1CzCYXx/dWWeoOgMnT9/PrKi0pBIJERHZ3UXsbjFnBDYMAy0t7cX3jRAr3vo7u6eEyIrtYhczoQTLF68uOg1DjRO85yAc7XHoFhgZ5oCgzbXSqh4b4Yd1fa6TEWpwOl0SknPxVTi8XjJvIGBAThBNlu51e9GUCowiZvJVNdrYcfFixfR19cnx+ksuXTpEgYHB6Eau1f5VIvyQo6+pK7r8sUiKrlw4YIcnMKyTHkGqkZtHswQpSimNMo03e2aqQb6rmRDTtib4gjmvfTXEj0HsVhMviWLCiNNc+963BuBBKWopbOuAGNnoBC1AnPtb0LenflJ6iaiIRjU5ZWNbl94Vw4uL4LJ2WY9DFzpi/uUH/ETP93+GWdq3wfkFkL33rf/ctC/rzsjONOewhxF0/hWKEa5OZ7/qLv3/uUrR8S5sQ5zCmvPW38+9DoU40jpc/7sB6e/9cDKDzWOh4TQvn5pqjjnotxkT77919ccacB2tNTp6Ni6yNT0x7imbRERskLszidic7p44ow4+K5sIvt6V9fRKBziK++xswp3BAGuAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","import React from 'react';\nimport {\n  Button,\n  IconButton,\n  Tooltip,\n  Grid,\n  Typography,\n  Fab,\n  useTheme,\n  ListItem,\n  ListItemText,\n  makeStyles,\n  createStyles,\n  Badge,\n  withStyles,\n  Link,\n  MenuItem\n} from '@material-ui/core';\nimport { useDialogState } from './useDialogState';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { checkEmpty, evalFunc } from '../../../helpers';\nimport { useTableFilterValues } from '../GenericTable/store';\nimport * as Icons from '@material-ui/icons';\nimport { useFullScreen } from '../../../hooks';\nimport StyledButton from '../../general/StyledButton';\n\nexport interface DialogModuleProps {\n  default: any;\n  title: string;\n  props?: any;\n}\n\nexport const renderDialogModule = ({ default: Dialog, title, ...props }) => Dialog && <Dialog id={title} {...props} />;\n\nexport const EditDialogButton = ({\n  variant = 'iconbutton',\n  placement = 'left',\n  tooltip = 'Edit',\n  mount = false, // Default to false, as most edit buttons are within the table rows, which get remounted in various scenaries (layout resizing etc)\n  ...other\n}) => <DialogButton variant={variant} Icon={EditIcon} type='Edit' tooltip={tooltip} placement={placement} mount={mount} {...other} />;\n\nconst StyledBadge = withStyles(theme =>\n  createStyles({\n    badge: {\n      top: 7,\n      right: 6,\n      border: `1px solid ${theme.palette.background.paper}`\n    }\n  })\n)(Badge);\n\nexport const TableFilterDialogButton = ({ table, Module, Icon = Icons.FilterList, tooltip = 'Filter Results' }) => {\n  const [values, setValues] = useTableFilterValues(table);\n  const {\n    Features = [],\n    Engagements = [],\n    Inputs = [],\n    Outputs = [],\n    Functionalities = [],\n    Conditions = [],\n    Platforms = [],\n    Cost = [],\n    Privacy = [],\n    Uses = [],\n    DeveloperTypes = [],\n    ClinicalFoundations = []\n  } = values as any;\n  const filterCount = [\n    Features,\n    Engagements,\n    Inputs,\n    Outputs,\n    Functionalities,\n    Conditions,\n    Platforms,\n    Cost,\n    Privacy,\n    Uses,\n    DeveloperTypes,\n    ClinicalFoundations\n  ].reduce((t, c) => (t = t + c.length), 0);\n\n  const handleReset = React.useCallback(() => setValues({}), [setValues]);\n  const fullScreen = useFullScreen();\n\n  return (\n    <StyledBadge badgeContent={filterCount} color='error' overlap='circle' anchorOrigin={{ horizontal: 'right', vertical: 'bottom' }}>\n      <DialogButton\n        Module={Module}\n        Icon={Icon}\n        tooltip={filterCount === 0 ? tooltip : `${filterCount} Filters Active`}\n        table={table}\n        values={values}\n        setValues={setValues}\n        onReset={handleReset}\n      >\n        {!fullScreen && 'Filter'}\n      </DialogButton>\n    </StyledBadge>\n  );\n};\n\n// Pass a dialog via Module.  If dialog is mounted elsewhere, set mounted = false to prevent duplicate mounts\nexport interface DialogButtonProps {\n  id?: string;\n  Module?: DialogModuleProps;\n  type?: 'Add' | 'Edit' | 'View';\n  tooltip?: string;\n  placement?: any;\n  color?: any;\n  variant?: string;\n  Icon?: any;\n  initialValues?: object;\n  children?: any;\n}\n\nconst useStyles = makeStyles(({ palette, spacing }: any) =>\n  createStyles({\n    margin: {\n      margin: spacing(1)\n    },\n    listitem: {\n      padding: 8,\n      paddingLeft: 16,\n      paddingRight: 8,\n      background: 'inherit',\n      '&:hover': {\n        color: palette.common.white,\n        background: palette.primary.main\n      }\n    }\n  })\n);\n\nconst DialogButton = React.forwardRef(function DialogButton(\n  {\n    id: Id = undefined,\n    Module = undefined,\n    type = 'Add',\n    tooltip = '',\n    placement = 'bottom',\n    color = 'primary',\n    variant = 'fab',\n    underline = 'hover',\n    linkVariant = 'caption',\n    styledVariant = undefined,\n    size = 'small',\n    label = '',\n    disabled = undefined,\n    Icon = undefined,\n    initialValues = {},\n    noGrid = true,\n    mount = true,\n    onSubmit = undefined,\n    onClick = undefined,\n    onClose = undefined,\n    onChange = undefined,\n    onReset = undefined,\n    values = undefined,\n    setValues = undefined,\n    className = undefined,\n    disabledColor = undefined,\n    fullWidth = undefined,\n    children,\n    ...other\n  }: DialogButtonProps & any,\n  ref\n) {\n  const classes = useStyles({});\n  const theme = useTheme();\n  const fullScreen = useFullScreen();\n  const id = Id ? Id : Module && Module.title;\n  const [, setDialogState] = useDialogState(id);\n  const [anchorEl, setAnchorEl] = React.useState<HTMLButtonElement | null>(null);\n\n  const other_s = JSON.stringify(other);\n  const handleUpdate = React.useCallback(() => {\n    setDialogState({\n      type,\n      open: true,\n      initialValues: evalFunc(initialValues),\n      ...JSON.parse(other_s)\n    });\n  }, [setDialogState, other_s, initialValues, type]);\n\n  const handleClose = React.useCallback(() => {\n    setAnchorEl(null);\n    onClose && onClose();\n  }, [onClose, setAnchorEl]);\n\n  const handleClick = React.useCallback(\n    event => {\n      setAnchorEl(event.currentTarget);\n      onClick && onClick(event);\n      handleUpdate();\n    },\n    [onClick, handleUpdate]\n  );\n\n  const shared = {\n    disabled,\n    onClick: handleClick,\n    size,\n    className\n  };\n\n  const wrapGrid = Content =>\n    !noGrid ? (\n      <Grid key={tooltip} item>\n        {Content}\n      </Grid>\n    ) : (\n      Content\n    );\n\n  return wrapGrid(\n    <>\n      {mount && Module && renderDialogModule({ ...Module, anchorEl, onClose: handleClose, onChange, onReset, values, setValues, onSubmit })}\n      <Tooltip\n        placement={placement}\n        title={\n          disabled ? (\n            ''\n          ) : checkEmpty(tooltip) ? (\n            tooltip\n          ) : (\n            <Typography variant='h6' color='inherit'>\n              {tooltip}\n            </Typography>\n          )\n        }\n      >\n        <span>\n          {variant === 'styled' ? (\n            <StyledButton\n              variant={styledVariant}\n              fullWidth={fullWidth}\n              width={fullWidth ? undefined : fullScreen ? 64 : 120}\n              disabled={disabled}\n              onClick={handleClick}\n              size={size}\n            >\n              {Icon && <Icon />}\n              {(Icon === undefined || !fullScreen) && <div style={{ marginLeft: 4, marginRight: 4 }}>{children}</div>}\n            </StyledButton>\n          ) : variant === 'menuitem' ? (\n            <MenuItem key={label} {...shared}>\n              {children}\n            </MenuItem>\n          ) : variant === 'listitem' ? (\n            <ListItem key={label} button={true} className={classes.listitem} {...shared}>\n              <ListItemText primary={label} />\n            </ListItem>\n          ) : variant === 'iconbutton' ? (\n            <IconButton className={classes.margin} color={color} {...shared}>\n              {Icon && <Icon fontSize='large' />}\n            </IconButton>\n          ) : variant === 'primarycontained' ? (\n            <Button color='primary' variant='contained' {...shared}>\n              {children}\n            </Button>\n          ) : variant === 'text' ? (\n            <Button\n              color='secondary'\n              style={{\n                width: 48,\n                height: 48\n              }}\n              variant={variant}\n              {...shared}\n            >\n              {Icon && <Icon style={{ margin: -4 }} />}\n            </Button>\n          ) : variant === 'contained' ? (\n            <Button fullWidth={true} variant={variant} color={color as any} {...shared}>\n              {children}\n            </Button>\n          ) : variant === 'standard' ? (\n            <Button color={color as any} {...shared}>\n              {children}\n            </Button>\n          ) : variant === 'link' ? (\n            disabled ? (\n              <Typography color='textSecondary' variant='caption'>\n                {children}\n              </Typography>\n            ) : (\n              <Link color={color} variant={linkVariant} underline={underline} style={{ cursor: 'pointer' }} {...shared}>\n                {children}\n              </Link>\n            )\n          ) : (\n            <Fab\n              size={size}\n              variant='extended'\n              color={color}\n              style={{\n                color: disabled ? (disabledColor ? disabledColor : theme.palette.primary.light) : theme.palette.common.white\n              }}\n              {...shared}\n            >\n              {Icon && <Icon />}\n              {children && <div style={{ marginLeft: Icon ? 4 : 0, marginRight: !fullScreen ? 4 : 0 }}>{children}</div>}\n            </Fab>\n          )}\n        </span>\n      </Tooltip>\n    </>\n  );\n});\n\nexport default DialogButton;\n","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","import * as React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { AppState } from '../../../store';\nimport { defaultDialogState, updateDialog } from './store';\n\nexport const useDialogState = id => {\n  const dispatch = useDispatch();\n  const dialogState = useSelector((state: AppState) => state.dialog[id] || defaultDialogState);\n  const setDialogState = React.useCallback(payload => dispatch(updateDialog(id, payload)), [id, dispatch]);\n  return [dialogState, setDialogState];\n};\n","import { AppState } from './store';\nimport { theme } from './constants';\nimport packageJson from '../package.json';\nimport { v4 as uuidv4 } from 'uuid';\n\nexport function hostAddress(append?) {\n  return (\n    window.location.protocol + '//' + window.location.hostname + (window.location.port ? ':' + window.location.port : '') + (append !== undefined ? append : '')\n  );\n}\n\nexport const debugSettings = {\n  debugoutput: false,\n  logviewport: false,\n  logrender: true,\n  logmapping: false,\n  logreducer: false,\n  logselectors: false,\n  logform: true,\n  logformupdates: true,\n  debugfieldonhover: false\n};\n\nexport function printHeader() {\n  console.log(\n    `%c\n\n██████╗  ██████╗  ██████╗ ██████╗ ███████╗\n██╔══██╗██╔═══██╗██╔═══██╗██╔══██╗██╔════╝\n██║  ██║██║   ██║██║   ██║██████╔╝███████╗\n██║  ██║██║   ██║██║   ██║██╔══██╗╚════██║\n██████╔╝╚██████╔╝╚██████╔╝██║  ██║███████║\n╚═════╝  ╚═════╝  ╚═════╝ ╚═╝  ╚═╝╚══════╝ \n\nHost: ${hostAddress()}\n\nEnvironment: ${process.env.NODE_ENV}\nVersion: ${packageJson.version}\n                         \n`,\n    'font-family:monospace;color:' + theme.palette.primary.main + ';font-size:12px;'\n  );\n}\n\nexport function getViewPortHeight(state: AppState) {\n  return state.layout.height;\n}\n\nexport function getLayoutHeight(state: AppState) {\n  return getViewPortHeight(state);\n}\n\nexport const setIfEmpty = value => (value === undefined || value === null ? '' : value);\nexport const checkEmpty = value => value === undefined || value === null || value === '' || (Array.isArray(value) && value.length === 0);\nexport const undefinedIfEmpty = value => (checkEmpty(value) ? undefined : value);\nexport const isDefined = value => value !== undefined && value !== null;\nexport const hasChanged = (current, initial) => JSON.stringify(current) !== JSON.stringify(initial);\n\nexport const getKey = ({ container, object, id }: any) => [container, object, id].filter(v => !checkEmpty(v)).join('.');\n\nexport function validateEmail(email) {\n  return /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\n    String(email).toLowerCase()\n  );\n}\n\nexport function validateHttpUrl(url) {\n  return /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w.-]+)+[\\w\\-._~:/?#[\\]@!$&'()*+,;=.]+$/.test(String(url).toLowerCase());\n}\n\nexport function capitalize(s) {\n  if (typeof s !== 'string') return '';\n  return s.charAt(0).toUpperCase() + s.slice(1);\n}\n\nexport const uncapitalize = s => {\n  if (typeof s !== 'string') return '';\n  return s.charAt(0).toLowerCase() + s.slice(1);\n};\n\nexport function copyToLower(obj = {}) {\n  var key,\n    keys = Object.keys(obj);\n  var n = keys.length;\n  var newobj = {};\n  while (n--) {\n    key = keys[n];\n    newobj[uncapitalize(key)] = obj[key];\n  }\n  return newobj;\n}\n\nexport const isTrue = value => value === 1 || value === '1' || value === true || value === 'true';\nexport const isFalse = value => value === 0 || value === '0' || value === false || value === 'false';\n\n// Converts a string, number or boolean to boolean with default false\nexport const bool = x =>\n  typeof x === 'boolean'\n    ? x\n    : typeof x === 'number'\n    ? x === 1\n      ? true\n      : false\n    : typeof x === 'string'\n    ? x === '1'\n      ? true\n      : x.toLowerCase() === 'true'\n      ? true\n      : false\n    : false;\n\n// If a function, then return the result of the function call with props passed in.  Else return the value\nexport const evalFunc = (value, props = undefined) => (typeof value === 'function' ? value(props) : value);\n\nexport const emptyUndefined = value => (value === false || value === null ? undefined : value);\nexport const isError = value => (value === undefined || value === null || value === '' ? false : true);\n\nexport const copyDeleteKey = (key, obj) => deleteKey(key, { ...obj });\n\nexport const deleteKey = (key, obj) => {\n  delete obj[key];\n  return obj;\n};\n\nexport const getLabel = f => (f.label === null ? undefined : f.label !== undefined ? f.label : f.id);\n\nexport function spread(final, current) {\n  return { ...final, ...current };\n}\n\nexport function isEmpty(str) {\n  return !str || 0 === str.length;\n}\n\nexport function triggerResize() {\n  window.dispatchEvent(new CustomEvent('resize')); //Makes the indicator start animating\n  setTimeout(() => window.dispatchEvent(new CustomEvent('resize')), 200); //Ensures the animation resized correctly after the drawer finishes opening/closing\n}\n\nexport function randomInt(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nexport const publicUrl = path => process.env.PUBLIC_URL + path;\n\nexport function updateState(state, { payload, id }) {\n  const data = evalFunc(payload, state[id]);\n  var newState = { ...state };\n  newState[id] = data;\n  if (state && state[id]) {\n    newState[id] = data;\n  }\n  return newState;\n}\n\nexport function uuid() {\n  return uuidv4();\n}\n\n//returns milliseconds from Jan 1 1970\nexport function getTime() {\n  return Date.now();\n}\nexport function getIsoDateString(timestamp?: number) {\n  var d = new Date(0);\n  d.setUTCMilliseconds(timestamp || getTime());\n  return d.toISOString();\n}\n\nexport function getDateFromTimestamp(milliseconds): string {\n  //UTC timestamp is milliseconds since Jan 1 1970\n  var d = new Date(0); // The 0 there is the key, which sets the date to the epoch\n  //utc time\n  d.setUTCMilliseconds(milliseconds);\n  return mmddyyyy(d);\n}\n\nexport function getTimeFromTimestamp(milliseconds): string {\n  //UTC timestamp is milliseconds since Jan 1 1970\n  var d = new Date(0); // The 0 there is the key, which sets the date to the epoch\n  //utc time\n  d.setUTCMilliseconds(milliseconds);\n  return getHoursMinutes(d);\n}\n\nfunction addZero(i) {\n  if (i < 10) {\n    i = '0' + i;\n  }\n  return i;\n}\n\nexport function getHoursMinutes(date) {\n  var h = addZero(date.getHours());\n  var m = addZero(date.getMinutes());\n  return h + ':' + m;\n}\n\nexport function yyyymmdd(date?: Date) {\n  date = date ? date : new Date(); //If we don't pass a date in, then create it\n\n  var mm = date.getMonth() + 1; // getMonth() is zero-based\n  var dd = date.getDate();\n\n  return [date.getFullYear(), (mm > 9 ? '' : '0') + mm, (dd > 9 ? '' : '0') + dd].join('-');\n}\n\nexport function mmddyyyy(date) {\n  var mm = date.getMonth() + 1; // getMonth() is zero-based\n  var dd = date.getDate();\n\n  return [(mm > 9 ? '' : '0') + mm, (dd > 9 ? '' : '0') + dd, date.getFullYear()].join('/');\n}\n\nexport function getDateForInput(date) {\n  //should be in this format: 2019-01-02\n  return yyyymmdd(date);\n}\n\n// Returns minutes elapsed from time to current time\nexport function minutesFrom(time) {\n  var current = new Date().getTime();\n  var diff = (current - time) / 60000; //converts milliseconds to elapsed minutes\n  return diff > 0 ? diff : 0;\n}\n\nexport function minutesToTimeAgo(minutes) {\n  var d = Math.floor(minutes / 1440);\n  var h = Math.floor(minutes / 60);\n  var m = Math.floor(minutes % 60);\n  var ret = '';\n  if (d > 0) {\n    ret = ret + d + 'd ';\n  }\n  if (h > 0 || d > 0) {\n    ret = ret + h + 'h ';\n  }\n  if (m >= 0 || h > 0 || d > 0) {\n    ret = ret + m + 'm ';\n  }\n  if (ret !== '') ret = ret + 'ago';\n  return ret;\n}\n\nexport const timeAgo = time => (time ? minutesToTimeAgo(minutesFrom(time)) : '');\n\nexport function sortDescending(a = 0, b = 0) {\n  if (a < b) return 1;\n  if (a > b) return -1;\n  return 0;\n}\n\nexport function sortAscending(a = 0, b = 0) {\n  if (a < b) return -1;\n  if (a > b) return 1;\n  return 0;\n}\n\nexport const getAndroidIdFromUrl = (url: string) => {\n  var searchStr = '?id=';\n  var index = (url as string)?.indexOf(searchStr);\n  if (index >= 0) {\n    var indexEnd = url.indexOf('&', index);\n    return url.substring(index + searchStr.length, indexEnd >= 0 ? indexEnd : undefined);\n  }\n};\n\nexport const getAppleIdFromUrl = (url: string) => {\n  var searchStr = '/id';\n  var index = (url as string)?.indexOf(searchStr);\n  if (index >= 0) {\n    var indexEnd = url.indexOf('&', index);\n    return url.substring(index + searchStr.length, indexEnd >= 0 ? indexEnd : undefined);\n  }\n};\n\nexport function onlyUnique(value, index, self) {\n  return self.indexOf(value) === index;\n}\n\nfunction dayAbbrOfWeek(dayIndex) {\n  return ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'][dayIndex];\n}\n\nfunction monthAbbrOfYear(monthIndex) {\n  return ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'June', 'July', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'][monthIndex];\n}\n\nfunction nth(d) {\n  if (d > 3 && d < 21) return 'th';\n  switch (d % 10) {\n    case 1:\n      return 'st';\n    case 2:\n      return 'nd';\n    case 3:\n      return 'rd';\n    default:\n      return 'th';\n  }\n}\n\nexport function getDayTimeFromTimestamp(timestamp: number) {\n  var d = new Date(0); // The 0 there is the key, which sets the date to the epoch\n  d.setUTCMilliseconds(timestamp); //utc time\n  var day = dayAbbrOfWeek(d.getDay());\n  var year = d.getDate() + nth(d.getDate());\n  var h = d.getHours();\n  var m = addZero(d.getMinutes());\n  var isPM = h > 12 ? true : false;\n  h = isPM ? h - 12 : h === 0 ? 12 : h; //If PM, subtract 12.  If we are 0 or midnight, then set to 12, otherwise use the normal hour index\n  var month = monthAbbrOfYear(d.getMonth());\n\n  return `${day} ${month} ${year} ${h}:${m} ${isPM ? 'PM' : 'AM'}`;\n}\n\n// Accepts a single paramater which is one or more emails separated\n// by space,comma,semicolon,tab, or newline.\n// Returns an array of tokens that should be emails\n// Does not validate emails to see if they are well formed.\nexport function parseEmails(emails) {\n  return isEmpty(emails) ? [] : emails.toLowerCase().split(/[\\s,;\\t\\n]+/);\n}\n\nexport const getClassTitle = ({ headline, name }) => [headline, name].filter(x => !isEmpty(x)).join(' - ');\n\nexport const getStudentName = ({ student, profile }) => profile?.name ?? student?.email ?? 'Unknown Name';\n","import { AppState } from '../../../store';\nimport { GenericTableContainerProps } from './GenericTableContainer';\nimport * as TableStore from './store';\nimport { isEmpty, spread } from '../../../helpers';\n\n///////////////////////////////////////////\n/////////////// Table Sorters  ////////////\n//////////////////////////////////////////\n\nexport type SortComparator = 'text';\nconst sortComparators = {\n  text: desc\n};\n\n///////////////////////////////////////////\n/////////////// Table Filters ////////////\n//////////////////////////////////////////\n\nexport interface ColumnFilter {\n  value: string | boolean;\n  column: string;\n}\n\nconst isMatch = (obj, re) => {\n  if (obj.getSearchValues) {\n    return obj.getSearchValues().match(re);\n  } else {\n    for (var attrname in obj) {\n      if (['id', 'id', 'key', 'getValues', 'edit', 'action'].includes(attrname.toLowerCase())) continue;\n      if (obj[attrname])\n        if (isNaN(obj[attrname])) {\n          //only search non numeric values\n          try {\n            if (obj[attrname].match(re)) return true;\n          } catch (e) {\n            continue;\n          }\n        } else {\n          //it is a number\n          try {\n            if (obj[attrname].toString().match(re)) return true;\n          } catch (e) {\n            continue;\n          }\n        }\n    }\n  }\n  return false;\n};\n\nconst isColumnExactMatch = (obj, cf: ColumnFilter) => {\n  return obj[cf.column] != null && obj[cf.column] === cf.value ? true : false;\n};\n\n//extracts the necessary properties from the table's component props so table_filter can be called\nexport const tableFilter = (data: any, state: AppState, props: GenericTableContainerProps, customFilter = undefined) => {\n  //Extract the table information from the redux store\n  const table: TableStore.Table = state.table[props.name];\n  var searchtext = table?.searchtext;\n\n  const columnfilter = table &&\n    table.columnfiltervalue != null &&\n    table.columnfiltercolumn != null && {\n      value: table && table.columnfiltervalue,\n      column: table && table.columnfiltercolumn\n    };\n\n  const filtered = table_filter(data, columnfilter, searchtext, customFilter);\n  return table && table.orderBy ? stableSort(filtered, getSorting(table.orderDirection, table.orderBy, table.sortComparator)) : filtered;\n};\n\nexport const useTableFilter = (data: any, name: string = undefined, customFilter = undefined) => {\n  if (isEmpty(name)) {\n    return data;\n  }\n  //Extract the table information from the redux store\n  const table = TableStore.useTable(name);\n  const searchtext = table?.searchtext;\n\n  const columnfilter = table &&\n    table.columnfiltervalue != null &&\n    table.columnfiltercolumn != null && {\n      value: table && table.columnfiltervalue,\n      column: table && table.columnfiltercolumn\n    };\n\n  const filtered = table_filter(data, columnfilter, searchtext, customFilter);\n  return table && table.orderBy ? stableSort(filtered, getSorting(table.orderDirection, table.orderBy, table.sortComparator)) : filtered;\n};\n\nexport const table_filter = (data, columnfilter: ColumnFilter, searchtext = '', customFilter = undefined) => {\n  var performcolumnfilter = false;\n  if (columnfilter) if (columnfilter.column) if (columnfilter.value !== 'All' && columnfilter.value !== '') performcolumnfilter = true;\n\n  const performtextfilter = searchtext && searchtext !== '' ? true : false;\n  const re = new RegExp(searchtext.replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1'), 'gi'); // Ensures that all possible regex characters in searchtext are escaped before searching\n\n  return data.filter(\n    x =>\n      (performcolumnfilter ? isColumnExactMatch(x, columnfilter) : true) &&\n      (performtextfilter ? isMatch(x, re) : true) &&\n      (customFilter ? customFilter(x) : true)\n  );\n};\n\nfunction desc(a, b, orderBy) {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n  return 0;\n}\n\nfunction stableSort(array, cmp) {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = cmp(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map(el => el[0]);\n}\n\nfunction getSorting(order, orderBy, sortComparator) {\n  const cmp = sortComparators[sortComparator];\n  return cmp && order === 'desc' ? (a, b) => -cmp(a, b, orderBy) : (a, b) => cmp(a, b, orderBy);\n}\n\nexport function setDefaults(state: TableStore.State, tables: TableStore.Table[]): TableStore.State {\n  //If default table doesnt exist in state, then populate the values, then combine state with upated state\n  return tables\n    .filter(t => !state[t.id])\n    .map(t => updateState(state, t))\n    .reduce(spread, { ...state });\n}\n\n// Store helpers\nexport function updateState(state: TableStore.State, table: TableStore.Table) {\n  var newState = { ...state };\n  newState[table.id] = table;\n  if (state && state[table.id]) {\n    //If table already exists, keep any other existing props\n    newState[table.id] = {\n      ...state[table.id],\n      ...table\n    };\n  }\n  return newState;\n}\n\nexport const isObject = obj => typeof obj === 'object';\nexport const isObjectWithKeys = obj => isObject(obj) && Object.keys(obj).length > 0;\n","import Montserrat from '../src/fonts/Montserrat-Regular.woff2';\nimport Archivo from '../src/fonts/archivo-v7-latin-regular.woff2';\n\nexport const montserrat = {\n  fontFamily: 'Montserrat',\n  fontStyle: 'normal',\n  fontDisplay: 'swap',\n  fontWeight: 400,\n  src: `\n    local('Montserrat'),\n    local('Montserrat-Regular'),\n    url(${Montserrat}) format('woff2')\n  `,\n  unicodeRange:\n    'U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF'\n};\n\nexport const archivo = {\n  fontFamily: 'Archivo',\n  fontStyle: 'normal',\n  fontDisplay: 'swap',\n  fontWeight: 400,\n  src: `\n    local('Archivo'),\n    local('Archivo-Regular'),\n    url(${Archivo}) format('ttf')\n  `,\n  unicodeRange:\n    'U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF'\n};\n","import { createMuiTheme, Theme } from '@material-ui/core/styles';\nimport { montserrat, archivo } from './fonts';\nimport { steps } from './components/layout/LeftDrawerContent';\n\nconst basetheme = createMuiTheme({});\nexport const beta = true;\n\nconst shared = {\n  typography: {\n    fontFamily: 'Montserrat, Archivo'\n    //fontSize: 12\n  },\n  palette: {\n    type: 'light',\n    primary: {\n      light: '#65C6F4', // Soft Blue\n      main: '#00A2EF', // Vivid Blue\n      dark: '#005077' // Color used in bottom toolbar\n    },\n    secondary: {\n      light: '#FAFAFA', // SOft Gray\n      main: '#AAB4BA', // Cold Gray\n      dark: '#384954' // Deep Cold Gray\n    }\n  },\n  layout: {\n    noScrollPaths: ['/doors/Instructors', '/Instructors'], // Routes that don't have a scrollable container\n    noPadPaths: [], // Routes that don't have content padding\n    drawerPaths: ['/SessionClass', ...steps.map(s => s.label)], // Routes where the drawer should be shown\n    leftDrawerWidth: 180, //The width of the left nav drawer\n    toolbarheight: 64, //The height of the top toolbar\n    contentpadding: 24, //The padding around the inner layout content\n    contentpadding_xs: 12, //The padding around the inner layout content when xs screensize\n    contentrowspacing: 2, //the spacing between each row of content (toolbar, filterbar, table, etc)\n    tablefooterheight: 20, //The height of the table footer\n    tablefilterbarheight: 52, //The height of the table filter selector (category selector)\n    tabletoolbarheight: basetheme.spacing(5.5) * 2, // The height of the top bar on the table, also the height of the secondary tabselector\n    tableRowHeight: basetheme.spacing(6), // Height of table rows\n    footerheight: 24, //The height of the bottom toolbar\n    progressSize: 80, // size of the circular progress indicator shown when dialogs are submitting\n    tabheight: 116 // Height of the nav pills tab section\n  },\n  overrides: {\n    MuiCssBaseline: {\n      '@global': {\n        '@font-face': [montserrat, archivo]\n      }\n    },\n    MuiTooltip: {\n      // Name of the component ⚛️ / style sheet\n      tooltip: {\n        // Name of the rule\n        maxWidth: 700\n      }\n    },\n    MuiTypography: {\n      // Name of the component ⚛️ / style sheet\n      h6: {\n        lineHeight: 1.2\n      },\n      subtitle1: {\n        // Name of the rule\n        lineHeight: 1.4\n        //background: basetheme.palette.background.default,\n      }\n    },\n    MuiDialogTitle: {\n      // Name of the component ⚛️ / style sheet\n      root: {\n        // Name of the rule\n        paddingLeft: 16,\n        paddingRight: 16,\n        paddingTop: 12,\n        paddingBottom: 12\n        //background: basetheme.palette.background.default,\n      }\n    },\n    MuiDialogActions: {\n      // Name of the component ⚛️ / style sheet\n      root: {\n        // Name of the rule\n        background: basetheme.palette.grey[100],\n\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'flex-end',\n        flex: '0 0 auto',\n        margin: 0,\n        padding: '8px 4px'\n        //padding: 0,\n      }\n    },\n    MuiListItemIcon: {\n      root: {\n        color: basetheme.palette.grey[100]\n      }\n    }\n  }\n} as Theme & any;\n\nexport const theme = createMuiTheme(shared);\n","module.exports = __webpack_public_path__ + \"static/media/logo.f10b510b.svg\";","import React from 'react';\nimport { Reducer } from 'redux';\nimport { evalFunc } from '../../../helpers';\nimport { AppState } from '../../../store';\nimport { SortComparator, updateState, setDefaults } from './helpers';\nimport { useDispatch, useSelector } from 'react-redux';\n\nexport type State = Table[];\nconst defaultValues: Table[] = [];\n\nexport interface Table {\n  id?: string;\n  tab?: string; //indicates the current tab we are viewing from the tab selector\n  searchtext?: string;\n  columnfiltervalue?: string | boolean;\n  columnfiltercolumn?: string;\n  orderBy?: string;\n  orderDirection?: 'asc' | 'desc';\n  sortComparator?: SortComparator;\n  filters?: [];\n}\n\n// Actions\nconst tableUpdate = (table: Table) => ({ type: 'TABLE_UPDATE', table });\nconst tableFilterUpdate = (id: string, filters) => (dispatch, getState) =>\n  dispatch({ type: 'TABLE_UPDATE', table: { id, filters: evalFunc(filters, (getState().table[id] || {}).filters || {}) } });\n\n// Reducer\nexport const reducer: Reducer<State> = (state: State, action): State => {\n  switch (action.type) {\n    case 'TABLE_UPDATE':\n      return updateState(state, action.table);\n    case 'persist/REHYDRATE':\n      const payload: AppState = action && (action as any).payload;\n      const hydratestate: State = payload && payload.table;\n      return setDefaults(hydratestate ? hydratestate : [], defaultValues);\n    default:\n  }\n  return setDefaults(state ? { ...state } : [], defaultValues);\n};\n\n// Hooks\nexport const useTableUpdate = () => {\n  const dispatch = useDispatch();\n  return React.useCallback((t: Table) => dispatch(tableUpdate(t)), [dispatch]);\n};\n\nexport const useTableFilterUpdate = () => {\n  const dispatch = useDispatch();\n  return React.useCallback((id, filters) => dispatch(tableFilterUpdate(id, filters)), [dispatch]);\n};\n\nexport const useTable = name => useSelector((state: AppState) => state.table[name] ?? ({ id: name } as any));\n\nexport function useTableFilterValues(name): any {\n  const { filters: values = {} } = useTable(name);\n  const tableFilterUpdate = useTableFilterUpdate();\n  const setValues = React.useCallback(\n    values => {\n      tableFilterUpdate(name, values);\n    },\n    [name, tableFilterUpdate]\n  );\n  return [values, setValues];\n}\n","import { Reducer } from 'redux';\nimport { theme } from '../../constants';\n\nexport interface State {\n  auth?: any;\n  height?: number;\n  width?: number;\n  appBarHeight?: number;\n  leftDrawerOpen?: boolean;\n  admin?: boolean;\n  instructor?: any;\n  student?: any;\n  canChangeUserType?: boolean;\n}\n\nexport const defaultUserState = {\n  admin: false,\n  instructor: undefined,\n  student: undefined,\n  canChangeUserType: false\n};\n\nconst defaultState = {\n  auth: undefined,\n  width: 0,\n  height: 0,\n  appBarHeight: (theme as any).layout.toolbarheight,\n  leftDrawerOpen: false,\n  ...defaultUserState\n};\n\nexport const reducer: Reducer<State> = (state: State | any, action) => {\n  switch (action.type) {\n    case 'LOGIN':\n      return {\n        ...state,\n        auth: action.auth\n      };\n    case 'LOGOUT':\n      return {\n        ...defaultState,\n        auth: undefined,\n        height: state.height, //keep keight and width, otherwise the page will render incorrectly\n        width: state.width\n      };\n    case 'SET_USER':\n      return {\n        ...state,\n        user: action.user\n      };\n    case 'RESIZE_APPBAR':\n      return {\n        ...state,\n        appBarHeight: action.height\n      };\n    case 'UPDATE_LAYOUT':\n      return {\n        ...state,\n        ...action.payload\n      };\n    case 'RESIZE_VIEWPORT':\n      return {\n        ...state,\n        height: action.height,\n        width: action.width\n      };\n    default:\n  }\n  return state || { ...defaultState };\n};\n","import { updateState } from '../../../helpers';\n\nexport const defaultState = {};\n\nexport const updateSelector = (id, payload) => ({ type: 'UPDATE_SELECTOR', id, payload });\n\nexport function reducer(state = defaultState, action) {\n  switch (action.type) {\n    case 'UPDATE_SELECTOR':\n      return updateState(state, action);\n    case 'LOGOUT':\n      return defaultState;\n    default:\n      return state;\n  }\n}\n","export interface SnackBarState {\n  open?: boolean;\n  variant?: 'success' | 'error' | 'warning' | 'info';\n  message?: string;\n}\nconst initialState = {};\n\nexport const updateSnackBar = (payload: SnackBarState) => ({ type: 'SNACKBAR', payload });\n\nexport const reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'SNACKBAR':\n      return {\n        ...state,\n        ...action.payload\n      };\n    default:\n      return state;\n  }\n};\n","// Inserts or updates item payload with table and id keys.  If action.payload is a function, then it is called with the previous props as a parameter\nfunction updateState(state, { table, id, payload }) {\n  const data = typeof payload === 'function' ? payload(state[table] ? state[table][id] : undefined) : payload;\n\n  if (!state[table]) {\n    // Table doesn't exist.  Create new table with the associated entry.\n    return { ...state, [table]: { [id]: data } };\n  } else if (state[table] && !state[table][id]) {\n    // Table exists but item dies not.  Insert item at beginning of table.\n    return { ...state, [table]: { [id]: data, ...state[table] } };\n  } else {\n    // Table exists and item exists.  Update item at it's current position.\n    const newState = { ...state };\n    newState[table][id] = data;\n    return newState;\n  }\n}\n\nconst initialState = {};\n\nexport const updateDatabase = (table, id, payload) => ({ type: 'UPDATE_DATABASE', table, id, payload });\nexport const setDatabaseTable = (table, payload) => ({ type: 'SET_DATABASE_TABLE', table, payload });\n\nexport function reducer(state = initialState, action) {\n  switch (action.type) {\n    case 'SET_DATABASE_TABLE':\n      var newState = { ...state };\n      newState[action.table] = action.payload;\n      return newState;\n    case 'UPDATE_DATABASE':\n      return updateState(state, action);\n    case 'LOGOUT':\n      return initialState;\n    default:\n      return state;\n  }\n}\n","import * as Layout from './components/layout/store';\nimport * as Table from './components/application/GenericTable/store';\nimport * as Dialog from './components/application/GenericDialog/store';\nimport * as Selector from './components/application/Selector/store';\nimport * as SnackBar from './components/application/SnackBar/store';\nimport * as Database from './database/store';\n\n// The top-level state object\nexport interface AppState {\n  router: any;\n  layout: Layout.State;\n  dialog: any;\n  table: Table.State;\n  selector: any;\n  snackBar: any;\n  database: any;    \n}\n\n// Whenever an action is dispatched, Redux will update each top-level application state property using\n// the reducer with the matching name. It's important that the names match exactly, and that the reducer\n// acts on the corresponding AppState property type.\nexport const reducers = {\n  layout: Layout.reducer,\n  dialog: Dialog.reducer,\n  table: Table.reducer,\n  selector: Selector.reducer,\n  snackBar: SnackBar.reducer,\n  database: Database.reducer,  \n};\n","import thunk from 'redux-thunk';\nimport { History } from 'history';\nimport * as StoreModule from './store';\nimport { AppState, reducers } from './store';\nimport { connectRouter, routerMiddleware } from 'connected-react-router';\nimport { createStore, applyMiddleware, compose, combineReducers, StoreEnhancer, Store } from 'redux';\nimport { persistReducer } from 'redux-persist';\nimport * as localforage from 'localforage';\nimport packageJson from '../package.json';\n\nlocalforage &&\n  localforage.config &&\n  localforage.config({\n    driver: localforage.INDEXEDDB, // Force WebSQL; same as using setDriver()\n    name: `${packageJson.name}-local-storage`,\n    version: 1.0,\n    size: 4980736, // Size of database, in bytes. WebSQL-only for now.\n    storeName: 'keyvaluepairs', // Should be alphanumeric, with underscores.\n    description: `${packageJson.name} application database`\n  });\n\nexport const persistConfig = {\n  key: 'app',\n  storage: localforage\n};\n\nexport default function configureStore(history: History, initialState?: AppState, appConfig?: any) {\n  // Build middleware. These are functions that can process the actions before they reach the store.\n  const windowIfDefined = typeof window === 'undefined' ? null : (window as any);\n  // If devTools is installed, connect to it\n  const devToolsExtension = process.env.NODE_ENV === 'development' && windowIfDefined && (windowIfDefined.__REDUX_DEVTOOLS_EXTENSION__ as () => StoreEnhancer);\n\n  const allReducers = buildRootReducer(reducers, history);\n  const persistedReducer = persistReducer(persistConfig, allReducers as any);\n\n  const createStoreWithMiddleware = compose(\n    applyMiddleware(thunk, routerMiddleware(history)),\n    devToolsExtension ? devToolsExtension() : (f: any) => f\n  )(createStore) as any;\n\n  // Combine all reducers and instantiate the app-wide store instance\n  const store = createStoreWithMiddleware(persistedReducer, initialState) as Store<AppState>;  \n\n  // Enable Webpack hot module replacement for reducers\n  if (module.hot) {\n    module.hot.accept('./store', () => {\n      const nextRootReducer = require<typeof StoreModule>('./store');\n      store.replaceReducer(buildRootReducer(nextRootReducer.reducers, history));\n    });\n  }\n\n  return store;\n}\n\nfunction buildRootReducer(allReducers: any, history: any) {\n  return combineReducers<AppState>(Object.assign({}, allReducers, { router: connectRouter(history) }));\n}\n","import * as React from 'react'\nimport useComponentSize from '@rehooks/component-size'\nimport { makeStyles, createStyles } from '@material-ui/core'\nimport { useResizeViewPort } from './hooks';\n\nconst staticProps = {\n  flexGrow: 1,\n  zIndex: 1,\n  overflow: 'hidden',\n  position: 'fixed',\n  display: 'static',\n  width: '100%',\n  height: '100%',\n}\n\nconst useStyles = makeStyles(({ layout }: any) =>\n  createStyles({\n    root: {},\n    dimensions: {\n      overflow: 'hidden',\n      position: 'fixed',\n      width: 'calc(100vw)',\n      height: 'calc(100vh)',\n    },\n    backdrop: {\n      ...staticProps,\n      background: layout.backdropColor,\n    } as any,\n    viewport: (props: any) => ({\n      ...staticProps,\n      height: props.height,\n      width: props.width,\n      background: layout.backgroundColor,\n    }) as any,\n  })\n);\n\nexport default function ViewPort({ children }) {\n  const ref = React.useRef(null)\n  const { height, width } = useComponentSize(ref)\n  const classes = useStyles({ height, width });\n  const resizeViewPort = useResizeViewPort();\n\n  React.useEffect(() => {\n    resizeViewPort({ height, width })\n  }, [resizeViewPort, height, width])\n\n  return (\n    <>\n      <div ref={ref} className={classes.dimensions} />\n      <div id='backdrop' className={classes.backdrop}>\n        <div id='viewport' className={classes.viewport}>\n          {children}\n        </div>\n      </div>\n    </>\n  )\n}\n","import * as React from 'react';\nimport { Typography, Grid } from '@material-ui/core';\n\nexport default function PlayGround() {\n  return (\n    <Grid container alignItems='center'>\n      <Grid item>\n        <Typography variant='h5'>Playground Placeholder</Typography>\n      </Grid>\n    </Grid>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Paper, Input, Tooltip } from '@material-ui/core';\nimport { FormControl, InputAdornment, IconButton, Typography } from '@material-ui/core';\nimport { useTable, useTableUpdate } from './store';\nimport { useWidth } from '../../layout/hooks';\nimport { makeStyles, createStyles } from '@material-ui/core';\nimport * as Icons from '@material-ui/icons';\nimport { evalFunc } from '../../../helpers';\nimport { GenericTableContainerProps } from './GenericTableContainer';\nimport { useFullScreen, useContentPadding } from '../../../hooks';\nimport StyledButton from '../../general/StyledButton';\n\nexport interface TableToolbarProps {\n  name?: string;\n  buttons?: any[] | ((props?: GenericTableContainerProps & any) => any[]);\n  square?: boolean;\n  title?: string;\n  showicon?: boolean;\n  viewportwidth?: any;\n  inputplaceholder?: string;\n  width?: number;\n  search?: boolean;\n  Icon?: any;\n  buttonPosition?: string;\n  classes?: any;\n}\n\nconst useStyles = makeStyles(({ palette, spacing, typography, layout }: any) =>\n  createStyles({\n    root: {},\n    paper: {\n      color: palette.common.white,\n      background: palette.primary.main\n    },\n    formControl: {\n      marginBottom: 4,\n      paddingRight: spacing(1),\n      width: 200\n    },\n    searchIcon: {\n      color: palette.common.white\n    },\n    title: {\n      ...typography.h4,\n      paddingLeft: spacing(0.5),\n      color: palette.common.white,\n      fontSize: typography.pxToRem(19),\n      fontWeight: '300'\n    },\n    titleicon: {\n      height: 32,\n      width: 32,\n      color: palette.common.white,\n      marginTop: 3\n    },\n    grid: {\n      overflow: 'hidden',\n      paddingRight: spacing(1),\n      paddingLeft: spacing(1),\n      height: layout.tabletoolbarheight / 2\n    },\n    hidden: {\n      display: 'none' as 'none'\n    },\n    underline: {\n      color: palette.common.white,\n      borderBottom: `2px solid ${palette.common.white}`,\n      '&:hover': {\n        color: palette.common.white,\n        borderBottom: `2px solid ${palette.common.white}`\n      }\n    }\n  })\n);\n\nfunction TableToolbar(props: TableToolbarProps) {\n  const classes = useStyles({});\n  const [searchOpen, setSearchOpen] = React.useState(false);\n  const { name, buttons = [], square, title, inputplaceholder, Icon, search, showicon = true, buttonPosition = 'top' } = props;\n\n  const { searchtext = '' } = useTable(name);\n\n  React.useEffect(() => {\n    if (searchtext !== null && searchtext !== undefined && searchtext !== '') {\n      handleOpenSearch();\n    }\n  }); // No dependencies on purpose\n\n  const width = useWidth();\n\n  const handleOpenSearch = React.useCallback(() => setSearchOpen(true), [setSearchOpen]);\n\n  const inputRef = React.useRef(null);\n\n  const tableUpdate = useTableUpdate();\n\n  const updateTable = React.useCallback(\n    value =>\n      tableUpdate({\n        id: name,\n        searchtext: value\n      }),\n    [name, tableUpdate]\n  );\n\n  const handleClear = React.useCallback(\n    event => {\n      updateTable('');\n      setSearchOpen(false);\n    },\n    [updateTable, setSearchOpen]\n  );\n\n  const handleKeyDown = React.useCallback(\n    event => {\n      if (event.key === 'Escape') {\n        event.preventDefault();\n        handleClear(event);\n      }\n    },\n    [handleClear]\n  );\n\n  React.useEffect(() => {\n    const current = inputRef && inputRef.current;\n    if (searchOpen) {\n      if (current) {\n        current.focus();\n        current.addEventListener('keydown', handleKeyDown);\n      }\n    } else {\n      current.removeEventListener('keydown', handleKeyDown);\n    }\n    return () => {\n      if (current && searchOpen) {\n        current.removeEventListener('keydown', handleKeyDown);\n      }\n    };\n  }, [inputRef, searchOpen, handleKeyDown]);\n\n  const handleChange = React.useCallback(\n    event => {\n      updateTable(event.target.value);\n    },\n    [updateTable]\n  );\n  const fullScreen = useFullScreen();\n\n  const Search = (\n    <FormControl className={classes.formControl}>\n      <Input\n        disableUnderline={false}\n        classes={{\n          underline: classes.underline\n        }}\n        value={searchtext ? searchtext : ''}\n        onChange={handleChange}\n        placeholder={inputplaceholder}\n        startAdornment={\n          <InputAdornment position='start'>\n            <Icons.Search className={classes.searchIcon} />\n          </InputAdornment>\n        }\n        endAdornment={\n          <InputAdornment position='end'>\n            <IconButton className={classes.searchIcon} onClick={handleClear}>\n              <Icons.Close />{' '}\n            </IconButton>{' '}\n          </InputAdornment>\n        }\n        inputRef={inputRef}\n      />\n    </FormControl>\n  );\n\n  const searchbutton =\n    search !== false && search ? (\n      <StyledButton width={fullScreen ? 64 : 120} size='small' onClick={handleOpenSearch}>\n        <Icons.Search />\n        {!fullScreen && <div style={{ marginLeft: 4, marginRight: 4 }}>Search</div>}\n      </StyledButton>\n    ) : null;\n\n  var Buttons = [searchbutton, ...evalFunc(buttons, props)].filter(b => b);\n\n  const buttonspacing = 0; //Grid spacing of each button\n  const buttonwidth = 42; //Width of each button\n  const contentPadding = useContentPadding();\n\n  const widths = {\n    contentpadding: contentPadding * 2, //Exterior padding\n    headerpadding: 16, //Padding within the header\n    iconwidth: 32, //Width of the title icon\n    titlepadding: 8, //Padding between the icon and the title\n    titleminwidth: 64, //Minimum width of the typography title - Don't display the title unless you can see more than 64 pixels\n    calculatedbuttonswidth: Buttons.length * buttonwidth + buttonspacing * (Buttons.length > 0 ? Buttons.length - 1 : 0)\n  };\n\n  const calculatedfullwidth = Object.keys(widths)\n    .map(k => widths[k])\n    .reduce((t, a) => t + a, 0);\n  const calculatedpartialwidth = calculatedfullwidth - widths.titlepadding - widths.titleminwidth;\n\n  const tabletitlevisible = width >= calculatedfullwidth;\n  const tableiconvisible = width >= calculatedpartialwidth;\n\n  const IconComponent = Icon ?? Icons.List;\n\n  const ButtonGroup = (\n    <Grid item>\n      <Grid container direction='row' justify='flex-end' alignItems='center' spacing={buttonspacing}>\n        <Grid item>\n          <div style={{ display: searchOpen ? '' : 'none' }}>{Search}</div>\n          {!searchOpen && (\n            <Grid container spacing={1}>\n              {Buttons.map((b, i) => (\n                <Grid key={i} item>\n                  {evalFunc(b)}\n                </Grid>\n              ))}\n            </Grid>\n          )}\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n\n  return (\n    <>\n      {buttonPosition === 'top' && (\n        <Paper elevation={0} square={square}>\n          <Grid container spacing={0} justify='space-between' alignItems='center' className={classes.grid}>\n            <Grid item xs zeroMinWidth>\n              <Grid container justify='flex-start' alignItems='center'></Grid>\n            </Grid>\n            {ButtonGroup}\n          </Grid>\n        </Paper>\n      )}\n      <Paper className={classes.paper} square={square}>\n        <Grid container spacing={0} justify='space-between' alignItems='center' className={classes.grid}>\n          <Grid item xs zeroMinWidth>\n            <Grid container justify='flex-start' alignItems='center'>\n              {tableiconvisible && showicon === true && (\n                <Grid item>\n                  <Tooltip title={title}>\n                    <IconComponent className={classes.titleicon} />\n                  </Tooltip>\n                </Grid>\n              )}\n              {tabletitlevisible && (\n                <Grid item xs zeroMinWidth>\n                  {title && (\n                    <Typography variant='body2' noWrap className={classes.title}>\n                      {title}\n                    </Typography>\n                  )}\n                </Grid>\n              )}\n            </Grid>\n          </Grid>\n          {buttonPosition !== 'top' && ButtonGroup}\n        </Grid>\n      </Paper>\n    </>\n  );\n}\n\nexport default TableToolbar;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { AppState } from '../../../store';\nimport { defaultState, updateSelector } from './store';\n\nconst useTabSelector = id => {\n  const dispatch = useDispatch();\n  const state = useSelector((state: AppState) => state.selector[id] || defaultState);\n  const setState = React.useCallback(payload => dispatch(updateSelector(id, payload)), [id, dispatch]);\n  return [state, setState];\n};\n\nexport default useTabSelector;\n","import * as React from 'react';\nimport { triggerResize, isEmpty } from '../../../helpers';\nimport { Tabs, Tab, Paper, Typography, createStyles, makeStyles } from '@material-ui/core';\nimport useTabSelector from '../../application/Selector/useTabSelector';\n\nexport interface ComponentProps {\n  id?: string;\n  tab?: string;\n  tabs?: TabSelectorItem[];\n  orientation?: string;\n  rounded?: boolean;\n  wrapped?: boolean;\n  minHeight?: number;\n  classes?: any;\n}\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    root: ({ rounded }) => ({\n      background: palette.grey[600],\n      borderRadius: rounded ? undefined : 0\n    }),\n    tabs: ({ minHeight }: any) => ({\n      minHeight,\n      borderRadius: 'inherit'\n    }),\n    indicator: {\n      background: palette.primary.main,\n      height: '100%',\n      zIndex: 0,\n      borderRadius: 'inherit'\n    },\n    labelIcon: ({ minHeight }: any) => ({\n      color: palette.common.white,\n      zIndex: 1,\n      minHeight\n    }),\n    tabroot: ({ minHeight }: any) => ({\n      padding: 0,\n      color: palette.common.white,\n      zIndex: 1,\n      minWidth: 24,\n      minHeight\n    }),\n    wrapper: {\n      display: 'inline-flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      width: '100%',\n      flexDirection: 'column',\n      borderRadius: 'inherit'\n    }\n  })\n);\n\nexport interface TabSelectorItem {\n  id: string;\n  label?: string;\n  icon?: any;\n  Component?: any;\n}\n\nconst TabSelector = ({ id, tabs = [], orientation, wrapped, minHeight = 52, rounded = true }: ComponentProps) => {\n  const classes = useStyles({ minHeight, rounded });\n  \n  const [tabSelector, setTabSelector] = useTabSelector(id);\n  const selected = tabSelector.value;\n\n  const tabId = tabs[0] && tabs[0].id;  \n  React.useEffect(() => {\n    isEmpty(selected) && setTabSelector({ value: tabId }); // Select the first tab by default when empty\n    triggerResize();\n  }, [setTabSelector, selected, tabId]);\n\n  React.useEffect(() => {\n    triggerResize(); //User has roated the device, so trigger a resize so the indicator updates correctly\n  }, [orientation]);\n\n  const handleChange = React.useCallback(\n    (event, value) => {\n      setTabSelector({ value });\n    },\n    [setTabSelector]\n  );\n\n  const { value = tabs[0].id } = tabSelector;\n\n  return (\n    <Paper className={classes.root}>\n      <Tabs variant='fullWidth' className={classes.tabs} scrollButtons='off' value={value} onChange={handleChange} classes={{ indicator: classes.indicator }}>\n        {!tabs ? (\n          <></>\n        ) : (\n          tabs.map(t => (\n            <Tab\n              key={t.id}\n              classes={{\n                root: classes.tabroot,\n                labelIcon: classes.labelIcon,\n                wrapper: classes.wrapper,\n                wrapped: classes.labelIcon\n              }}\n              icon={t.icon && <t.icon style={{ marginBottom: 0 }} />}\n              value={t.id}\n              wrapped={wrapped}\n              label={\n                <Typography variant='caption' style={{ maxWidth: `calc(100% - ${2}px)` }} noWrap={!wrapped}>\n                  {t.label ? t.label : t.id}\n                </Typography>\n              }\n            />\n          ))\n        )}\n      </Tabs>\n    </Paper>\n  );\n};\n\nexport default TabSelector;\n","import * as React from 'react';\nimport { useSelector } from 'react-redux';\nimport { AppState } from '../../../store';\nimport TabSelector from '../../general/TabSelector/TabSelector';\nimport { useHeight, useWidth } from '../../layout/hooks';\n\nexport default function TableTabSelector({ id, tabs, tab: Tab = undefined, ...other }) {\n  const storeTable = useSelector((s: AppState) => s.table[id]);\n  const height = useHeight();\n  const width = useWidth();\n  const orientation = height > width ? 'potrait' : 'landscape';\n  const tab = Tab ? Tab : storeTable?.tab;\n\n  return <TabSelector id={id} tab={tab} tabs={tabs} orientation={orientation} {...other} />;\n}\n","import * as React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport TableToolbar, { TableToolbarProps } from './TableToolbar';\nimport { GenericTableProps } from './GenericTable';\nimport TableTabSelector from './TableTabSelector';\nimport { Paper, CircularProgress, useTheme } from '@material-ui/core';\nimport { evalFunc } from '../../../helpers';\nimport { useHeight, useAppBarHeight } from '../../layout/hooks';\nimport { TabSelectorItem } from '../../general/TabSelector/TabSelector';\nimport { useLocation } from 'react-router';\nimport { useContentPadding } from '../../../hooks';\n\nconst GenericTable = React.lazy(() => import('./GenericTable'));\n\nexport interface TabSelectorProps {\n  tabs?: TabSelectorItem[];\n  onChangeTab?: (tab: string, props: GenericTableContainerProps) => void;\n}\n\nexport interface GenericTableContainerProps extends TabSelectorProps, GenericTableProps, TableToolbarProps {\n  square?: boolean;\n  toolbar?: boolean;\n  stacked?: boolean | number;\n  loading?: boolean;\n  toolbarplaceholder?: string;\n  title?: string;\n  search?: boolean;\n  getfiles?: boolean;\n  back?: boolean;\n  domainData?: boolean;\n  domainLogs?: boolean;\n  dialogs?: any[];\n  showScroll?: boolean;\n  buttonPosition?: string;\n  FilterContainer?: any;\n}\n\nconst injectValues = (Component, { getValues, handleRefresh }) => <Component {...getValues()} handleRefresh={handleRefresh} />;\n\nexport default function GenericTableContainer(props: GenericTableContainerProps) {\n  const {\n    name,\n    square,\n    height: Height,\n    toolbar,\n    stacked,\n    toolbarplaceholder,\n    title,\n    search,\n    tabs,\n    columns: Columns,\n    showicon = false,\n    loading,\n    buttons,\n    dialogs = [],\n    onChangeTab,\n    Icon,\n    FilterContainer,\n    buttonPosition = 'bottom',\n    ...tableProps\n  } = props;\n\n  const { layout } : any= useTheme();\n  const { noPadPaths } = layout;\n  const layoutHeight = useHeight();\n  const height = Height ? Height : layoutHeight;\n  const columns = evalFunc(Columns, props);\n\n  const applyCellRenderers = (columns: any) => {\n    columns &&\n      columns.forEach((column: any) => {\n        if (column.renderCell) {\n          //Column has a custom render, so apply it to the virtual table cell render callback\n          column.cell = (row: any, col: any) => column.renderCell(row.getValues ? row.getValues() : row, column);\n        } else if (column.Cell) {\n          column.cell = (row: any, col: any) => injectValues(column.Cell, row); // Inject values via getValues()\n        }\n      });\n  };\n\n  const handleTabChange = (value: any) => {\n    onChangeTab && onChangeTab(value, props);\n  };\n\n  applyCellRenderers(columns); //Apply any custom cell renderers that are needed\n\n  const _toolbar = toolbar && (\n    <TableToolbar\n      name={name}\n      search={search != null ? search : true}\n      title={title ? title : name ? name : ''}\n      square={square}\n      inputplaceholder={toolbarplaceholder}\n      showicon={showicon}\n      buttons={evalFunc(buttons, props)}\n      Icon={Icon}\n      buttonPosition={buttonPosition}\n    />\n  );\n\n  var filterbar = tabs && <TableTabSelector id={name} tabs={tabs} onChange={handleTabChange} />;\n\n  const rows = [\n    { id: 'fc', component: FilterContainer, height: layout.tabletoolbarheight },\n    { id: 'toolbar', component: _toolbar, height: layout.tabletoolbarheight },\n    {\n      id: 'filterbar',\n      component: filterbar,\n      height: layout.tablefilterbarheight\n    }\n  ].filter(x => x.component); //Remove any null components\n\n  const appBarHeight = useAppBarHeight();\n\n  const { pathname } = useLocation();\n  const excludePadding = noPadPaths.findIndex(p => p === pathname) > -1 ? true : false;\n\n  const contentPadding = useContentPadding();\n\n  const componentsOnPage = [\n    appBarHeight,\n    excludePadding ? 0 : contentPadding, // Top content padding\n    stacked ? layout.tablefilterbarheight + layout.contentrowspacing : 0,\n    !toolbar ? 0 : (buttonPosition === 'top' ? layout.tabletoolbarheight : layout.tabletoolbarheight / 2) + layout.contentrowspacing,\n    excludePadding ? 0 : contentPadding, // Bottom content padding\n    layout.footerheight\n  ];\n\n  var calculatedheight = height - componentsOnPage.reduce((t, c) => t + c, 0);\n\n  if (typeof stacked === 'number') {\n    calculatedheight -= stacked;\n  }\n\n  const spinner = (\n    <Paper elevation={0} style={{ height: calculatedheight }}>\n      <Grid container style={{ height: calculatedheight }} direction='column' alignItems='center' justify='center' spacing={0}>\n        <Grid item>\n          <CircularProgress color='primary' size={calculatedheight / 6} thickness={3} />\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n\n  const table = (\n    <React.Suspense fallback={spinner}>\n      {loading ? spinner : <GenericTable name={name} height={calculatedheight} columns={columns} placeholder={!buttons && ' '} {...tableProps} />}\n    </React.Suspense>\n  );\n\n  rows.push({ id: 'table', component: table, height: calculatedheight });\n\n  return (\n    <>\n      {dialogs.map((d, i) => (\n        <div key={i}>{d}</div>\n      ))}\n      <Grid container>\n        {rows.map((r, i) => (\n          <Grid key={r.id} item xs={12} style={{ paddingBottom: i === rows.length - 1 ? 0 : layout.contentrowspacing }}>\n            {r.component}\n          </Grid>\n        ))}\n      </Grid>\n    </>\n  );\n}\n","import { identityPoolIdUnauth, region } from '../../package.json';\n\nexport const AWS = require('aws-sdk'); // Load the AWS SDK for Node.js\n\n// Initialize the Amazon Cognito credentials provider\nAWS.config.region = region;\nAWS.config.credentials = new AWS.CognitoIdentityCredentials({\n  IdentityPoolId: identityPoolIdUnauth\n});\n\nexport const dynamo = new AWS.DynamoDB.DocumentClient();\n\nexport type TableName =  \n  | 'doors-classes'\n  | 'doors-users'\n  | 'doors-instructors'\n  | 'doors-students'\n  | 'doors-attendance'\n  | 'doors-groups'\n  | 'doors-profiles';\n\nexport const tables = {\n  users: 'doors-users' as TableName,\n  instructors: 'doors-instructors' as TableName,\n  students: 'doors-students' as TableName,\n  attendance: 'doors-attendance' as TableName,\n  groups: 'doors-groups' as TableName,\n  profiles: 'doors-profiles' as TableName,  \n  classes: 'doors-classes' as TableName\n};\n","import * as React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { updateDatabase } from './store';\n\nexport const useUpdateDatabase = () => {\n  const dispatch = useDispatch();\n  return React.useCallback(({ table, id, payload }) => dispatch(updateDatabase(table, id, payload)), [dispatch]);\n};\n","import * as React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { updateSnackBar } from '../components/application/SnackBar/store';\nimport { dynamo } from './dbConfig';\nimport { useUpdateDatabase } from './useUpdateDatabase';\n\nexport interface ProcessDataInfo {\n  Model?: any;\n  Data: any;\n  Action?: 'c' | 'r' | 'u' | 'd';\n  Snackbar?: boolean;\n  onSuccess?: (response, data) => void;\n  onError?: (response, data) => void;\n}\n\nexport const useProcessData = () => {\n  const dispatch = useDispatch();\n  const updateDatabase = useUpdateDatabase();\n  return React.useCallback((pdi: ProcessDataInfo) => dispatch(processData(pdi, updateDatabase)), [dispatch, updateDatabase]);\n};\n\nexport const useProcessDataHandle = () => {\n  const dispatch = useDispatch();\n  const updateDatabase = useUpdateDatabase();\n  return React.useCallback((pdi: ProcessDataInfo) => () => dispatch(processData(pdi, updateDatabase)), [dispatch, updateDatabase]);\n};\n\nasync function executeTransaction(pdi, Data, updateDatabase, dispatch) {\n  const { Model: Table, Action = 'c', Snackbar = true, onSuccess = undefined, onError = undefined } = pdi;\n\n  if (Action === 'c' || Action === 'u' || Action === 'd') {\n    dynamo.put({ TableName: Table, Item: Data }, function (err, data) {\n      if (err) {\n        var message = `(Error processing data.  Table: ${Table}`;\n        Snackbar && dispatch(updateSnackBar({ open: true, variant: 'error', message }));\n        onError && onError(err, Data);\n        console.error({ message, err, Data });\n      } else {\n        Snackbar && dispatch(updateSnackBar({ open: true, variant: 'success', message: 'Success' }));\n        onSuccess && onSuccess(data, Data);\n        (Action === 'c' || Action === 'u' || Action === 'd') && updateDatabase({ table: Table, id: Data.id, payload: { ...Data, _rev: Data._rev } }); // write data to local state, make sure to update the revision as well so subsequent writes won't throw a document conflict error\n      }\n    });\n  } else {\n    dynamo.get({ TableName: Table, Key: Data }, function (err, data) {\n      if (err) {\n        var message = `(Error processing data.  Table: ${Table}`;\n        Snackbar && dispatch(updateSnackBar({ open: true, variant: 'error', message }));\n        onError && onError(err, Data);\n        console.error({ message, err, Data });\n      } else {\n        Snackbar && dispatch(updateSnackBar({ open: true, variant: 'success', message: 'Success' }));\n        onSuccess && onSuccess(data, Data);\n      }\n    });\n  }\n}\n\nconst processData = (pdi: ProcessDataInfo, updateDatabase) => async (dispatch: any, getState: any) => {\n  const { Model: Table, Data: DataProp, Action = 'c', Snackbar = true, onError = undefined } = pdi;\n  const Data = {\n    ...DataProp,\n    created: Action === 'c' ? new Date().getTime() : DataProp.created,\n    updated: Action === 'd' || Action === 'u' ? new Date().getTime() : DataProp.updated,\n    deleted: Action === 'd' ? true : DataProp.deleted\n  };\n  try {\n    executeTransaction(pdi, Data, updateDatabase, dispatch);\n  } catch (error) {\n    if (error.statusCode === 409) {\n      //Document update conflict.  This can happen if someone updated the document at the server while another user's browser is editing an earlier revision\n      //Just show an error for now, as the applications will rarely be edited and the tables are constantly refreshed with new data.\n      //The correct logic would get the most recent document from the database, inform the user that the document is out of date, update the revision number and allow the user to review changes or force the update.\n    }\n    var message = `(Caught Error processing data.  Table: ${Table}`;\n    Snackbar && dispatch(updateSnackBar({ open: true, variant: 'error', message }));\n    onError && onError(error, Data);\n    console.error({ message, error, Data });\n  }\n};\n\nexport default useProcessData;\n","import React from 'react';\nimport * as Icons from '@material-ui/icons';\nimport { Paper } from '@material-ui/core';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport DialogButton from '../../GenericDialog/DialogButton';\nimport { useDeleteInstructors } from './hooks';\n\nconst useStyles = makeStyles(({ palette }) =>\n  createStyles({\n    root: {\n      display: 'flex'\n    },\n    toolbarPaper: {\n      backgroundColor: palette.common.white,\n      color: palette.common.white,\n      borderBottomLeftRadius: 0,\n      borderBottomRightRadius: 0\n    }\n  })\n);\n\nexport function MultiUserToolbar({ selected = [] }) {\n  const instructors = {};\n  selected.forEach(u => {\n    instructors[u.id] = u.getValues();\n  });\n\n  const classes = useStyles();\n  const handleDelete = useDeleteInstructors({ instructors });\n\n  return (\n    <div className={classes.root}>\n      <Paper className={classes.toolbarPaper} square>\n        <DialogButton Icon={Icons.Delete} variant='text' tooltip='Archive' placement='bottom' onClick={handleDelete} />\n      </Paper>\n    </div>\n  );\n}\n","import * as React from 'react';\nimport useProcessData from '../../../../database/useProcessData';\n\nexport const useDeleteInstructors = ({ instructors, onSuccess: OnSuccess = undefined }) => {\n  const processData = useProcessData();\n\n  return React.useCallback(\n    event => {\n      event.stopPropagation();\n      processData({\n        Action: 'd',\n        Data: {\n          Instructors: instructors\n        },\n        onSuccess: r => OnSuccess && OnSuccess(r)\n      });\n    },\n    [instructors, OnSuccess, processData]\n  );\n};\n","import * as React from 'react';\nimport { dynamo } from './dbConfig';\n\nexport default function useTable({ TableName }) {\n  const [state, setState] = React.useState({ data: [], loading: false, success: false });\n\n  const handleRequest = React.useCallback(\n    ({ FilterExpression = undefined, ExpressionAttributeNames = undefined, ExpressionAttributeValues = undefined } = {}) => {\n      const getRows = async () => {\n        let scanResults = [];\n        let items;\n        var params = {\n          TableName,\n          ExclusiveStartKey: undefined,\n          FilterExpression,\n          ExpressionAttributeNames,\n          ExpressionAttributeValues\n        };\n        do {\n          items = await dynamo.scan(params).promise();\n          items.Items.forEach(i => scanResults.push(i));\n          params.ExclusiveStartKey = items.LastEvaluatedKey;\n        } while (typeof items.LastEvaluatedKey != 'undefined');\n        setState(prev => ({\n          ...prev,\n          loading: false,\n          success: true,\n          data: scanResults.reduce((f, c: any) => {\n            f[c.id] = c;\n            return f;\n          }, {})\n        }));\n      };\n      setState(prev => ({ ...prev, data: [], loading: true, success: false }));\n      getRows();\n    },\n    [TableName, setState]\n  );\n\n  return { state, setState, handleRequest };\n}\n","import * as React from 'react';\nimport { tables } from './dbConfig';\nimport { isEmpty, minutesFrom } from '../helpers';\nimport useProcessData from './useProcessData';\nimport { inviteExpiration } from '../../package.json';\n\nexport const isExpired = item => minutesFrom(item?.created) > inviteExpiration;\n\nexport const useInstructor = ({ id, state, setState }) => {\n  const processData = useProcessData();\n  const instructor = state.response?.Item;\n  const instructor_str = JSON.stringify(instructor);\n  React.useEffect(() => {\n    if (!isEmpty(id)) {\n      setState(prev => ({ ...prev, loading: true, error: undefined, response: undefined }));\n      processData({\n        Model: tables.instructors,\n        Action: 'r',\n        Data: { id },\n        onError: response => setState(prev => ({ ...prev, loading: false, error: 'Error reading values', response })),\n        onSuccess: response => setState(prev => ({ ...prev, loading: false, error: undefined, response }))\n      });\n    }\n  }, [id, processData, setState]);\n\n  const setInstructor = React.useCallback(\n    (newValues, OnSuccess = undefined, OnError = undefined) => {\n      if (!isEmpty(id)) {\n        setState(prev => ({ ...prev, loading: true, error: undefined, response: undefined }));\n        processData({\n          Model: tables.instructors,\n          Action: 'u',\n          Data: { ...JSON.parse(instructor_str), id, ...newValues },\n          onError: response => {\n            setState(prev => ({ ...prev, loading: false, error: 'Error reading values', response }));\n            OnError && OnError(response);\n          },\n          onSuccess: response => {\n            setState(prev => ({ ...prev, loading: false, error: undefined, response }));\n            OnSuccess && OnSuccess(response);\n          }\n        });\n      }\n    },\n    [id, setState, processData, instructor_str]\n  );\n\n  const expired = isExpired(instructor);\n\n  return [instructor, setInstructor, expired];\n};\n","import * as React from 'react';\nimport { useTableFilter } from '../helpers';\nimport useTable from '../../../../database/useTable';\nimport { tables } from '../../../../database/dbConfig';\nimport { isExpired } from '../../../../database/useInstructor';\n\nexport const useInstructors = ({ table = undefined, tab = undefined, requestParams = undefined }) => {\n  const { state, handleRequest } = useTable({ TableName: tables.instructors });\n  const { data, loading, success } = state as any;\n\n  const handleRefresh = React.useCallback(() => {\n    handleRequest(requestParams);\n    // eslint-disable-next-line\n  }, [JSON.stringify(requestParams), handleRequest]);\n\n  React.useEffect(() => {\n    handleRefresh();\n  }, [handleRefresh, table, tab]);\n\n  const instructors = Object.keys(data).map(k => ({\n    ...data[k],\n    Invite: data[k].accepted ? 'Accepted' : isExpired(data[k]) ? 'Expired' : 'Pending'\n  }));\n\n  return {\n    data: useTableFilter(\n      instructors.map(i => ({\n        ...i,\n        getValues: () => i\n      })),\n      table\n    ),\n    handleRefresh,\n    loading,\n    success\n  };\n};\n","import React from 'react';\nimport { getLabel, checkEmpty, hasChanged, validateHttpUrl } from '../../../helpers';\nimport merge from 'deepmerge';\nimport { validateEmail, emptyUndefined } from '../../../helpers';\nimport { isObjectWithKeys } from '../GenericTable/helpers';\n\nexport interface FieldProps {\n  id: string | number;\n  label: string;\n  type: string;\n  Field?: Element;\n  getValue?: (f: FieldProps, values: any) => any;\n}\n\n// Mappings to retreive the value from the state\nconst getMappedValue = (id, object, container, values = {}) => {\n  if (container && object) {\n    return values[container] && values[container][object] && values[container][object][id];\n  } else if (container) {\n    return values[container] && values[container][id];\n  } else if (object) {\n    return values[object] && values[object][id];\n  } else {\n    return values[id];\n  }\n};\n\nexport const setMappedValue = ({ field, value, prev }) => {\n  const { id, object, container } = field;\n  if (container && !prev[container]) {\n    prev[container] = {};\n  }\n  if (container && object && !prev[container][object]) {\n    prev[container][object] = {};\n  }\n  if (!container && object && !prev[object]) {\n    prev[object] = {};\n  }\n\n  if (container && object) {\n    prev[container][object][id] = value;\n  } else if (container) {\n    prev[container][id] = value;\n  } else if (object) {\n    prev[object][id] = value;\n  } else {\n    prev[id] = value;\n  }\n  return prev;\n};\n\nconst singleValue = ({ id, object, container }, values) => getMappedValue(id, object, container, values);\nexport const getValue = (f, values) => (f.getValue ? f.getValue(f, values) : singleValue(f, values));\n\nexport const isDisabled = (f, values) => (typeof f.disabled === 'function' ? f.disabled(values, f) : f.disabled); //Disabled fields are shown but disabled\nexport const isActive = ({ active }, values) => (typeof active === 'function' ? active(values) : active); //Active fields are hidden, but can be shown via other options changing in the dialog\nexport const isHidden = ({ hidden }, values) => (typeof hidden === 'function' ? hidden(values) : hidden); //Hidden fields are hidden for the current dialog state, and can't be shown via other options\n\nexport const bindField = ({ f, values, initialValues, errors, touched, handleChange, handleBlur, submitting, showErrors = false }) => {\n  const {\n    required,\n    type,\n    autoFocus,\n    InputProps,\n    inputProps,\n    step,\n    min,\n    max,\n    tab,\n    multiline,\n    rows,\n    getProps,\n    disableCloseOnSelect,\n    description,\n    tooltip,\n    replace,\n    placeholder\n  } = f; // Only pass necessary props to field\n  const props = {\n    autoFocus,\n    required,\n    type,\n    value: getValue(f, values),\n    initialValue: getValue(f, initialValues),\n    error: (showErrors || f.showError) && getValue(f, errors),\n    label: getLabel(f),\n    disabled: isDisabled(f, values) || submitting,\n    onChange: handleChange(f),\n    onBlur: handleBlur(f),\n    items: f.filter ? f.filter(f.items, values) : typeof f.items === 'function' ? f.items(values) : f.items,\n    InputProps,\n    inputProps,\n    step,\n    min,\n    max,\n    tab,\n    multiline,\n    rows,\n    disableCloseOnSelect,\n    description,\n    tooltip,\n    replace,\n    placeholder,\n    ...(getProps && getProps(values)) // Allows the field to hook into the internal state values if needed\n  };\n  Object.keys(props).forEach(key => props[key] === undefined && delete props[key]); // Filter out any undefined props so they don't override any previously specified values\n  return props;\n};\n\nexport const isEnabled = value => value === true || value === undefined;\n\nexport const useHandleChange = (setValues, resetErrors = undefined) =>\n  React.useCallback(\n    field => e => {\n      var value = e && e.target && e.target.value;\n      if (field && field.uppercase && !checkEmpty(value)) {\n        value = value.toUpperCase();\n      }\n      setValues(prev => setMappedValue({ field, value, prev: { ...prev } })); // Ensure prev is a new copy\n      resetErrors && resetErrors();\n      field.onChange && field.onChange({ value, field, setValues });\n    },\n    [setValues, resetErrors]\n  );\n\nexport const getDefaultValues = fields => {\n  const defaultValues = {};\n  fields.forEach(field => {\n    field.initialValue !== undefined &&\n      setMappedValue({\n        field,\n        value: field.initialValue,\n        prev: defaultValues\n      });\n  });\n  return defaultValues;\n};\n\nexport const useValues = ({\n  open,\n  fields = [],\n  InitialValues = {},\n  state = {} as any,\n  setState,\n  validate,\n  externalValues = undefined, // Use with externalSetValues, for having an external state, such as redux\n  externalSetValues = undefined, //Use with externalValues, for having an external state, such as redux\n  onChange = undefined,\n  disableInitialize = false\n}) => {\n  const { initialValues = {}, submitting, showErrors } = state;\n  const defaultValues = getDefaultValues(fields); // Get any default values from the individual fields first\n  var mergedInitialValues = merge(defaultValues, InitialValues); // Merge with any incoming initialValues from the properties\n  mergedInitialValues = merge(mergedInitialValues, initialValues); // Merge any initial values from the external dialog state\n  const [internalValues, setInternalValues] = React.useState(mergedInitialValues);\n  const values = externalValues ? externalValues : internalValues;\n\n  const setValues = React.useCallback(\n    vals => {\n      externalSetValues ? externalSetValues(vals) : setInternalValues(vals);\n      onChange && onChange(vals);\n    },\n    [externalSetValues, setInternalValues, onChange]\n  );\n\n  const [touched, setTouched] = React.useState({});\n\n  const mergedInitialValuesStr = JSON.stringify(mergedInitialValues); // Use a string since the object references will change everytime\n  const initializeValues = React.useCallback(() => {\n    setTouched({});\n    setValues(JSON.parse(mergedInitialValuesStr));\n  }, [setValues, mergedInitialValuesStr]);\n\n  React.useEffect(() => {\n    // Re-initialize values when necessary\n    open && !disableInitialize && setValues(JSON.parse(mergedInitialValuesStr));\n    open && !disableInitialize && setTouched({});\n  }, [open, mergedInitialValuesStr, disableInitialize, setValues]);\n\n  const internalErrors = open ? handleValidation({ values, fields, errors: state.errors }) : {}; // Perform standard field validations, required, email, etc\n  const externalErrors = open && validate ? validate(values, state) : {}; // Add any external validations if specified\n  const errors = merge(internalErrors, externalErrors);\n  const errorCount = fields ? fields.filter(f => isError(f, values, errors)).length : 0;\n\n  const stateErrors = state.errors;\n  const resetErrors = React.useCallback(() => isObjectWithKeys(stateErrors) && setState(prev => ({ ...prev, errors: {} })), [setState, stateErrors]); // Reset any external errors\n  const handleChange = useHandleChange(setValues, resetErrors);\n  const handleBlur = React.useCallback(\n    field => () => {\n      setTouched(prev => setMappedValue({ field, value: true, prev: { ...prev } })); // Ensure new copy of prev is used\n    },\n    [setTouched]\n  );\n\n  const mapField = f =>\n    bindField({\n      f,\n      values,\n      initialValues: mergedInitialValues,\n      errors,\n      touched,\n      handleChange,\n      handleBlur,\n      submitting,\n      showErrors\n    });\n\n  return {\n    values,\n    setValues,\n    hasChanged: hasChanged(values, mergedInitialValues),\n    touched,\n    errors,\n    errorCount,\n    handleChange,\n    handleBlur,\n    mapField,\n    initializeValues\n  };\n};\n\nexport const handleValidation = ({ values, fields, errors: Errors }) => {\n  var errors = { ...Errors }; // Make a copy\n  fields.forEach(f => {\n    if (f.email && !checkEmpty(getValue(f, values)) && !validateEmail(getValue(f, values))) {\n      setMappedValue({ field: f, value: 'Invalid email format.', prev: errors });\n    } else if (f.required && checkEmpty(getValue(f, values))) {\n      setMappedValue({ field: f, value: 'Required', prev: errors });\n    } else if (f.http && !checkEmpty(getValue(f, values)) && !validateHttpUrl(getValue(f, values))) {\n      setMappedValue({ field: f, value: 'Invalid http url format.', prev: errors });\n    } else if (f.validate) {\n      setMappedValue({ field: f, value: emptyUndefined(f.validate(values)), prev: errors });\n    }\n  });\n\n  return errors;\n};\n\n// Only count errors for active fields that are not disabled or hidden\nexport const isError = (field, values, errors) => {\n  return (\n    !(isActive(field, values) === false) && // Active\n    !(isDisabled(field, values) === true) && // Not disabled\n    !(isHidden(field, values) === true) && // Not hidden\n    getValue(field, errors) !== undefined // Not undefined\n  );\n};\n\n// Returns a static field array to prevent un-necessary re-renders\nexport const useStepFields = steps => {\n  const [fields, setFields] = React.useState(\n    steps\n      .filter(s => s.fields)\n      .map(s => s.fields)\n      .reduce((t, c) => (t = [...t, ...c]), [])\n  );\n\n  React.useEffect(() => {\n    setFields(\n      steps\n        .filter(s => s.fields)\n        .map(s => s.fields)\n        .reduce((t, c) => (t = [...t, ...c]), [])\n    );\n  }, [steps, setFields]);\n  return fields;\n};\n","import * as React from 'react';\nimport { TextField } from '@material-ui/core';\nimport { isError } from '../../../helpers';\n\nconst Text = ({ value = '', margin = 'dense', variant = 'outlined', forceErrorMargin = false, error = undefined, initialValue = undefined, ...other }) => (\n  <TextField\n    value={value}\n    error={isError(error)}\n    helperText={forceErrorMargin ? error || ' ' : error} // Forces a constant helper text margin\n    margin={margin as any}\n    variant={variant as any}\n    fullWidth\n    InputLabelProps={{\n      shrink: true\n    }}\n    {...other}\n  />\n);\n\nexport default Text;\n","import React from 'react';\nimport { Grid, Collapse, Tooltip, Typography } from '@material-ui/core';\nimport Text from '../DialogField/Text';\nimport { isActive, isHidden, getValue } from './helpers';\nimport { debugSettings, checkEmpty } from '../../../helpers';\n\nconst getColumnFields = (fields, columns, index) => {\n  const numFields = fields.length;\n  const numCols = columns;\n  const numColsField = Math.ceil(numFields / numCols);\n  const startIndex = numColsField * index;\n  const endIndex = Math.min(startIndex + numColsField - 1, numFields - 1);\n  return fields.filter((f, i) => i >= startIndex && i <= endIndex);\n};\n\nexport const MapField = ({ Field, style, active, xs = 12, values, mapField, fullWidth, ...f }) => {\n  const collapse = isActive({ active }, values);\n\n  const item = Field ? <Field {...mapField(f)} values={values} /> : checkEmpty(f.id) ? undefined : <Text {...mapField(f)} />;\n\n  const { id, container, object } = f; // InputProps causes circular reference error for some reason, so remove it before stringify\n  const value = getValue(f, values);\n\n  const wrappeditem = (\n    <Tooltip\n      title={\n        <>\n          <Typography>Value: {typeof value === 'object' ? JSON.stringify(value) : value}</Typography>\n          <Typography>{JSON.stringify({ id, container, object })}</Typography>\n        </>\n      }\n    >\n      <div>{item}</div>\n    </Tooltip>\n  );\n  const Item = debugSettings.debugfieldonhover ? wrappeditem : item;\n\n  return (\n    <Grid key={`${f.id}`} item style={style} xs={fullWidth ? 12 : (xs as any)}>\n      {collapse !== undefined ? <Collapse in={collapse}>{Item}</Collapse> : Item}\n    </Grid>\n  );\n};\n\nconst Fields = ({ fields, mapField, values, fullWidth = false, columns = 1, minColumnWidth = 250, maxColumnWidth = 250 }) =>\n  columns > 1 ? (\n    <Grid key='column-container' item xs={12} container spacing={0} justify='center'>\n      {Array.from(Array(columns).keys()).map(i => (\n        <Grid key={i} item xs={fullWidth ? 12 : true} style={fullWidth ? {} : { minWidth: minColumnWidth, maxWidth: maxColumnWidth }}>\n          <Grid container justify='center' spacing={1}>\n            <Grid item xs={11}>\n              <Fields\n                fields={getColumnFields(fields, columns, i)}\n                mapField={mapField}\n                values={values}\n                fullWidth={false}\n                columns={1}\n                minColumnWidth={minColumnWidth}\n                maxColumnWidth={maxColumnWidth}\n              />\n            </Grid>\n          </Grid>\n        </Grid>\n      ))}\n    </Grid>\n  ) : (\n    fields.filter(f => !isHidden(f, values)).map((props, i) => <MapField key={i} values={values} mapField={mapField} fullWidth={fullWidth} {...props} />)\n  );\n\nexport const InjectField = ({ values, mapField, fullWidth, fields, id, object = undefined, container = undefined, ...other }) => {\n  const f = fields.find(\n    f => f.id === id && (object !== undefined ? f.object === object : true) && (container !== undefined ? f.container === container : true)\n  );\n  return !f || isHidden(f, values) ? <></> : <MapField {...f} {...other} values={values} mapField={mapField} fullWidth={fullWidth} />;\n};\n\nexport default Fields;\n","import React from 'react';\nimport { Grid, Typography } from '@material-ui/core';\n\nexport default function ErrorGate({ error, children }) {\n  return error ? (\n    <Grid container spacing={2}>\n      <Grid item xs={12}>\n        <Typography align='center'>Error loading data, please close and try again.</Typography>\n      </Grid>\n      <Grid item xs={12}>\n        <Typography align='center' color='error'>\n          Error: {error}\n        </Typography>\n      </Grid>\n    </Grid>\n  ) : (\n    children\n  );\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Divider from '@material-ui/core/Divider';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, createStyles } from '@material-ui/styles';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { IconButton, Grid, Tooltip, CircularProgress, useTheme, Collapse } from '@material-ui/core';\nimport { useDialogState } from './useDialogState';\nimport Paper from '@material-ui/core/Paper';\nimport Draggable from 'react-draggable';\nimport { useValues } from './helpers';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Fields from './Fields';\nimport ErrorGate from './ErrorGate';\nimport { useFullScreen } from '../../../hooks';\nimport { evalFunc } from '../../../helpers';\n\nfunction PaperComponent(props) {\n  return (\n    <Draggable cancel={'[class*=\"MuiDialogContent-root\"]'}>\n      <Paper {...props} />\n    </Draggable>\n  );\n}\n\nconst useStyles = makeStyles(({ spacing, palette, layout }: any) =>\n  createStyles({\n    button: {\n      width: '100%',\n      maxWidth: '200px'\n    },\n    dialog: {\n      display: 'flex',\n      flexDirection: 'column',\n      outline: 'none',\n      border: `5px solid ${palette.primary}`\n    },\n    dialogHeader: {\n      background: palette.grey[100]\n    },\n    capitalize: {\n      textTransform: 'capitalize'\n    },\n    content: {\n      padding: spacing(2)\n    },\n    actions: {\n      margin: 0,\n      padding: spacing(1),\n      paddingTop: spacing(0.5),\n      paddingBottom: spacing(0.5)\n    },\n    title: {\n      background: palette.primary.main,\n      color: palette.common.white,\n      margin: 0,\n      padding: 0,\n      paddingLeft: spacing(2),\n      paddingRight: spacing(1)\n    },\n    closeButton: {\n      color: 'inherit'\n    },\n    deleteButton: {\n      color: palette.common.white,\n      background: palette.error.main,\n      '&:hover': {\n        background: palette.error.dark\n      }\n    },\n    deleteButtonEmpty: {\n      color: palette.error.main\n    },\n    formControl: {\n      marginTop: 8\n    },\n    submitProgress: {\n      color: palette.primary.light,\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -(layout.progressSize / 2),\n      marginLeft: -(layout.progressSize / 2)\n    }\n  })\n);\n\nexport interface FieldProps {\n  id: string | number;\n  label: string;\n  type: string;\n  Field?: Element;\n  getValue?: (f: FieldProps, values: any) => any;\n}\n\nexport interface ComponentProps {\n  id: string;\n  title: string;\n  initialValues?: object;\n  cancelLabel: string;\n  deleteLabel: string;\n  submitLabel: string;\n  draggable: boolean;\n  onSubmit: any;\n  onDelete: any;\n  OnClose: any;\n  validate: any;\n  Content: Element;\n  ContentProps: any;\n  fields: FieldProps[];\n  classes?: object;\n}\n\nconst GenericDialog = ({\n  id,\n  title: Title, // Title can be set via the state as well as the input props, state takes priority\n  initialValues: InitialValues, // If initial values are provided they are merged with the initial values from the state\n  draggable = false,\n  cancelLabel = 'Cancel',\n  deleteLabel = 'Delete',\n  submitLabel,\n  fields = [] as any[],\n  onSubmit,\n  onDelete,\n  onClose,\n  Content,\n  ContentProps,\n  validate,\n  classes: Classes,\n  children,\n  ...other\n}: ComponentProps & any) => {\n  const { layout } = useTheme();\n  const [state, setState] = useDialogState(id);\n  const { type, open = false, loading, submitting } = state;\n  const title = state.title ? state.title : Title;\n\n  const [confirmDelete, setConfirmDelete] = React.useState(false);\n  const handleConfirmDelete = React.useCallback(() => setConfirmDelete(prev => !prev), [setConfirmDelete]);\n\n  const classes = useStyles({ classes: Classes });\n  const fullScreen = useFullScreen();\n\n  const { values, setValues, hasChanged, errors, errorCount, mapField } = useValues({\n    open,\n    fields,\n    InitialValues,\n    state,\n    setState,\n    validate\n  });\n\n  React.useEffect(() => {\n    open && setConfirmDelete(false);\n  }, [open]); // Re-initialize values when necessary\n\n  const values_s = JSON.stringify(values);\n  const handleSubmit = React.useCallback(() => {\n    if (errorCount > 0) {\n      setState(prev => ({ ...prev, showErrors: true }));\n    } else {\n      onSubmit && onSubmit(JSON.parse(values_s), setValues);\n    }\n  }, [setState, onSubmit, values_s, setValues, errorCount]);\n\n  const handleDelete = React.useCallback(() => {\n    onDelete && onDelete(JSON.parse(values_s));\n  }, [onDelete, values_s]);\n\n  const handleClose = React.useCallback(() => {\n    setState(prev => ({ ...prev, open: false, showErrors: false }));\n    onClose && onClose();\n  }, [setState, onClose]);\n\n  const contentProps = {\n    fields,\n    mapField,\n    values,\n    ...ContentProps\n  };\n\n  const inProgress = loading || submitting;\n  const disabled = inProgress || errors['loading'];\n\n  return (\n    <Dialog\n      PaperComponent={!fullScreen && draggable ? PaperComponent : Paper}\n      fullScreen={fullScreen}\n      open={open}\n      onClose={handleClose}\n      aria-labelledby={`${id}-dialog-title`}\n      aria-describedby={`${id}-dialog-description`}\n      className={classes.dialog}\n      disableAutoFocus={true}\n      maxWidth='xs'\n      fullWidth\n      {...other}\n    >\n      {title !== null && (\n        <>\n          <DialogTitle id={`${id}-dialog-title`} disableTypography className={classes.title}>\n            <Grid container justify='space-between' alignItems='center'>\n              <Grid item zeroMinWidth xs>\n                <Typography noWrap variant='h6' className={classes.capitalize}>\n                  {title ? title : [type, id].join(' ')}\n                </Typography>\n              </Grid>\n              <Grid item>\n                {handleClose ? (\n                  <Tooltip title='Close' placement='left'>\n                    <IconButton aria-label='close' className={classes.closeButton} onClick={handleClose}>\n                      <CloseIcon />\n                    </IconButton>\n                  </Tooltip>\n                ) : null}\n              </Grid>\n            </Grid>\n          </DialogTitle>\n          <Divider />\n        </>\n      )}\n      <ErrorGate error={errors['loading']}>\n        <>\n          {children ? (\n            children\n          ) : Content ? (\n            <Content {...contentProps} />\n          ) : (\n            <DialogContent className={classes.content} dividers>\n              {inProgress && <CircularProgress size={layout.progressSize} className={classes.submitProgress} />}\n              <Collapse in={!confirmDelete}>\n                <Grid container alignItems='center' spacing={1}>\n                  <Fields {...contentProps} />\n                </Grid>\n              </Collapse>\n              {confirmDelete && (\n                <Grid container spacing={2} justify='center' alignItems='center'>\n                  <Grid item>\n                    <Button onClick={handleConfirmDelete} color='secondary'>\n                      Cancel\n                    </Button>\n                  </Grid>\n                  <Grid item>\n                    <Button onClick={handleDelete} className={classes.deleteButton}>\n                      <DeleteIcon style={{ marginRight: 4 }} />\n                      Confirm {deleteLabel}\n                    </Button>\n                  </Grid>\n                </Grid>\n              )}\n            </DialogContent>\n          )}\n        </>\n      </ErrorGate>\n      {!confirmDelete && (\n        <DialogActions className={classes.actions}>\n          {type === 'Edit' && onDelete !== undefined && (\n            <Button disabled={disabled} className={classes.deleteButtonEmpty} onClick={handleConfirmDelete}>\n              {deleteLabel}\n            </Button>\n          )}\n          {cancelLabel !== null && (\n            <Button color='default' onClick={handleClose}>\n              {cancelLabel}\n            </Button>\n          )}\n          {submitLabel !== null && (\n            <Button autoFocus disabled={disabled || !hasChanged} color='primary' onClick={handleSubmit}>\n              {evalFunc(submitLabel, values) || type}\n            </Button>\n          )}\n        </DialogActions>\n      )}\n    </Dialog>\n  );\n};\n\nexport default GenericDialog;\n","import * as React from 'react';\nimport { Typography } from '@material-ui/core';\nimport { makeStyles, createStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    root: ({ disabled }: any) => ({\n      color: disabled ? palette.text.disabled : 'inherit',      \n    })\n  })\n);\n\nconst Label = ({ label, disabled }) => (\n  <Typography className={useStyles({ disabled }).root}>\n    {label}\n  </Typography>\n);\n\nexport default Label;\n","import * as React from 'react';\nimport { Divider } from '@material-ui/core';\n\nconst MarginDivider = ({ marginTop = 8, marginBottom = 8, ...other }) => <Divider style={{ marginTop, marginBottom }} {...other} />;\n\nexport default MarginDivider;\n","import { region, identityPoolIdUnauth, sourceEmailAddress } from '../../../../../package.json';\nimport { hostAddress, publicUrl } from '../../../../helpers';\nexport const AWS = require('aws-sdk'); // Load the AWS SDK for Node.js\n\n// Initialize the Amazon Cognito credentials provider\nAWS.config.region = region;\nAWS.config.credentials = new AWS.CognitoIdentityCredentials({\n  IdentityPoolId: identityPoolIdUnauth\n});\n\nexport const sendInstructorInvite = ({\n  id,\n  email,\n  institution = 'Unknown',\n  title = 'Unknown',\n  role = 'Instructor',\n  onSuccess = undefined,\n  onError = undefined\n}) => {\n  console.log('Sending instructor invite to: ' + email);\n  const body = `You have been invited to the Doors Web Application:\n    <p>User Email: ${email}</p>  \n    <p>Role: ${role}</p>\n    <p>Role: ${title}</p>\n    <p>Institution: ${institution}</p>\n    \n    <h2><a href='${hostAddress(publicUrl(`/?i=${id}&t=i`))}'>Click here to accept the invite<a/></h2>\n    `;\n\n  // Create sendEmail params\n  var params = {\n    Destination: {\n      /* required */ CcAddresses: [],\n      ToAddresses: [email]\n    },\n    Message: {\n      /* required */\n      Body: {\n        /* required */\n        Html: {\n          Charset: 'UTF-8',\n          Data: body\n        },\n        Text: {\n          Charset: 'UTF-8',\n          Data: body\n        }\n      },\n      Subject: {\n        Charset: 'UTF-8',\n        Data: `${role} Invitation to Doors Web Application!`\n      }\n    },\n    Source: sourceEmailAddress /* required */,\n    ReplyToAddresses: [sourceEmailAddress]\n  };\n\n  // Create the promise and SES service object\n  var sendPromise = new AWS.SES({ apiVersion: '2010-12-01' }).sendEmail(params).promise();\n\n  // Handle promise's fulfilled/rejected states\n  sendPromise\n    .then(function (data) {\n      onSuccess && onSuccess(data);\n    })\n    .catch(function (err) {\n      console.error(err, err.stack);\n      onError && onError(err);\n    });\n};\n","import * as React from 'react';\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux';\nimport { AppState } from '../../../store';\nimport { updateSnackBar, SnackBarState } from './store';\n\nexport const useSnackBar = (): [SnackBarState, (SnackBarProps) => void] => {\n  const dispatch = useDispatch();\n  const state: SnackBarState = useSelector((state: AppState) => state.snackBar, shallowEqual);\n  const setState = React.useCallback((payload: SnackBarState) => dispatch(updateSnackBar(payload)), [dispatch]);\n  return [state, setState];\n};\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport Label from '../../DialogField/Label';\nimport MarginDivider from '../../DialogField/MarginDivider';\nimport { sendInstructorInvite } from './helpers';\nimport { useDialogState } from '../useDialogState';\nimport { useSnackBar } from '../../SnackBar/useSnackBar';\nimport useProcessData from '../../../../database/useProcessData';\nimport { tables } from '../../../../database/dbConfig';\nimport Instructor from '../../../../database/models/Instructor';\nimport { uuid } from '../../../../helpers';\nimport { useUserId } from '../../../layout/hooks';\n\nexport const title = 'Add Instructor';\n\nexport default function AddInstructorDialog({ id = title, onClose }) {\n  const [, setState] = useDialogState(id);\n  const [, setSnackbar] = useSnackBar();\n\n  const handleClose = React.useCallback(\n    (props = undefined) => {\n      props && setSnackbar(props);\n      setState(prev => ({ ...prev, open: false, loading: false }));\n      onClose && onClose();\n    },\n    [onClose, setState, setSnackbar]\n  );\n\n  const processData = useProcessData();\n  const parentId = useUserId();\n\n  const submitData = React.useCallback(\n    ({ values, OnSuccess }) => {\n      const { email, title, institution } = values;\n      const instructor: Instructor = {\n        id: uuid(),\n        email,\n        title,\n        institution,\n        parentId\n      };\n\n      setState(prev => ({ ...prev, loading: true }));\n\n      processData({\n        Model: tables.instructors,\n        Action: 'c',\n        Data: instructor,\n        onError: () => setState(prev => ({ ...prev, loading: false, error: 'Error submitting values' })),\n        onSuccess: OnSuccess(instructor)\n      });\n    },\n    [setState, processData, parentId]\n  );\n\n  const onError = React.useCallback(() => {\n    handleClose({ open: true, variant: 'error', message: 'Error sending invite' });\n  }, [handleClose]);\n\n  const onSuccess = React.useCallback(() => {\n    handleClose({ open: true, variant: 'success', message: 'Successfully sent invite' });\n  }, [handleClose]);\n\n  const onSubmitSuccess = React.useCallback(\n    values => ({ id }) => {\n      sendInstructorInvite({ id, email: values.email, title: values.title, institution: values.institution, onSuccess, onError });\n    },\n    [onError, onSuccess]\n  );\n\n  const handleSubmit = React.useCallback(values => submitData({ values, OnSuccess: onSubmitSuccess(values) }), [submitData, onSubmitSuccess]);\n\n  return (\n    <GenericDialog\n      id={id}\n      title={id}\n      submitLabel='Send Invite'\n      onSubmit={handleSubmit}\n      onClose={onClose}\n      fields={[\n        {\n          label: `Enter instructor's email and we will send a link to activate their account:`,\n          Field: Label\n        },\n        {\n          Field: MarginDivider\n        },\n        {\n          id: 'email',\n          label: 'Email',\n          required: true,\n          email: true\n        },\n        {\n          id: 'title',\n          label: 'Title',\n          required: true\n        },\n        {\n          id: 'institution',\n          label: 'Institution',\n          required: true\n        }\n      ]}\n    />\n  );\n}\n","import * as React from 'react';\nimport GenericTableContainer from '../GenericTableContainer';\nimport { MultiUserToolbar } from './toolbars';\nimport { useInstructors } from './useInstructors';\nimport * as Icons from '@material-ui/icons';\nimport useTabSelector from '../../Selector/useTabSelector';\nimport DialogButton from '../../GenericDialog/DialogButton';\nimport * as AddInstructorDialog from '../../GenericDialog/AddInstructor';\n\nconst tabs = [\n  { id: 'Active', icon: Icons.GroupOutlined },\n  {\n    id: 'Archived',\n    icon: Icons.Archive,\n    requestParams: {\n      FilterExpression: '#deleted = :deleted',\n      ExpressionAttributeNames: {\n        '#deleted': 'deleted'\n      },\n      ExpressionAttributeValues: {\n        ':deleted': true\n      }\n    }\n  }\n];\n\nexport default function Instructors({ name = 'Instructors', ...other }) {\n  const [{ value: tab = 'Active' }] = useTabSelector(name);\n  const requestParams = tabs.find(t => t.id === tab)?.requestParams;\n  const { data, loading, handleRefresh } = useInstructors({ table: name, tab, requestParams });\n  return (\n    <GenericTableContainer\n      name={name}\n      loading={loading}\n      title={`${tab} ${name}`}\n      tabs={tabs}\n      columns={[\n        { name: 'email', header: 'Email' },\n        { name: 'title', header: 'Title' },\n        { name: 'institution', header: 'Institution' },\n        { name: 'Invite', header: 'Invite Status' }\n      ]}\n      toolbar={true}\n      footer={true}\n      search={true}\n      stacked={true}\n      data={data}\n      checkbox={false}\n      select={false}\n      MultiSelectToolbar={props => <MultiUserToolbar tab={tab} {...props} />}\n      buttons={[\n        <DialogButton Module={AddInstructorDialog} Icon={Icons.Add} onClose={handleRefresh} size='small' margin='dense' variant='styled' tooltip=''>\n          Add New\n        </DialogButton>\n      ]}\n      {...other}\n    />\n  );\n}\n","import * as React from 'react';\nimport InstructorsTable from '../application/GenericTable/Instructors/table';\n\nexport default function Instructors() {\n  return <InstructorsTable />;\n}\n","import * as React from 'react';\nimport clsx from 'clsx';\nimport { Grid, Box, Card, CardContent, makeStyles, Divider } from '@material-ui/core';\nimport Text from '../../application/DialogField/Text';\nimport StyledButton from '../../general/StyledButton';\n\nconst useStyles = makeStyles(({ palette }) => ({\n  root: {},\n  header: {\n    background: palette.primary.main,\n    color: palette.common.white\n  }\n}));\n\nexport default function ProfileSettings({ className = undefined, user, ...rest }) {\n  const classes = useStyles();\n  const [{ name, email, city, state }, setState] = React.useState(user);\n  const handleChange = React.useCallback(\n    name => event => {\n      const value = event?.target?.value; // Must be const out side of setState because of event pooling\n      setState(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    },\n    [setState]\n  );\n  return (\n    <Card className={clsx(classes.root, className)} {...rest}>\n      <CardContent>\n        <Grid container spacing={3}>\n          <Grid item md={6} xs={12}>\n            {<Text onChange={handleChange('name')} margin='normal' label='Name' name='name' value={name} />}\n          </Grid>\n          <Grid item md={6} xs={12}>\n            {<Text onChange={handleChange('email')} margin='normal' label='Email' name='email' value={email} />}\n          </Grid>\n          <Grid item md={6} xs={12}>\n            {<Text onChange={handleChange('city')} margin='normal' label='City' name='city' value={city} />}\n          </Grid>\n          <Grid item md={6} xs={12}>\n            {<Text onChange={handleChange('state')} margin='normal' label='State/Region' name='state' value={state} />}\n          </Grid>\n        </Grid>\n      </CardContent>\n      <Divider />\n      <Box p={2} display='flex' justifyContent='flex-end'>\n        <StyledButton onClick={() => alert('To be completed')}>Save</StyledButton>\n      </Box>\n    </Card>\n  );\n}\n","import React from 'react';\nimport type { FC } from 'react';\nimport clsx from 'clsx';\nimport { Avatar, Box, Card, CardContent, Typography, makeStyles } from '@material-ui/core';\nimport { useUserType } from '../../../hooks';\nimport DialogButton from '../../application/GenericDialog/DialogButton';\n\ninterface ProfileDetailsProps {\n  className?: string;\n  user: any;\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {},\n  name: {\n    marginTop: theme.spacing(1)\n  },\n  avatar: {\n    height: 82,\n    width: 82\n  }\n}));\n\nconst ProfileDetails: FC<ProfileDetailsProps> = ({ className, user, ...rest }) => {\n  const classes = useStyles();\n  const userType = useUserType();\n\n  return (\n    <Card className={clsx(classes.root, className)} {...rest}>\n      <CardContent>\n        <Box display='flex' alignItems='center' flexDirection='column' textAlign='center'>\n          <Avatar className={classes.avatar} src={user.avatar} />\n          <DialogButton variant='link' underline='always' onClick={() => alert('To be implemented')}>\n            UPLOAD PICTURE\n          </DialogButton>\n          <Box mt={1}>\n            <Typography className={classes.name} color='textPrimary' variant='h4'>\n              {user.name}\n            </Typography>\n            <Typography color='textPrimary' variant='h6'>\n              {userType}\n            </Typography>\n          </Box>\n        </Box>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default ProfileDetails;\n","import * as React from 'react';\nimport { Container, createStyles, makeStyles } from '@material-ui/core';\nimport Header from '../layout/Header';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    container: {\n      marginTop: 8,\n      marginBottom: 8\n    },\n    header: {\n      color: palette.primary.dark\n    }\n  } as any)\n);\n\nexport default function Page({ title = '', ActionButton = undefined, children = <></> }) {\n  const classes = useStyles();\n  return (\n    <>\n      <Header title={title} ActionButton={ActionButton} />\n      <Container disableGutters={true} className={classes.container} maxWidth={false}>\n        {children}\n      </Container>\n    </>\n  );\n}\n","import * as React from 'react';\nimport { Grid } from '@material-ui/core';\nimport ProfileSettings from './ProfileSettings';\nimport ProfileDetails from './ProfileDetails';\nimport Page from '../Page';\n\nexport default function Profile() {\n  const user = { email: 'test@test.com', name: 'Test User', city: 'Test City', state: 'Test State' };\n  return (\n    <Page title='My Profile'>\n      <Grid container spacing={2}>\n        <Grid item lg={4} md={6} xl={3} xs={12}>\n          <ProfileDetails user={user} />\n        </Grid>\n        <Grid item lg={8} md={6} xl={9} xs={12}>\n          <ProfileSettings user={user} />\n        </Grid>\n      </Grid>\n    </Page>\n  );\n}\n","import * as React from 'react';\nimport Page from './Page';\n\nexport default function Calendar() {\n  return <Page title='Calendar Placeholder'></Page>;\n}\n","import calendar from '../../../images/calendar.png';\nimport wifi from '../../../images/wifi.png';\nimport picture from '../../../images/picture.png';\nimport contacts from '../../../images/contacts.png';\nimport musicplayer from '../../../images/musicplayer.png';\nimport newspaper from '../../../images/newspaper.png';\nimport checkbox from '../../../images/checkbox.png';\nimport video from '../../../images/video.png';\n\nexport const images = {\n  wifi,\n  calendar,\n  picture,\n  contacts,\n  musicplayer,\n  newspaper,\n  checkbox,\n  video\n};\n\nexport const getImage = key => images[key];\n","import React from 'react';\nimport clsx from 'clsx';\nimport { Box, Card, Typography, makeStyles, Grid } from '@material-ui/core';\nimport StyledButton from '../../general/StyledButton';\nimport { BlockListItem } from '../../general/BlockList';\nimport { getImage } from './helpers';\n\nconst useStyles = makeStyles(({ palette, spacing }) => ({\n  root: {},\n  header: {\n    color: palette.common.black,\n    padding: spacing(2),\n    minHeight: 96\n  },\n  imageContainer: {\n    marginTop: spacing(4),\n    textAlign: 'center',\n    marginBottom: spacing(4)\n  },\n  summary: {\n    minHeight: 100,\n    alignItems: 'center',\n    color: palette.common.white,\n    background: palette.primary.light,\n    padding: spacing(1, 2, 1, 2)\n  }\n}));\n\nexport default function Class({\n  headline = '',\n  name = '',\n  image = 'calendar',\n  keySkills = [] as BlockListItem[],\n  className = undefined,\n  onClick = undefined,\n  rankingModel = [] as BlockListItem[],\n  surveyQuestions = [] as BlockListItem[],\n  classResources = [],\n  classPresentation = undefined,\n  ...rest\n}) {\n  const classes = useStyles();\n  return (\n    <Card className={clsx(classes.root, className)} {...rest}>\n      <div className={classes.header}>\n        <Typography noWrap gutterBottom variant='subtitle1' color='textSecondary'>\n          {headline}\n        </Typography>\n        <Typography noWrap gutterBottom variant='h6' color='textPrimary'>\n          {name}\n        </Typography>\n      </div>\n      <div className={classes.imageContainer}>\n        <img src={getImage(image)} alt={headline} />\n      </div>\n      <Grid container className={classes.summary} alignItems='center'>\n        <Grid item>\n          {keySkills.map(({ id, name }) => (\n            <Typography key={id} component='h6' gutterBottom variant='subtitle1'>\n              {name}\n            </Typography>\n          ))}\n        </Grid>\n      </Grid>\n      <Box m={2} textAlign='center'>\n        <StyledButton onClick={onClick}>View</StyledButton>\n      </Box>\n    </Card>\n  );\n}\n","import * as React from 'react';\nimport { Grid } from '@material-ui/core';\nimport Class from './Class';\nimport Page from '../Page';\nimport { useHandleChangeRoute } from '../../layout/hooks';\nimport { useIsAdminMode } from '../../../hooks';\nimport StyledButton from '../../general/StyledButton';\nimport useClasses from './useClasses';\n\nconst ActionButton = () => {\n  const changeRoute = useHandleChangeRoute();\n  return <StyledButton onClick={changeRoute('/CreateClass')}>Create New Class</StyledButton>;\n};\n\nexport default function Classes() {\n  const handleChangeRoute = useHandleChangeRoute();\n  const isAdminMode = useIsAdminMode();\n  const { data } = useClasses({ table: 'classes', tab: 'all' });\n\n  return (\n    <Page title='Available Classes' ActionButton={isAdminMode ? ActionButton : undefined}>\n      <Grid container spacing={3}>\n        {[\n          data.map(s => (\n            <Grid key={[s.id, s.title].join('-')} item lg={3} sm={6} xs={12}>\n              <Class {...s} onClick={handleChangeRoute('/ClassDashboard', s)} />\n            </Grid>\n          ))\n        ]}\n      </Grid>\n    </Page>\n  );\n}\n","import * as React from 'react';\nimport useTable from '../../../database/useTable';\nimport { tables } from '../../../database/dbConfig';\nimport { useTableFilter } from '../../application/GenericTable/helpers';\n\nexport default function useClasses({ table = undefined, tab = undefined, requestParams = undefined }) {\n  const { state, handleRequest } = useTable({ TableName: tables.classes });\n  const { data, loading, success } = state as any;\n\n  const handleRefresh = React.useCallback(() => {\n    handleRequest(requestParams);\n    // eslint-disable-next-line\n  }, [JSON.stringify(requestParams), handleRequest]);\n\n  React.useEffect(() => {\n    handleRefresh();\n  }, [handleRefresh, table, tab]);\n\n  const rows = Object.keys(data).map(k => ({ ...data[k] }));\n\n  return {\n    data: useTableFilter(\n      rows.map(i => ({ ...i })),\n      table\n    ),\n    handleRefresh,\n    loading,\n    success\n  };\n}\n","import * as React from 'react';\nimport clsx from 'clsx';\nimport { Box, Card, Typography, makeStyles, CardActions, Grid } from '@material-ui/core';\nimport StyledButton from './StyledButton';\nimport { bool } from '../../helpers';\nimport * as Icons from '@material-ui/icons';\nimport { useIsAdminMode } from '../../hooks';\n\nconst useStyles = makeStyles(({ palette, spacing }) => ({\n  root: {},\n  header: ({ minHeight = 116 }: any) => ({\n    minHeight,\n    color: palette.common.black,\n    padding: spacing(2)\n  }),\n  actions: {\n    display: 'flex',\n    alignItems: 'flex-end',\n    justifyContent: 'flex-end'\n  },\n  circle: {\n    borderRadius: 50,\n    width: 36,\n    height: 36,\n    border: `2px solid ${palette.primary.main}`\n  },\n  circleText: {\n    textAlign: 'center',\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n}));\n\nexport default function ActionCard({\n  title = undefined,\n  item = {} as any,\n  index = undefined,\n  description = undefined,\n  actionLabel = 'View',\n  onClick = undefined,\n  className = undefined,\n  titleProps = undefined,\n  minHeight = undefined,\n  disabled = undefined,\n  onLock = undefined,\n  onRemove = undefined,\n  onEdit = undefined,\n  ...rest\n}) {\n  const classes = useStyles({ minHeight });\n  const { name, locked, canLock } = item;\n  const handleLock = React.useCallback(item => () => onLock && onLock(item), [onLock]);\n  const handleRemove = React.useCallback(item => () => onRemove && onRemove(item), [onRemove]);\n  const handleEdit = React.useCallback(item => () => onEdit && onEdit(item), [onEdit]);\n  const Title = title ? title : name ?? '';  \n\n  const isAdminMode = useIsAdminMode();\n  const canEdit = !bool(canLock) || (bool(canLock) && bool(!locked)); // Can edit if the user is an admin or an instructor and the object is not locked\n  const canDelete = canEdit;\n  return (\n    <Card className={clsx(classes.root, className)} {...rest}>\n      <div className={classes.header}>\n        {Title && (\n          <Grid container spacing={1}>\n            {index !== undefined && (\n              <Grid item>\n                <div className={classes.circle}>\n                  <Typography variant='h5' align='center' color='primary'>\n                    {index + 1}\n                  </Typography>\n                </div>\n              </Grid>\n            )}\n            <Grid item xs>\n              {Title && (\n                <Typography noWrap gutterBottom variant='h5' color='primary' {...titleProps}>\n                  {Title}\n                </Typography>\n              )}\n            </Grid>\n          </Grid>\n        )}\n        {description && (\n          <Typography gutterBottom variant='subtitle1' color='textPrimary'>\n            {description}\n          </Typography>\n        )}\n      </div>\n\n      {onClick && (\n        <Box m={2} textAlign='center'>\n          <StyledButton disabled={disabled} onClick={onClick}>\n            {actionLabel}\n          </StyledButton>\n        </Box>\n      )}\n      <CardActions className={classes.actions}>\n        {onEdit && bool(canEdit) && (\n          <StyledButton variant='text' onClick={handleEdit(item)}>\n            Edit\n          </StyledButton>\n        )}\n        <div>\n          <Grid container justify='flex-end' alignItems='flex-end'>\n            {onRemove && bool(canDelete) && (\n              <Grid item>\n                <StyledButton variant='text' onClick={handleRemove(item)}>\n                  Remove\n                </StyledButton>\n              </Grid>\n            )}\n            {isAdminMode && bool(canLock) && (\n              <Grid item>\n                <StyledButton Icon={bool(locked) ? Icons.Lock : Icons.LockOpen} variant='text' width={140} onClick={handleLock(item)}>\n                  {bool(locked) ? 'Locked' : 'Un-locked'}\n                </StyledButton>\n              </Grid>\n            )}\n          </Grid>\n        </div>\n      </CardActions>\n    </Card>\n  );\n}\n","import * as React from 'react';\nimport { Box, Container, createStyles, makeStyles } from '@material-ui/core';\nimport Header from '../layout/Header';\nimport DialogButton from '../application/GenericDialog/DialogButton';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    container: {\n      marginTop: 8,\n      marginBottom: 8\n    },\n    header: {\n      color: palette.primary.dark\n    }\n  } as any)\n);\n\nexport default function ChildPage({\n  backLabel = 'Back',\n  onBack = undefined,\n  supertitle = undefined,\n  title = undefined,\n  subtitle = undefined,\n  TitleButton = undefined,\n  children = <></>\n}) {\n  const classes = useStyles();\n  return (\n    <>\n      {onBack && (\n        <DialogButton variant='link' linkVariant='subtitle1' onClick={onBack}>\n          {`<  ${backLabel}`}\n        </DialogButton>\n      )}\n      <Box mt={2}>\n        <Header supertitle={supertitle} title={title} subtitle={subtitle} TitleButton={TitleButton} />\n        <Container disableGutters={true} className={classes.container} maxWidth={false}>\n          {children}\n        </Container>\n      </Box>\n    </>\n  );\n}\n","import { useLocation } from 'react-router';\nimport useData from './useData';\n\nexport const useLocationData = ({ Model }) => {\n  const { state }: any = useLocation();\n  const { id } = state;\n  return useData({ id, Model, initialState: { data: state } });\n};\n","import * as React from 'react';\nimport { evalFunc, isEmpty } from '../helpers';\nimport { tables } from './dbConfig';\nimport useProcessData from './useProcessData';\n\nexport default function useData({ id, active = true, Model = tables.classes, initialState = undefined }) {\n  const processData = useProcessData();\n  const [state, setState] = React.useState({ loading: false, error: undefined, response: undefined, data: undefined, ...initialState });\n  const { data = {}, index, loading, error } = state;\n  const data_str = JSON.stringify(data);\n\n  const setData = React.useCallback(data => setState(prev => ({ ...prev, data: evalFunc(data, prev?.data) })), [setState]);\n\n  const handleChange = React.useCallback(\n    key => ({ target }) => {\n      const { value } = target;\n      setData(prev => ({ ...prev, [`${key}`]: value }));\n    },\n    [setData]\n  );\n\n  const handleRefresh = React.useCallback(() => {\n    if (!isEmpty(id)) {\n      setState(prev => ({ ...prev, loading: true, error: undefined, response: undefined }));\n      processData({\n        Model,\n        Action: 'r',\n        Data: { id },\n        onError: response => setState(prev => ({ ...prev, loading: false, error: 'Error reading values', response, data: undefined })),\n        onSuccess: response => setState(prev => ({ ...prev, loading: false, error: undefined, response, data: response?.Item }))\n      });\n    }\n  }, [id, Model, processData, setState]);\n\n  React.useEffect(() => {\n    active === true && handleRefresh();\n  }, [id, active, handleRefresh]);\n\n  // Save the newValues data to the back-end\n  const updateData = React.useCallback(\n    (newValues, OnSuccess = undefined, OnError = undefined) => {\n      if (!isEmpty(id)) {\n        setState(prev => ({ ...prev, loading: true, error: undefined, response: undefined }));\n        processData({\n          Model,\n          Action: 'u',\n          Data: { ...JSON.parse(data_str), id, ...newValues },\n          onError: response => {\n            setState(prev => ({ ...prev, loading: false, error: 'Error reading values', response }));\n            OnError && OnError(response);\n          },\n          onSuccess: response => {\n            setState(prev => ({ ...prev, loading: false, error: undefined, response }));\n            OnSuccess && OnSuccess(response);\n          }\n        });\n      }\n    },\n    [id, Model, setState, processData, data_str]\n  );\n\n  // Save the values in state.data to the back-end\n  const saveData = React.useCallback((OnSuccess = undefined, OnError = undefined) => updateData(JSON.parse(data_str), OnSuccess, OnError), [\n    data_str,\n    updateData\n  ]);\n\n  return { loading, index, error, data, setData, handleChange, saveData, updateData };\n};\n","import * as React from 'react';\nimport { Box, Grid, Typography } from '@material-ui/core';\nimport ActionCard from '../../general/ActionCard';\nimport ChildPage from '../ChildPage';\nimport { useHandleChangeRoute } from '../../layout/hooks';\nimport { useUserType } from '../../../hooks';\nimport { isEmpty } from '../../../helpers';\nimport { tables } from '../../../database/dbConfig';\nimport { useLocationData } from '../../../database/useLocationData';\n\nconst actionCards = [\n  { title: 'Class Mode', description: 'View the class materials the way your students will', route: '/Pre-Survey', disabled: false },\n  { title: 'Edit Materials', description: 'Review and edit class materials', route: '/ClassMaterials' },\n  { title: 'Class Roster', description: 'View current participants and new members', route: '/ClassRoster' }\n];\n\nconst Model = tables.classes;\n\nexport default function ClassDashboard() {\n  const { data } = useLocationData({ Model });\n  const { name, headline, keySkills = [] } = data;\n\n  const userType = useUserType();\n  const handleChangeRoute = useHandleChangeRoute();\n\n  return (\n    <ChildPage\n      backLabel='Back to Classes'\n      onBack={handleChangeRoute('/Classes')}\n      supertitle={name}\n      title={headline}\n      subtitle={`Your are signed in as ${userType === 'Student' ? 'a' : 'an'} ${userType}`}\n    >\n      <Box mt={2}>\n        <Typography variant='h6' style={{ fontWeight: 'bold' }}>\n          Key Skills:\n        </Typography>\n        <Box mt={1} ml={1} mb={3}>\n          {keySkills\n            .filter(s => !isEmpty(s))\n            .map(({ id, name }, i) => (\n              <Typography key={`${name}-${id}`} variant='subtitle1'>\n                • {name}\n              </Typography>\n            ))}\n        </Box>\n        <Grid container spacing={3}>\n          {actionCards.map(ac => (\n            <Grid key={ac.title} item lg={4} sm={4} xs={12}>\n              <ActionCard {...ac} minHeight={150} onClick={handleChangeRoute(ac.route, data)} />\n            </Grid>\n          ))}\n        </Grid>\n      </Box>\n    </ChildPage>\n  );\n}\n","import * as React from 'react';\nimport { Grid } from '@material-ui/core';\nimport ChildPage from '../ChildPage';\nimport { useHandleChangeRoute } from '../../layout/hooks';\nimport { useLocation } from 'react-router';\n \nexport default function SessionClass() {\n  const { state } = useLocation();    \n  const handleChangeRoute = useHandleChangeRoute();  \n  return (\n    <ChildPage backLabel='Back to Session' onBack={handleChangeRoute('/SessionDashboard', state)} title='Session Class Placeholder'>\n      <Grid container spacing={3}></Grid>\n    </ChildPage>\n  );\n}\n","/* eslint-disable */\n// WARNING: DO NOT EDIT. This file is automatically generated by AWS Amplify. It will be overwritten.\n\nconst awsmobile = {\n  aws_project_region: 'us-east-1',\n  aws_cognito_identity_pool_id: 'us-east-1:e3a43f57-52bb-4180-9332-95340a48a342',\n  aws_cognito_region: 'us-east-1',\n  aws_user_pools_id: 'us-east-1_96DJd1OvH',\n  aws_user_pools_web_client_id: '7iogdrst70l8avelgtgdgrl7b6',\n  oauth: {},\n  aws_user_files_s3_bucket: 'doors103432-dev',\n  aws_user_files_s3_bucket_region: 'us-east-1',\n  aws_dynamodb_all_tables_region: 'us-east-1'\n};\n\nexport default awsmobile;\n","import * as React from 'react';\nimport awsconfig from '../aws-exports';\nimport Amplify, { Storage } from 'aws-amplify';\nimport { uuid } from '../helpers';\nAmplify.configure(awsconfig);\n\nexport default function useS3Bucket({ setState = undefined } = {}) {\n  const handleUpload = React.useCallback(\n    ({\n      id = `unknown_${uuid()}`,\n      content = undefined,\n      level = 'public', // public or private\n      contentType = 'text/plain',\n      onStart = undefined,\n      onSuccess = undefined,\n      onError = undefined\n    }) => {\n      console.log('Uploading file...');\n      onStart && onStart();\n      setState && setState(prev => ({ ...prev, loading: true, success: false }));\n      Storage.put(id, content, {\n        level,\n        contentType\n      })\n        .then(result => {\n          console.log({ status: 'Successfully uploaded file', result });\n          onSuccess && onSuccess(result);\n          setState && setState(prev => ({ ...prev, loading: false, success: true }));\n        })\n        .catch(err => {\n          console.error({ status: 'Error uploading file', err });\n          onError && onError(err);\n          setState && setState(prev => ({ ...prev, loading: false, success: false }));\n        });\n    },\n    [setState]\n  );\n\n  return { handleUpload };\n}\n","import React from 'react';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\nimport { blue } from '@material-ui/core/colors';\nimport * as Icons from '@material-ui/icons';\nimport { Menu, MenuItem, Typography } from '@material-ui/core';\nimport useS3Bucket from '../../../database/useS3Bucket';\nimport { uuid } from '../../../helpers';\nimport { useSnackBar } from '../../application/SnackBar/useSnackBar';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      maxWidth: 345\n    },\n    avatar: {\n      backgroundColor: blue[500]\n    },\n    hidden: {\n      display: 'none'\n    }\n  })\n);\n\nexport const FileActions = () => {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n  const open = Boolean(anchorEl);\n  const [, setSnackbar] = useSnackBar();\n\n  const [{ loading, uploading, error }, setState] = React.useState({ loading: false, success: false, uploading: false, error: null });\n\n  const { handleUpload } = useS3Bucket({ setState });\n\n  const handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = React.useCallback(() => {\n    setAnchorEl(null);\n  }, [setAnchorEl]);\n\n  const onInput = React.useCallback(\n    e => {\n      handleClose();\n      const uploadFiles = e.target.files;\n      const arrFiles = Array.from(uploadFiles ?? []);\n      var file: any = arrFiles.length > 0 ? arrFiles[0] : undefined;\n      if (file) {\n        if ((file as any).size > 20 * 1024 * 1024) {\n          alert('File exceeds 20 MB upload limit.');\n        } else {\n          handleUpload({\n            id: `${file?.name ?? 'unknown'}_${uuid()}`,\n            content: file,\n            level: 'public', // public or private\n            contentType: `${file?.type ?? 'text/plain'}`,\n            onStart: () => {\n              setState(prev => ({ ...prev, uploading: true }));\n            },\n            onSuccess: () => {\n              setState(prev => ({ ...prev, uploading: false }));\n              setSnackbar({ open: true, variant: 'success', message: 'Successfully uploaded file' });\n              // TODO update class with link to newly uploaded file\n            },\n            onError: () => {\n              setState(prev => ({ ...prev, uploading: false }));\n              setSnackbar({ open: true, variant: 'success', message: 'Error uploading file' });\n            }\n          });\n        }\n      } else {\n        // Error: No file specified or user hit cancel\n      }\n    },\n    [handleClose, handleUpload, setSnackbar]\n  );\n  return (\n    <div>\n      <IconButton disabled={loading || uploading} aria-label='settings' onClick={handleClick}>\n        <Icons.MoreVert />\n      </IconButton>\n      <Menu id='long-menu' anchorEl={anchorEl} keepMounted open={open} onClose={handleClose}>\n        <div>\n          <input className={classes.hidden} name='fileselect' type='file' accept='*' id='fileselect' onChange={onInput} />\n          <label htmlFor='fileselect'>\n            <MenuItem key={'replace'} onClick={onInput} component='span'>\n              Replace file\n            </MenuItem>\n          </label>\n        </div>\n        <MenuItem key={'re-assign'} onClick={handleClose}>\n          Re-assign default class presentation\n        </MenuItem>\n        {error && <Typography color='error'>{error}</Typography>}\n      </Menu>\n    </div>\n  );\n};\n\nexport default function ClassPresentationFile({ name = 'Unknown File Name', date = 'Unknown Date' }) {\n  const classes = useStyles();\n  return (\n    <Card className={classes.root}>\n      <CardHeader\n        avatar={\n          <Avatar aria-label='file' className={classes.avatar}>\n            <Icons.FileCopy />\n          </Avatar>\n        }\n        action={<FileActions />}\n        title={name}\n        subheader={`Uploaded on ${date}`}\n      />\n    </Card>\n  );\n}\n","import * as React from 'react';\nimport { FormControl, FormControlLabel, Checkbox, FormHelperText } from '@material-ui/core';\nimport { bool, isError } from '../../../helpers';\n\nconst Check = ({\n  label = '',\n  variant = undefined,\n  error = undefined,\n  value = undefined,\n  margin = 'dense' as 'dense',\n  onChange = undefined,\n  forceErrorMargin = false,\n  type = undefined, // Don't pass an undefined type to Checkbox.  This filters the prop out\n  initialValue = undefined,\n  ...other\n}) => {\n  const handleChange = React.useCallback(\n    event => {\n      event.target.value = event.target.checked === true ? 1 : 0; // Inject checked value to mimic behavior of other input on change events\n      onChange && onChange(event);\n    },\n    [onChange]\n  );\n\n  return (\n    <FormControl variant={variant} error={isError(error)} fullWidth margin={margin}>\n      <FormControlLabel label={label} control={<Checkbox checked={bool(value)} onChange={handleChange} {...other} />} />\n      {(forceErrorMargin || error) && <FormHelperText>{error}</FormHelperText>}\n    </FormControl>\n  );\n};\n\nexport default Check;\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport { useDialogState } from '../useDialogState';\nimport Check from '../../DialogField/Check';\nimport { bool, uuid } from '../../../../helpers';\n\nexport const title = 'Block List';\n\nexport default function BlockListDialog({ id = title, onClose = undefined, onSubmit, anchorEl = undefined, setValues = undefined, ...other }) {\n  const [{ type }, setState] = useDialogState(id);\n\n  const handleClose = React.useCallback(() => {\n    setState(prev => ({ ...prev, open: false, loading: false }));\n    onClose && onClose();\n  }, [onClose, setState]);\n\n  const handleSubmit = React.useCallback(\n    (values, setValues) => {\n      onSubmit && onSubmit({ values, setValues, type });\n      handleClose();\n    },\n    [onSubmit, type, handleClose]\n  );\n\n  return (\n    <GenericDialog\n      id={id}\n      title={id}\n      onClose={onClose}\n      submitLabel={'Done'}\n      onSubmit={handleSubmit}\n      fields={[\n        {\n          id: 'id',\n          hidden: true,\n          initialValue: type === 'Add' ? uuid() : undefined\n        },\n        {\n          id: 'name',\n          label: 'Name',\n          placeholder: 'Enter name'\n        },\n        /*\n        {\n          id: 'canDelete',\n          label: 'Can remove?',\n          Field: Check\n        },\n        {\n          id: 'canEdit',\n          label: 'Can edit?',\n          Field: Check\n        },*/\n        {\n          id: 'canLock',\n          label: 'Can lock for editing?',\n          Field: Check\n        },\n        {\n          id: 'locked',\n          label: 'Is locked for editing?',\n          Field: Check,\n          active: vals => bool(vals?.canLock)\n        }\n      ]}\n      {...other}\n    />\n  );\n}\n","import * as React from 'react';\nimport { Grid, Box, Typography } from '@material-ui/core';\nimport ActionCard from '../general/ActionCard';\nimport * as BlockListDialog from '../application/GenericDialog/BlockList';\nimport DialogButton from '../application/GenericDialog/DialogButton';\nimport { bool } from '../../helpers';\nimport { useDialogState } from '../application/GenericDialog/useDialogState';\n\nexport interface BlockListItem {\n  id: string;\n  name: string;\n  canEdit?: boolean;\n  canLock?: boolean;\n  canDelete?: boolean;\n  locked?: boolean;\n  deleted?: boolean;\n}\n\nexport function BlockList({\n  title = undefined,\n  subtitle = undefined,\n  value = [],\n  showIndexBadges = undefined,\n  add = undefined,\n  edit = undefined,\n  remove = undefined,\n  onChange\n}) {\n  const value_str = JSON.stringify(value);\n\n  // Replace or remove (set item to undefined when removing)\n  const handleReplace = React.useCallback(\n    (id: string, item: BlockListItem = undefined) => {\n      var value = JSON.parse(value_str);\n      if (item === undefined) {\n        value = value.filter(i => i.id !== id); // Remove item without replacement\n      } else {\n        const index = value.findIndex(i => i?.id === id);\n        if (index >= 0) {\n          value[index] = item; // Found item in array, update with new value\n        } else {\n          value.push(item); // Item does not exist, so add it to the end\n        }\n      }\n      onChange && onChange({ target: { value } });\n    },\n    [onChange, value_str]\n  );\n  const [, setDialogState] = useDialogState(title);\n\n  const handleSubmit = React.useCallback(\n    ({ values: item, type }) => {\n      type === 'Add' && onChange({ target: { value: [...JSON.parse(value_str), item] } });\n      type === 'Edit' && handleReplace(item?.id, item);\n    },\n    [onChange, handleReplace, value_str]\n  );\n  const onLock = React.useCallback(item => handleReplace(item?.id, { ...item, locked: !bool(item?.locked) }), [handleReplace]);\n  const onRemove = React.useCallback(item => handleReplace(item?.id), [handleReplace]);\n  const onEdit = React.useCallback(\n    item => {\n      setDialogState({\n        type: 'Edit',\n        open: true,\n        initialValues: item\n      });\n    },\n    [setDialogState]\n  );\n\n  return (\n    <>\n      {title && (\n        <Typography variant='h5' color='textPrimary' style={{ fontWeight: 'bold' }}>\n          {title}\n        </Typography>\n      )}\n      {subtitle && (\n        <Typography variant='subtitle1' color='textPrimary'>\n          {subtitle}\n        </Typography>\n      )}\n      <Box mt={1}>\n        <Grid container spacing={2}>\n          {value.map((item, i) => (\n            <Grid key={i} item lg={4} sm={6} xs={12}>\n              <ActionCard\n                item={item}\n                index={showIndexBadges && i}\n                onLock={onLock}\n                onRemove={remove && onRemove}\n                onEdit={edit && onEdit}\n                minHeight={112}\n                titleProps={{ noWrap: false, variant: 'h6', color: 'textPrimary' }}\n              />\n            </Grid>\n          ))}\n\n          <Grid style={{ display: add ? 'flex' : 'none' }} key={'add'} item lg={4} sm={6} xs={12}>\n            <DialogButton Module={{ ...BlockListDialog, id: title, title }} variant='styled' styledVariant='secondary' onSubmit={handleSubmit}>\n              Add New\n            </DialogButton>\n          </Grid>\n        </Grid>\n      </Box>\n    </>\n  );\n}\n\n/*\n <Grid item style={{ display: 'inline-flex', width: 175 }}>\n                <Icons.Lock color='primary' />\n                <Typography variant='subtitle1' color='primary'>\n                  You can't remove any locked items\n                </Typography>\n              </Grid>\n              */\n","import * as React from 'react';\nimport useProcessData from '../../database/useProcessData';\nimport { useSnackBar } from '../application/SnackBar/useSnackBar';\n\nconst actions = {\n  c: 'creating',\n  r: 'reading',\n  u: 'updating',\n  d: 'deleting'\n};\n\nexport const actionText = action => actions[action];\n\nexport default function useFormState({ validate = undefined, Model, onError: OnError = undefined, onSuccess: OnSuccess = undefined }) {\n  const [formState, setFormState] = React.useState({\n    loading: false,\n    error: undefined,\n    errors: {}\n  });\n  const processData = useProcessData();\n  const [, setSnackbar] = useSnackBar();\n\n  const handleSubmit = React.useCallback(\n    (Data, Action = 'c' as any) => () => {\n      setFormState(prev => ({ ...prev, loading: true, error: undefined, errors: {} }));\n      const errors = validate ? validate(Data) : {};      \n      if (Object.keys(errors).length > 0) {\n        setFormState(prev => ({ ...prev, loading: false, errors }));\n        setSnackbar({ open: true, variant: 'error', message: 'Input validation error' });\n      } else {\n        processData({\n          Model,\n          Action,\n          Data,\n          onError: () => {\n            setFormState(prev => ({ ...prev, loading: false, error: `Error ${actionText(Action)}` }));\n            setSnackbar({ open: true, variant: 'error', message: `Error ${actionText(Action)}` });\n            OnError && OnError();\n          },\n          onSuccess: () => {\n            setFormState(prev => ({ ...prev, loading: false, error: undefined }));\n            setSnackbar({ open: true, variant: 'success', message: `Success ${actionText(Action)}` });\n            OnSuccess && OnSuccess();\n          }\n        });\n      }\n    },\n    [setFormState, validate, Model, OnError, OnSuccess, processData, setSnackbar]\n  );\n\n  const handleCreate = React.useCallback(Data => handleSubmit(Data, 'c'), [handleSubmit]);\n  const handleUpdate = React.useCallback(Data => handleSubmit(Data, 'u'), [handleSubmit]);\n  const handleDelete = React.useCallback(Data => handleSubmit(Data, 'd'), [handleSubmit]);\n\n  return {\n    handleCreate,\n    handleUpdate,\n    handleDelete,\n    formState\n  };\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Grid, InputLabel, makeStyles, createStyles } from '@material-ui/core';\nimport NotchedOutline from '@material-ui/core/OutlinedInput/NotchedOutline';\nimport { isError } from '../../../helpers';\n\nconst useStyles = makeStyles(({ palette, shadows }: any) =>\n  createStyles({\n    root: {\n      position: 'relative',\n      width: '100%'\n    },\n    container: {\n      position: 'relative'\n    },\n    content: {\n      minHeight: 40,\n      paddingLeft: 16,\n      paddingRight: 16,\n      paddingTop: 8,\n      paddingBottom: 8,\n      borderRadius: 30,\n      borderColor: palette.type === 'light' ? 'rgba(0, 0, 0, 0.23)' : 'rgba(255, 255, 255, 0.23)',\n      '&:hover': {\n        borderColor: palette.text.primary\n      }\n    },\n    inputLabel: {\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      // slight alteration to spec spacing to match visual spec result\n      transform: 'translate(0, 24px) scale(1)'\n    },\n    notchedOutline: ({ error, active }: any) => ({\n      borderColor: isError(error) ? palette.error.main : active ? palette.primary.main : 'inherit',\n      borderWidth: isError(error) || active ? 4 : 1,\n      color: palette.text.primary,\n      boxShadow: shadows[1]\n    })\n  })\n);\n\n// Needs some work to handle focused state.  It should use FormControl and formControlState.\nexport default function OutlinedDivActive({\n  label = '',\n  active = false,\n  error = undefined,\n  width = undefined,\n  maxWidth = undefined,\n  margin = undefined,\n  marginTop = undefined,\n  marginBottom = undefined,\n  height = undefined,\n  children = undefined\n}) {\n  const classes = useStyles({ active, error });\n  const [labelWidth, setLabelWidth] = React.useState(0);\n  const labelRef = React.useRef(null);\n  React.useEffect(() => {\n    const labelNode: any = ReactDOM.findDOMNode(labelRef.current);\n    setLabelWidth(labelNode != null ? labelNode.offsetWidth : 0);\n  }, [label]);\n\n  return (\n    <div className={classes.root} style={{ width, maxWidth, margin, marginTop, marginBottom, height }}>\n      <InputLabel ref={labelRef} htmlFor={label} variant='outlined' className={classes.inputLabel} shrink>\n        {label}\n      </InputLabel>\n      <div className={classes.container}>\n        <Grid container id={label} className={classes.content} alignItems='center'>\n          <Grid item xs={12}>\n            {children}\n          </Grid>\n          <NotchedOutline className={classes.notchedOutline} notched labelWidth={labelWidth} />\n        </Grid>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { makeStyles, Grid, Box, Typography } from '@material-ui/core';\nimport { getImage, images } from '../../pages/Class/helpers';\nimport OutlinedDivActive from '../../general/OutlinedDiv/OutlinedDivActive';\n\nconst useStyles = makeStyles(({ spacing }) => ({\n  root: {},\n  imageContainer: {\n    marginTop: spacing(4),\n    textAlign: 'center',\n    marginBottom: spacing(4)\n  },\n  item: {\n    cursor: 'pointer'\n  },\n  image: {\n    height: 72,\n    width: 72\n  }\n}));\n\nexport default function ImageSelector({ value = 'calendar', label, className = undefined, onChange, ...rest }) {\n  const classes = useStyles();\n  const handleChange = React.useCallback(\n    value => () => {\n      onChange && onChange({ target: { value } });\n    },\n    [onChange]\n  );\n\n  return (\n    <Box>\n      <Typography variant='h5' color='textPrimary' style={{ fontWeight: 'bold' }}>\n        {label}\n      </Typography>\n      <Box mt={1}>\n        <Grid container spacing={2}>\n          {Object.keys(images).map(key => (\n            <Grid item className={classes.item} onClick={handleChange(key)}>\n              <OutlinedDivActive active={key === value}>\n                <Box width={72} height={72}>\n                  <Typography align='center'>\n                    <img draggable='false' className={classes.image} src={getImage(key)} alt={key} />\n                  </Typography>\n                </Box>\n              </OutlinedDivActive>\n            </Grid>\n          ))}\n        </Grid>\n      </Box>\n    </Box>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Box, Typography, Divider } from '@material-ui/core';\nimport ChildPage from '../ChildPage';\nimport { useHandleChangeRoute } from '../../layout/hooks';\nimport StyledButton from '../../general/StyledButton';\nimport ClassPresentationFile from './ClassPresentationFile';\nimport { BlockList } from '../../general/BlockList';\nimport { tables } from '../../../database/dbConfig';\nimport { useLocationData } from '../../../database/useLocationData';\nimport { getClassTitle, isEmpty } from '../../../helpers';\nimport useFormState from '../../hooks/useFormState';\nimport Text from '../../application/DialogField/Text';\nimport ImageSelector from '../../application/DialogField/ImageSelector';\n\nconst Model = tables.classes;\nconst validate = ({ name }) => {\n  const newErrors = {};\n  if (isEmpty(name)) {\n    newErrors['name'] = 'Required';\n  }\n  return newErrors;\n};\n\nconst TitleButton = ({ onClick }) => <StyledButton onClick={onClick}>Save Changes</StyledButton>;\n\nexport default function ClassMaterials() {\n  const { data, handleChange }: any = useLocationData({ Model });\n  const {\n    name,\n    headline,\n    image,\n    keySkills = [],\n    rankingModel = [],\n    classResources = [],\n    surveyQuestions = [],\n    classPresentation = { name: 'Unknown File Name', date: 'Unknown Date' }\n  } = data;\n\n  const handleChangeRoute = useHandleChangeRoute();\n\n  const { formState, handleUpdate } = useFormState({ Model, validate, onSuccess: handleChangeRoute('/Classes') });\n  const { loading, errors } = formState;\n\n  return (\n    <ChildPage\n      backLabel='Back to Class'\n      onBack={handleChangeRoute('/ClassDashboard', data)}\n      title={getClassTitle({ headline, name })}\n      subtitle='Edit Class Materials'\n      TitleButton={props => <TitleButton onClick={handleUpdate(data)} {...props} />}\n    >\n      <Box mt={2}>\n        <Divider />\n\n        <Grid container style={{ marginTop: 16 }} spacing={3}>\n          <Grid item>\n            <Text\n              error={errors['headline']}\n              autoFocus\n              disabled={loading}\n              placeholder='Enter Class Headline'\n              value={headline}\n              onChange={handleChange('headline')}\n              label='Class Headline'\n              fullWidth={false}\n            />\n          </Grid>\n          <Grid item>\n            <Text\n              error={errors['name']}\n              disabled={loading}\n              placeholder='Enter Class Name'\n              value={name}\n              onChange={handleChange('name')}\n              label='Class Name'\n              fullWidth={false}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <ImageSelector error={errors['image']} disabled={loading} value={image} onChange={handleChange('image')} label='Associated Image' />\n          </Grid>\n\n          <Grid item xs={12}>\n            <BlockList title='Key Skills' value={keySkills} add={true} edit={true} remove={true} onChange={handleChange('keySkills')} />\n          </Grid>\n          <Grid item xs={12}>\n            <BlockList title='Ranking Model' value={rankingModel} add={false} edit={true} remove={false} onChange={handleChange('rankingModel')} />\n          </Grid>\n          <Grid item xs={12}>\n            <BlockList\n              title='Survey Questions'\n              subtitle='Questions are related to the class materials and will be rated by students from 1 to 5 based on the Ranking Model'\n              value={surveyQuestions}\n              add={true}\n              edit={true}\n              remove={true}\n              onChange={handleChange('surveyQuestions')}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <BlockList\n              title='Class Resources'\n              subtitle='To be completed - Add links to resources that are relevant to the lesson'\n              value={classResources}\n              add={true}\n              onChange={handleChange('classResources')}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant='h5' color='textPrimary' style={{ fontWeight: 'bold' }}>\n              Class Presentation\n            </Typography>\n            <Typography variant='subtitle1' color='textPrimary'>\n              Current class presentation file\n            </Typography>\n            <ClassPresentationFile {...classPresentation} />\n          </Grid>\n        </Grid>\n      </Box>\n    </ChildPage>\n  );\n}\n\n/*\n<Grid item xs={12}>\n<BlockList\n  title='Survey Questions'\n  subtitle='Questions are related to the class materials and will be rated by students from 1 to 5 based on the Ranking Model'\n  value={surveyQuestions}\n  add={true}\n  edit={true}\n  remove={true}\n  onChange={handleChange('surveyQuestions')}\n/>\n</Grid>\n<Grid item xs={12}>\n<BlockList\n  title='Ranking Model'\n  showIndexBadges={true}\n  value={rankingModel}\n  add={false}\n  edit={true}\n  remove={false}\n  onChange={handleChange('rankingModel')}\n/>\n</Grid>\n<Grid item xs={12}>\n\n*/\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Grid, InputLabel, makeStyles, createStyles } from '@material-ui/core';\nimport NotchedOutline from '@material-ui/core/OutlinedInput/NotchedOutline';\nimport { isError } from '../../../helpers';\n\nconst useStyles = makeStyles(({ palette, shape }: any) =>\n  createStyles({\n    root: {\n      position: 'relative',\n      width: '100%'\n    },\n    container: {\n      position: 'relative'\n    },\n    content: {\n      minHeight: 40,\n      paddingLeft: 16,\n      paddingRight: 16,\n      paddingTop: 8,\n      paddingBottom: 8,\n      borderRadius: shape.borderRadius,\n      borderColor: palette.type === 'light' ? 'rgba(0, 0, 0, 0.23)' : 'rgba(255, 255, 255, 0.23)',\n      '&:hover': {\n        borderColor: palette.text.primary\n      }\n    },\n    inputLabel: {\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      // slight alteration to spec spacing to match visual spec result\n      transform: 'translate(0, 24px) scale(1)'\n    },\n    notchedOutline: ({ error }: any) => ({\n      borderColor: isError(error) ? palette.error.main : 'inherit'\n    })\n  })\n);\n\n// Needs some work to handle focused state.  It should use FormControl and formControlState.\nexport default function OutlinedDiv({\n  label = '',\n  error = undefined,\n  width = undefined,\n  maxWidth = undefined,\n  margin = undefined,\n  marginTop = undefined,\n  marginBottom = undefined,\n  height = undefined,\n  children = undefined\n}) {\n  const classes = useStyles({ error });\n  const [labelWidth, setLabelWidth] = React.useState(0);\n  const labelRef = React.useRef(null);\n  React.useEffect(() => {\n    const labelNode: any = ReactDOM.findDOMNode(labelRef.current);\n    setLabelWidth(labelNode != null ? labelNode.offsetWidth : 0);\n  }, [label]);\n\n  return (\n    <div className={classes.root} style={{ width, maxWidth, margin, marginTop, marginBottom, height }}>\n      <InputLabel ref={labelRef} htmlFor={label} variant='outlined' className={classes.inputLabel} shrink>\n        {label}\n      </InputLabel>\n      <div className={classes.container}>\n        <Grid container id={label} className={classes.content} alignItems='center'>\n          <Grid item xs={12}>\n            {children}\n          </Grid>\n          <NotchedOutline className={classes.notchedOutline} notched labelWidth={labelWidth} />\n        </Grid>\n      </div>\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { FormControl, FormControlLabel, FormHelperText, Radio as MuiRadio, RadioGroup, Typography } from '@material-ui/core';\nimport { isError } from '../../../helpers';\nimport OutlinedDiv from '../../general/OutlinedDiv/OutlinedDiv';\n\nconst Radio = ({ items, value = '', label, variant, error, margin = 'dense' as 'dense', onChange, forceErrorMargin, initialValue = undefined, ...other }) => (\n  <FormControl component='fieldset' variant={variant} error={isError(error)} fullWidth margin={margin}>\n    <OutlinedDiv label={label}>\n      <RadioGroup onChange={onChange} value={value} {...other}>\n        {items.map(i => (\n          <FormControlLabel\n            key={i.value}\n            value={i.value}\n            control={<MuiRadio color='default' size='small' />}\n            label={<Typography variant='body2'>{i.label}</Typography>}\n          />\n        ))}\n      </RadioGroup>\n      {(forceErrorMargin || error) && <FormHelperText>{error}</FormHelperText>}\n    </OutlinedDiv>\n  </FormControl>\n);\n\nexport default Radio;\n","import { region, identityPoolIdUnauth, sourceEmailAddress } from '../../../../../package.json';\nimport { hostAddress, publicUrl } from '../../../../helpers';\nexport const AWS = require('aws-sdk'); // Load the AWS SDK for Node.js\n\n// Initialize the Amazon Cognito credentials provider\nAWS.config.region = region;\nAWS.config.credentials = new AWS.CognitoIdentityCredentials({\n  IdentityPoolId: identityPoolIdUnauth\n});\n\nexport const sendStudentInvite = ({\n  email,\n  role = 'Student',\n  id,\n  name = 'Unknown Group Name',\n  type = 'Unknown Group Type',\n  location = 'Unknown Location',\n  onSuccess = undefined,\n  onError = undefined\n}) => {\n  console.log('Sending student invite to: ' + email);\n  const body = `You have been invited to the Doors Web Application:\n    <p>User Email: ${email}</p>  \n    <p>Role: ${role}</p>\n    <p>Group Name: ${name}</p>\n    <p>Group Type: ${type}</p>    \n    <p>Group Location: ${location}</p>    \n    \n    <h2><a href='${hostAddress(publicUrl(`/?i=${id}&t=s`))}'>Click here to accept the invite<a/></h2>\n    `;\n\n  // Create sendEmail params\n  var params = {\n    Destination: {\n      /* required */ CcAddresses: [],\n      ToAddresses: [email]\n    },\n    Message: {\n      /* required */\n      Body: {\n        /* required */\n        Html: {\n          Charset: 'UTF-8',\n          Data: body\n        },\n        Text: {\n          Charset: 'UTF-8',\n          Data: body\n        }\n      },\n      Subject: {\n        Charset: 'UTF-8',\n        Data: `${role} Invitation to Doors Web Application!`\n      }\n    },\n    Source: sourceEmailAddress /* required */,\n    ReplyToAddresses: [sourceEmailAddress]\n  };\n\n  // Create the promise and SES service object\n  var sendPromise = new AWS.SES({ apiVersion: '2010-12-01' }).sendEmail(params).promise();\n\n  // Handle promise's fulfilled/rejected states\n  sendPromise\n    .then(function (data) {\n      onSuccess && onSuccess(data);\n    })\n    .catch(function (err) {\n      console.error(err, err.stack);\n      onError && onError(err);\n    });\n};\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport Label from '../../DialogField/Label';\nimport Radio from '../../DialogField/Radio';\nimport MarginDivider from '../../DialogField/MarginDivider';\nimport { sendStudentInvite } from './helpers';\nimport { useDialogState } from '../useDialogState';\nimport { useSnackBar } from '../../SnackBar/useSnackBar';\nimport { isEmpty, parseEmails, uuid, validateEmail } from '../../../../helpers';\nimport { tables } from '../../../../database/dbConfig';\nimport { useSubmitDialogData } from '../useSubmitDialogData';\nimport { useUserId } from '../../../layout/hooks';\nimport useProcessData from '../../../../database/useProcessData';\nimport Student from '../../../../database/models/Student';\nimport Group from '../../../../database/models/Group';\n\nexport const title = 'Create New Group';\n\nconst validate = ({ participants }) => {\n  const newErrors = {};\n  if (!isEmpty(participants)) {\n    parseEmails(participants).forEach(e => {\n      if (!validateEmail(e)) {\n        newErrors['participants'] = 'Invalid email format';\n      }\n    });\n  }\n  return newErrors;\n};\n\nexport default function CreateGroupDialog({ id = title, onClose = undefined }) {\n  const [state, setState] = useDialogState(id);\n  const { initialValues, subtitle = 'Unknown Class' } = state;\n  const classId = initialValues['class']?.id;\n\n  const [, setSnackbar] = useSnackBar();\n  const submitData = useSubmitDialogData({ id });\n  const userId = useUserId();\n\n  const handleClose = React.useCallback(\n    (props = undefined, isLast = true) => {\n      props && setSnackbar(props);\n      if (isLast) {\n        setState(prev => ({ ...prev, open: false, loading: false }));\n        onClose && onClose();\n      }\n    },\n    [onClose, setState, setSnackbar]\n  );\n\n  const onSuccess = React.useCallback(() => {\n    handleClose({ open: true, variant: 'success', message: 'Successfully sent invite' });\n  }, [handleClose]);\n\n  const onError = React.useCallback(\n    isLast => () => {\n      handleClose({ open: true, variant: 'error', message: 'Error sending invite' }, isLast);\n    },\n    [handleClose]\n  );\n\n  const processData = useProcessData();\n  const parentId = useUserId();\n\n  const onSubmitSuccess = React.useCallback(\n    ({ id: groupId, participants, name, type, location }) => () => {\n      const invitesToSend = parseEmails(participants);\n      if (invitesToSend.length === 0) {\n        handleClose({ open: true, variant: 'success', message: 'Successfully created group' });\n      } else {\n        invitesToSend.forEach((email, i) => {\n          // Create the student invite rows and also send the individual invites\n          const isLast = i === parseEmails(participants).length - 1;\n          const id = uuid();\n\n          const Data: Student = {\n            id,\n            groupId,\n            parentId,\n            email\n          };\n\n          setState(prev => ({ ...prev, loading: true }));\n\n          processData({\n            Model: tables.students,\n            Action: 'c',\n            Data,\n            onError: onError(isLast),\n            onSuccess: () => {\n              sendStudentInvite({ id, email, name, type, location, onError: onError(isLast), onSuccess: isLast && onSuccess });\n            }\n          });\n        });\n      }\n    },\n    [onSuccess, onError, parentId, setState, processData, handleClose]\n  );\n\n  const handleSubmit = React.useCallback(\n    ({ name, location, type, participants }) => {\n      // First create the group in the database\n      const group: Group = {\n        id: uuid(),\n        userId, // id of user that created the group\n        instructorId: userId,\n        classId,\n        name,\n        location,\n        type,\n        participants\n      };\n\n      submitData({\n        Data: group,\n        Model: tables.groups,\n        Action: 'c',\n        OnSuccess: onSubmitSuccess(group) // Next create the student invites\n      });\n    },\n    [userId, classId, submitData, onSubmitSuccess]\n  );\n\n  return (\n    <GenericDialog\n      id={id}\n      title={id}\n      onClose={onClose}\n      submitLabel={'Create Group'}\n      initialValues={initialValues}\n      validate={validate}\n      onSubmit={handleSubmit}\n      fields={[\n        {\n          label: subtitle,\n          Field: Label\n        },\n        {\n          label: 'Group Information',\n          Field: Label\n        },\n        {\n          Field: MarginDivider\n        },\n        {\n          id: 'name',\n          label: 'Group Name',\n          placeholder: 'Enter Group Name',\n          required: true\n        },\n        {\n          id: 'location',\n          label: 'Location',\n          placeholder: 'Enter Group Location',\n          required: true\n        },\n        {\n          id: 'type',\n          label: 'Group Type',\n          Field: Radio,\n          variant: 'outlined',\n          items: [\n            { value: 'On Site', label: 'On Site' },\n            { value: 'On Line', label: 'On Line' }\n          ],\n          initialValue: 'On Line'\n        },\n        {\n          id: 'participants',\n          label: 'Group Participats',\n          placeholder: 'Enter email addressess to give acces to this class',\n          required: false,\n          multiline: true,\n          rows: 6\n        }\n      ]}\n    />\n  );\n}\n","import React from 'react';\nimport { useDialogState } from './useDialogState';\nimport useProcessData from '../../../database/useProcessData';\n\nexport const useSubmitDialogData = ({ id, onClose = undefined }) => {\n  const [, setState] = useDialogState(id);\n  const processData = useProcessData();\n\n  const handleClose = React.useCallback(() => {\n    setState(prev => ({ ...prev, open: false, loading: false }));\n    onClose && onClose();\n  }, [onClose, setState]);\n\n  const submitData = React.useCallback(\n    ({ Data, Model, Action = 'c', OnSuccess = undefined, OnError = undefined }) => {\n      setState(prev => ({ ...prev, loading: true }));\n      processData({\n        Model,\n        Action,\n        Data,\n        onError: OnError ? OnError : () => setState(prev => ({ ...prev, loading: false, error: 'Error submitting values' })),\n        onSuccess: OnSuccess ? OnSuccess(Data) : handleClose() // If OnSuccess is provided, then that function should handle closing of the dialog, otherwise automatically close\n      });\n    },\n    [setState, processData, handleClose]\n  );\n\n  return submitData;\n};\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport Label from '../../DialogField/Label';\nimport MarginDivider from '../../DialogField/MarginDivider';\nimport { useDialogState } from '../useDialogState';\nimport { useSnackBar } from '../../SnackBar/useSnackBar';\nimport useProcessData from '../../../../database/useProcessData';\nimport { tables } from '../../../../database/dbConfig';\nimport Student from '../../../../database/models/Student';\nimport { isEmpty, parseEmails, uuid, validateEmail } from '../../../../helpers';\nimport { useUserId } from '../../../layout/hooks';\nimport { sendStudentInvite } from '../CreateGroup/helpers';\n\nexport const title = 'Add New Student';\n\nconst validate = ({ emails }) => {\n  const newErrors = {};\n  if (isEmpty(emails)) {\n    newErrors['emails'] = 'Required';\n  } else {\n    parseEmails(emails).forEach(e => {\n      if (!validateEmail(e)) {\n        newErrors['emails'] = 'Invalid email format';\n      }\n    });\n  }\n  return newErrors;\n};\n\nexport default function AddStudentDialog({ id = title, onClose }) {\n  const [{ initialValues }, setState] = useDialogState(id);\n  const { group = {} } = initialValues;\n  const { id: groupId, name, type, location } = group;\n  const [, setSnackbar] = useSnackBar();\n\n  const handleClose = React.useCallback(\n    (props = undefined, isLast = true) => {\n      props && setSnackbar(props);\n      if (isLast) {\n        setState(prev => ({ ...prev, open: false, loading: false }));\n        onClose && onClose();\n      }\n    },\n    [onClose, setState, setSnackbar]\n  );\n\n  const processData = useProcessData();\n  const parentId = useUserId();\n\n  const onSuccess = React.useCallback(() => {\n    console.log('onSuccess');\n    handleClose({ open: true, variant: 'success', message: 'Successfully sent invite' });\n  }, [handleClose]);\n\n  const onError = React.useCallback(\n    isLast => () => {\n      handleClose({ open: true, variant: 'error', message: 'Error sending invite' }, isLast);\n    },\n    [handleClose]\n  );\n\n  const handleSubmit = React.useCallback(\n    values => {\n      const { emails } = values;\n      parseEmails(emails).forEach((email, i) => {\n        const id = uuid();\n        const isLast = i === parseEmails(emails).length - 1;\n\n        const Data: Student = {\n          id,\n          groupId,\n          parentId,\n          email\n        };\n\n        setState(prev => ({ ...prev, loading: true }));\n\n        processData({\n          Model: tables.students,\n          Action: 'c',\n          Data,\n          onError: onError(isLast),\n          onSuccess: () => {\n            sendStudentInvite({ id, email, name, type, location, onError: onError(isLast), onSuccess: isLast && onSuccess });\n          }\n        });\n      });\n    },\n    [setState, processData, parentId, onSuccess, onError, name, type, location, groupId]\n  );\n\n  return (\n    <GenericDialog\n      id={id}\n      maxWidth='sm'\n      title={id}\n      submitLabel='Send Invite'\n      onSubmit={handleSubmit}\n      onClose={onClose}\n      validate={validate}\n      fields={[\n        {\n          label: `Students will receive an invitation on their email address, if the student is already registered they will see the class available on their main dashboard.  You can add multiple email addresses at the same time, just enter a space or comma between different email addresses.`,\n          Field: Label\n        },\n        {\n          Field: MarginDivider\n        },\n        {\n          id: 'emails',\n          label: 'Emails to Add',\n          autoFocus: true,\n          placeholder: 'Enter email address to give access to this class',\n          required: true,\n          multiline: true,\n          rows: 4\n        }\n      ]}\n    />\n  );\n}\n","import * as React from 'react';\nimport { tables } from './dbConfig';\nimport { isEmpty, minutesFrom } from '../helpers';\nimport useProcessData from './useProcessData';\nimport { inviteExpiration } from '../../package.json';\n\nexport const isExpired = item => minutesFrom(item?.created) > inviteExpiration;\n\nexport const useTableRow = ({ Model = tables.instructors, id, state, setState }) => {\n  const processData = useProcessData();\n  const row = state?.response?.Item;\n  const row_str = JSON.stringify(row);\n  React.useEffect(() => {\n    if (!isEmpty(id)) {\n      setState(prev => ({ ...prev, loading: true, error: undefined, response: undefined }));\n      processData({\n        Model,\n        Action: 'r',\n        Data: { id },\n        onError: response => setState(prev => ({ ...prev, loading: false, error: 'Error reading values', response })),\n        onSuccess: response => setState(prev => ({ ...prev, loading: false, error: undefined, response }))\n      });\n    }\n  }, [id, Model, processData, setState]);\n\n  const setRow = React.useCallback(\n    (newValues, OnSuccess = undefined, OnError = undefined) => {\n      if (!isEmpty(id)) {\n        setState(prev => ({ ...prev, loading: true, error: undefined, response: undefined }));\n        processData({\n          Model,\n          Action: 'u',\n          Data: { ...JSON.parse(row_str), id, ...newValues },\n          onError: response => {\n            setState(prev => ({ ...prev, loading: false, error: 'Error reading values', response }));\n            OnError && OnError(response);\n          },\n          onSuccess: response => {\n            setState(prev => ({ ...prev, loading: false, error: undefined, response }));\n            OnSuccess && OnSuccess(response);\n          }\n        });\n      }\n    },\n    [id, Model, setState, processData, row_str]\n  );\n\n  const expired = isExpired(row);\n\n  return [row, setRow, expired];\n};\n","import * as React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles, Grid, Avatar, Typography } from '@material-ui/core';\nimport DialogButton from '../../application/GenericDialog/DialogButton';\nimport { getStudentName, isEmpty, minutesFrom, minutesToTimeAgo } from '../../../helpers';\nimport { useProfile } from '../../../database/useProfile';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    display: 'flex',\n    width: 128\n  }\n}));\n\nexport default function Participant({ student, className = undefined, ...rest }) {\n  const classes = useStyles();\n  const [profile] = useProfile({ id: student?.userId });\n\n  console.log({ student, profile });\n\n  return (\n    <div className={clsx(classes.root, className)} {...rest}>\n      <Grid container alignItems='center' justify='center' spacing={0}>\n        <Grid item>\n          <Avatar src='/broken-image.jpg' />\n        </Grid>\n        <Grid item xs={12}>\n          <Typography noWrap align='center' variant='subtitle2'>\n            {getStudentName({ student, profile })}\n          </Typography>\n        </Grid>\n        {!isEmpty(student?.userId) && (\n          <Grid item>\n            <DialogButton variant='link' underline='always' linkVariant='body2' fullWidth>\n              View Profile\n            </DialogButton>\n          </Grid>\n        )}\n        {student.accepted === true ? (\n          <Grid item>\n            <DialogButton variant='link' underline='always' linkVariant='body2' fullWidth>\n              Remove\n            </DialogButton>\n          </Grid>\n        ) : (\n          <Typography variant='caption'>Sent {minutesToTimeAgo(minutesFrom(student?.created))}</Typography>\n        )}\n      </Grid>\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { useTableRow } from './useTableRow';\nimport { tables } from './dbConfig';\n\nexport function useProfile({ id }) {\n  const [state, setState] = React.useState();\n  const [row, setRow] = useTableRow({ Model: tables.profiles, id, state, setState });\n  return [row, setRow, state, setState];\n}\n","import * as React from 'react';\nimport { Typography, makeStyles, Grid } from '@material-ui/core';\nimport Participant from './Participant';\n\nconst useStyles = makeStyles(({ palette, spacing }) => ({\n  bold: {\n    fontWeight: 'bold'\n  }\n}));\n\nexport const Participants = ({ students, label }) => {\n  const classes = useStyles();\n  return (\n    <Grid container justify='flex-start' spacing={2}>\n      <Grid item xs={12}>\n        <Typography variant='subtitle1' className={classes.bold}>\n          {students.length} {label}\n        </Typography>\n      </Grid>\n      {students.map(s => (\n        <Grid item>\n          <Participant student={s} />\n        </Grid>\n      ))}\n    </Grid>\n  );\n};\n","import * as React from 'react';\nimport clsx from 'clsx';\nimport { Card, Typography, makeStyles, Grid } from '@material-ui/core';\nimport StyledButton from '../../general/StyledButton';\nimport { getDateFromTimestamp } from '../../../helpers';\nimport DialogButton from '../../application/GenericDialog/DialogButton';\nimport * as AddStudentDialog from '../../application/GenericDialog/AddStudent';\nimport useGroupStudents from '../../../database/useGroupStudents';\nimport { Participants } from './Participants';\n\nconst useStyles = makeStyles(({ palette, spacing }) => ({\n  root: {},\n  summary: {\n    padding: spacing(1),\n    background: palette.primary.light,\n    color: palette.common.white\n  },\n  actions: {\n    padding: spacing(1),\n    display: 'flex',\n    alignItems: 'flex-start'\n  },\n  details: {\n    padding: spacing(1),\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  bold: {\n    fontWeight: 'bold'\n  },\n  semibold: {\n    fontWeight: 500\n  },\n  createdOn: {\n    marginTop: 12,\n    fontWeight: 500\n  }\n}));\n\nexport default function Group({\n  mount = false,\n  id = undefined,\n  userId = undefined,\n  instructorId = undefined,\n  sessionId = undefined,\n  name = 'Group Name',\n  location = 'Unknown Location',\n  type = 'Unknown Type',\n  created = undefined,\n  className = undefined,\n  ...rest\n}) {\n  const classes = useStyles();\n\n  const { pendingStudents, activeStudents, handleRefresh } = useGroupStudents({ groupId: id });\n\n  return (\n    <Card className={clsx(classes.root, className)} {...rest}>\n      <Grid container>\n        <Grid item xs={12} sm={12} md={4} lg={3} xl={2} className={classes.summary}>\n          <Grid container spacing={0}>\n            <Grid item xs={12}>\n              <Typography variant='h6' className={classes.semibold}>\n                {name}\n              </Typography>\n            </Grid>\n            <Grid item xs={12}>\n              <Typography variant='body2' className={classes.semibold}>\n                Group Location: {location}\n              </Typography>\n            </Grid>\n            <Grid item xs={12}>\n              <Typography variant='body2' className={classes.semibold}>\n                Group Type: {type}\n              </Typography>\n            </Grid>\n            {created && (\n              <Grid item xs={12}>\n                <Typography variant='body2' className={classes.createdOn}>\n                  Created on {getDateFromTimestamp(created)}\n                </Typography>\n              </Grid>\n            )}\n          </Grid>\n        </Grid>\n        <Grid item xs={12} sm={12} md={8} lg={9} xl={10} className={classes.details}>\n          <Grid container justify='space-between' spacing={2}>\n            <Grid item xs>\n              {[\n                { students: activeStudents, label: 'Class Participants' },\n                { students: pendingStudents, label: 'Pending Invites (Not Accepted)' }\n              ]\n                .filter(i => i.students.length > 0)\n                .map(props => (\n                  <Participants {...props} />\n                ))}\n            </Grid>\n            <Grid item xs={12} sm={12} md={7} lg={4} xl={3} className={classes.actions}>\n              <Grid container spacing={1}>\n                <Grid item xs={12}>\n                  <DialogButton\n                    Module={AddStudentDialog}\n                    mount={mount}\n                    fullWidth={true}\n                    onClose={handleRefresh}\n                    variant='styled'\n                    size='large'\n                    tooltip=''\n                    initialValues={{\n                      group: {\n                        id,\n                        name,\n                        type,\n                        location\n                      }\n                    }}\n                  >\n                    Add New Student\n                  </DialogButton>\n                </Grid>\n                <Grid item xs={12}>\n                  <StyledButton fullWidth={true} onClick={() => alert('To be completed')}>\n                    Mark Attendance\n                  </StyledButton>\n                </Grid>\n                <Grid item xs={12}>\n                  <StyledButton variant='secondary' fullWidth={true} onClick={() => alert('To be completed')}>\n                    View Attendance History\n                  </StyledButton>\n                </Grid>\n                <Grid item xs={12}>\n                  <StyledButton variant='secondary' fullWidth={true} onClick={() => alert('To be completed')}>\n                    View Class Report\n                  </StyledButton>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Card>\n  );\n}\n","import * as React from 'react';\nimport { tables } from './dbConfig';\nimport useTable from './useTable';\nimport { isExpired } from './useInstructor';\n\nexport default function useGroupStudents({ groupId }) {\n  const { state, handleRequest } = useTable({ TableName: tables.students });\n\n  const handleRefresh = React.useCallback(() => {\n    handleRequest({\n      FilterExpression: '#groupId = :groupId AND (#deleted = :deleted OR attribute_not_exists(#deleted))',\n      ExpressionAttributeNames: {\n        '#groupId': 'groupId',\n        '#deleted': 'deleted'\n      },\n      ExpressionAttributeValues: {\n        ':groupId': groupId,\n        ':deleted': false\n      }\n    });\n    // eslint-disable-next-line\n  }, [groupId, handleRequest]);\n\n  React.useEffect(() => {\n    handleRefresh();\n  }, [handleRefresh]);\n\n  const students = Object.keys(state?.data).map(k => ({ ...state?.data[k] }));\n  const activeStudents = students.filter(s => s.accepted);\n  const pendingStudents = students.filter(s => !s.accepted && !isExpired(s));\n  const expiredStudents = students.filter(s => !s.accepted && isExpired(s));\n\n  return { state, students, activeStudents, pendingStudents, expiredStudents, handleRequest, handleRefresh };\n}\n","import * as React from 'react';\nimport { useTableFilter } from '../components/application/GenericTable/helpers';\nimport { tables } from './dbConfig';\nimport useTable from './useTable';\n\nexport const useGroups = ({ table = undefined, tab = undefined, requestParams = undefined } = {}) => {\n  const { state, handleRequest } = useTable({ TableName: tables.groups });\n  const { data, loading, success } = state as any;\n\n  const handleRefresh = React.useCallback(() => {\n    handleRequest(requestParams);\n    // eslint-disable-next-line\n  }, [JSON.stringify(requestParams), handleRequest]);\n\n  React.useEffect(() => {\n    handleRefresh();\n  }, [handleRefresh, table, tab]);\n\n  const rows = Object.keys(data).map(k => ({ ...data[k] }));\n\n  return {\n    data: useTableFilter(\n      rows.map(i => ({\n        ...i,\n        getValues: () => i\n      })),\n      table\n    ),\n    handleRefresh,\n    loading,\n    success\n  };\n};\n","import * as React from 'react';\nimport { Grid, Box, Divider } from '@material-ui/core';\nimport ChildPage from '../ChildPage';\nimport { useHandleChangeRoute } from '../../layout/hooks';\nimport { tables } from '../../../database/dbConfig';\nimport { useLocationData } from '../../../database/useLocationData';\nimport { getClassTitle, isEmpty } from '../../../helpers';\nimport useFormState from '../../hooks/useFormState';\nimport DialogButton from '../../application/GenericDialog/DialogButton';\nimport * as CreateGroupDialog from '../../application/GenericDialog/CreateGroup';\nimport Group from './Group';\nimport { useFullScreen } from '../../../hooks';\nimport { useGroups } from '../../../database/useGroups';\n\nconst Model = tables.classes;\nconst validate = ({ name }) => {\n  const newErrors = {};\n  if (isEmpty(name)) {\n    newErrors['name'] = 'Required';\n  }\n  return newErrors;\n};\n\nconst TitleButton = ({ subtitle = undefined, initialValues = undefined, disabled }) => (\n  <Grid container style={{ width: 270 }} spacing={1} justify='center'>\n    <Grid item xs={12}>\n      <DialogButton Module={CreateGroupDialog} subtitle={subtitle} variant='styled' size='large' fullWidth disabled={disabled} initialValues={initialValues}>\n        Create Group\n      </DialogButton>\n    </Grid>\n    <Grid item xs={12}>\n      <DialogButton subtitle={subtitle} variant='styled' styledVariant='secondary' size='large' fullWidth disabled={disabled}>\n        Add Existing Group\n      </DialogButton>\n    </Grid>\n    <Grid item xs={12}>\n      <DialogButton subtitle={subtitle} variant='styled' styledVariant='text' size='large' fullWidth disabled={disabled}>\n        View All Groups\n      </DialogButton>\n    </Grid>\n  </Grid>\n);\n\nexport default function ClassRoster() {\n  const { data }: any = useLocationData({ Model });\n  const { name, headline } = data;\n\n  // TODO: Add logic to retreive class, if no class found, then automatically create the class for the instructor, disable everything until this is done.\n  const handleChangeRoute = useHandleChangeRoute();\n  const { formState, handleUpdate } = useFormState({ Model, validate, onSuccess: handleChangeRoute('/Classes') });\n  const { loading } = formState;\n  const fullScreen = useFullScreen();\n  const { data: groups } = useGroups();\n\n  return (\n    <ChildPage\n      backLabel='Back to Class'\n      onBack={handleChangeRoute('/ClassDashboard', data)}\n      title={getClassTitle({ headline, name })}\n      subtitle='Class Roster'\n      TitleButton={props => (\n        <TitleButton subtitle={getClassTitle({ headline, name })} initialValues={{ class: data }} disabled={loading} onClick={handleUpdate(data)} {...props} />\n      )}\n    >\n      <Box mt={2}>\n        <Divider />\n        <Grid container style={{ padding: !fullScreen ? 24 : 8 }} spacing={3}>\n          {groups.map((g, i) => (\n            <Grid item xs={12}>\n              <Group {...g} mount={i === 0} />\n            </Grid>\n          ))}\n        </Grid>\n      </Box>\n    </ChildPage>\n  );\n}\n","import * as React from 'react';\nimport { Container, Grid, Typography } from '@material-ui/core';\nimport Page from './Page';\n\nexport default function TermsAndConditions() {\n  return (\n    <Container maxWidth='md'>\n      <Page title='Terms and Conditions'>\n        <Grid container spacing={2}>\n          <Grid item>\n            <Typography>\n              DOORS offers materials for educational purposes. We are not a health care or medical device provider, and our materials should be interpreted as\n              medical advice. We make no claims, representations or guarantees that the teaching materials we provide offer physical or therapeutic benefit.\n            </Typography>\n          </Grid>\n          <Grid item>\n            <Typography>\n              Materials are intended for general information purposes only. They are not intended to be relied upon and are not a substitute for professional\n              medical advice based on an individual’s condition or unique circumstances. Educational materials we offer are not intended to replace medical\n              treatment or advice.\n            </Typography>\n          </Grid>\n          <Grid item>\n            <Typography>\n              You assume full responsibility for your decisions and actions. We make no representation or warranties about the accuracy, completeness, or\n              suitability for any purpose of the advice, other materials and information published as part of our educational materials.​\n            </Typography>\n          </Grid>\n        </Grid>\n      </Page>\n    </Container>\n  );\n}\n","import * as React from 'react';\nimport { Container, Grid } from '@material-ui/core';\nimport Page from './Page';\nimport StyledButton from '../general/StyledButton';\nimport DialogButton from '../application/GenericDialog/DialogButton';\nimport * as AddStudentDialog from '../application/GenericDialog/AddStudent';\nimport * as Icons from '@material-ui/icons';\n\nexport default function StyleGuide() {\n  return (\n    <Container maxWidth='md'>\n      <Page title='Style Guide'>\n        <Grid container spacing={2}>\n          <Grid item>\n            <StyledButton variant='primary'>Primary</StyledButton>\n            <StyledButton variant='primary' pressed={true}>\n              Primary Pressed\n            </StyledButton>\n            <StyledButton variant='primary' disabled={true}>\n              Primary Disabled\n            </StyledButton>\n          </Grid>\n          <Grid item>\n            <StyledButton variant='secondary'>Secondary</StyledButton>\n            <StyledButton variant='secondary' pressed={true}>\n              Secondary Pressed\n            </StyledButton>\n            <StyledButton variant='secondary' disabled={true}>\n              Secondary Disabled\n            </StyledButton>\n          </Grid>\n          <Grid>\n            <StyledButton variant='text'>Text</StyledButton>\n            <StyledButton variant='text' pressed={true}>\n              Text Pressed\n            </StyledButton>\n            <StyledButton variant='text' disabled={true}>\n              Text Disabled\n            </StyledButton>\n          </Grid>\n          <Grid item xs={12}>\n            <DialogButton maxWidth='xl' fullWidth Module={AddStudentDialog} Icon={Icons.Add} size='large' variant='styled' tooltip=''>\n              Add Student\n            </DialogButton>\n          </Grid>\n        </Grid>\n      </Page>\n    </Container>\n  );\n}\n","import * as React from 'react';\nimport { Grid } from '@material-ui/core';\nimport Page from '../Page';\n\nexport default function PostSurvey() {\n  return (\n    <Page title='Post-Survey Placeholder'>\n      <Grid container spacing={3}></Grid>\n    </Page>\n  );\n}\n","import * as React from 'react';\nimport { Grid } from '@material-ui/core';\nimport Page from '../Page';\n\nexport default function PreSurvey() {\n  return (\n    <Page title='Pre-Survey Placeholder'>\n      <Grid container spacing={3}></Grid>\n    </Page>\n  );\n}\n","import * as React from 'react';\nimport { Grid } from '@material-ui/core';\nimport Page from '../Page';\n\nexport default function Lesson() {\n  return (\n    <Page title='Lesson Placeholder'>\n      <Grid container spacing={3}></Grid>\n    </Page>\n  );\n}\n","import * as React from 'react';\nimport { Grid } from '@material-ui/core';\nimport Page from '../Page';\n\nexport default function Resources() {\n  return (\n    <Page title='Resources Placeholder'>\n      <Grid container spacing={3}></Grid>\n    </Page>\n  );\n}\n","import * as React from 'react';\nimport { Grid } from '@material-ui/core';\nimport Page from '../Page';\n\nexport default function Congratulations() {\n  return (\n    <Page title='Congratulations Placeholder'>\n      <Grid container spacing={3}></Grid>\n    </Page>\n  );\n}\n","import { BlockListItem } from './../../components/general/BlockList';\n\nexport const defaultRankingModels: BlockListItem[] = [\n  {\n    id: '0',\n    name: 'I cannot do it on my own'\n  },\n  {\n    id: '1',\n    name: 'I can do it on my own, but with step by step directions'\n  },\n  {\n    id: '2',\n    name: 'I can do it mostly on my own, but may have a few questions'\n  },\n  {\n    id: '3',\n    name: 'I can do it on my own with ease'\n  },\n  {\n    id: '4',\n    name: 'I can do it and can teach someone else'\n  }\n].map(i => ({ ...i, canEdit: false, canLock: false, canDelete: false }));\n\nexport default interface Class {\n  id: string; // unique identifier\n  adminId?: string; // user id of the admin user which created the class\n  headline?: string;\n  name?: string;\n  image?: string;\n  keySkills?: BlockListItem[];\n  rankingModel?: BlockListItem[];\n  surveyQuestions?: BlockListItem[]; // TBD survey question objects\n  classPresentation?: any; // TBD file meta data\n  classResources?: any[]; // TBD classResource objects\n  created?: number;\n  updated?: number;\n  deleted?: boolean;\n}\n","import * as React from 'react';\nimport { Grid, Box, Typography, Divider } from '@material-ui/core';\nimport ChildPage from '../ChildPage';\nimport { useHandleChangeRoute, useUserId } from '../../layout/hooks';\nimport StyledButton from '../../general/StyledButton';\nimport ClassPresentationFile from './ClassPresentationFile';\nimport Text from '../../application/DialogField/Text';\nimport { BlockList } from '../../general/BlockList';\nimport { isEmpty, uuid } from '../../../helpers';\nimport { tables } from '../../../database/dbConfig';\nimport ImageSelector from '../../application/DialogField/ImageSelector';\nimport useFormState from '../../hooks/useFormState';\nimport Class, { defaultRankingModels } from '../../../database/models/Class';\n\nconst validate = ({ name }) => {\n  const newErrors = {};\n  if (isEmpty(name)) {\n    newErrors['name'] = 'Required';\n  }\n  return newErrors;\n};\nconst Model = tables.classes;\nexport default function CreateClass() {\n  const adminId = useUserId();\n  const handleChangeRoute = useHandleChangeRoute();\n  const { formState, handleCreate } = useFormState({ Model, validate, onSuccess: handleChangeRoute('/Classes') });\n  const { loading, errors } = formState;\n\n  const [state, setState] = React.useState({\n    id: uuid(),\n    adminId,\n    name: '',\n    image: '',\n    headline: '',\n    keySkills: [],\n    surveyQuestions: [],\n    rankingModel: defaultRankingModels,\n    classResources: [],\n    classPresentation: { name: 'Unknown File Name', date: 'Unknown Date' }\n  } as Class);\n\n  const { name, headline, image, keySkills, rankingModel, surveyQuestions, classResources, classPresentation } = state;\n\n  const handleChange = React.useCallback(\n    key => ({ target }) => {\n      const { value } = target;\n      setState(prev => ({ ...prev, [`${key}`]: value }));\n    },\n    [setState]\n  );\n\n  return (\n    <ChildPage backLabel='Back to Classes' onBack={handleChangeRoute('/Classes')} title='Create New Class'>\n      <Box mt={2}>\n        <Divider />\n        <Grid container style={{ marginTop: 16 }} spacing={3}>\n          <Grid item xs={12}>\n            <Text\n              error={errors['headline']}\n              autoFocus\n              disabled={loading}\n              placeholder='Enter Class Headline'\n              value={headline}\n              onChange={handleChange('headline')}\n              label='Class Headline'\n              fullWidth={false}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <Text\n              error={errors['name']}\n              disabled={loading}\n              placeholder='Enter Class Name'\n              value={name}\n              onChange={handleChange('name')}\n              label='Class Name'\n              fullWidth={false}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <ImageSelector error={errors['image']} disabled={loading} value={image} onChange={handleChange('image')} label='Associated Image' />\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant='caption' color='textPrimary'>\n              Edit Class Materials\n            </Typography>\n            <BlockList title='Key Skills' value={keySkills} add={true} edit={true} remove={true} onChange={handleChange('keySkills')} />\n          </Grid>\n          <Grid item xs={12}>\n            <BlockList\n              title='Survey Questions'\n              subtitle='Questions are related to the class materials and will be rated by students from 1 to 5 based on the Ranking Model'\n              value={surveyQuestions}\n              add={true}\n              edit={true}\n              remove={true}\n              onChange={handleChange('surveyQuestions')}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <BlockList\n              title='Ranking Model'\n              showIndexBadges={true}\n              value={rankingModel}\n              add={false}\n              edit={true}\n              remove={false}\n              onChange={handleChange('rankingModel')}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <BlockList\n              title='Class Resources'\n              subtitle='To be completed - Add links to resources that are relevant to the lesson'\n              value={classResources}\n              add={true}\n              onChange={handleChange('classResources')}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant='h5' color='textPrimary' style={{ fontWeight: 'bold' }}>\n              Class Presentation\n            </Typography>\n            <Typography variant='subtitle1' color='textPrimary'>\n              Current class presentation file\n            </Typography>\n            <ClassPresentationFile {...classPresentation} />\n          </Grid>\n          <Grid item xs={12}>\n            <StyledButton onClick={handleCreate(state)}>Create New Class</StyledButton>\n          </Grid>\n        </Grid>\n      </Box>\n    </ChildPage>\n  );\n}\n","import * as React from 'react';\nimport { Route, Switch } from 'react-router';\nimport { publicUrl } from '../../helpers';\nimport PlayGround from './PlayGround';\nimport Instructors from '../pages/Instructors';\nimport Profile from '../pages/Profile/Profile';\nimport Calendar from '../pages/Calendar';\nimport Classes from '../pages/Class/Classes';\nimport Class from '../pages/Class/Class';\nimport ClassDashboard from '../pages/Class/ClassDashboard';\nimport SessionClass from '../pages/Class/SessionClass';\nimport ClassMaterials from '../pages/Class/ClassMaterials';\nimport ClassRoster from '../pages/Class/ClassRoster';\nimport TermsAndConditions from '../pages/TermsAndConditions';\nimport StyleGuide from '../pages/StyleGuide';\nimport PostSurvey from '../pages/Class/PostSurvey';\nimport PreSurvey from '../pages/Class/PreSurvey';\nimport Lesson from '../pages/Class/Lesson';\nimport Resources from '../pages/Class/Resources';\nimport Congratulations from '../pages/Class/Congratulations';\nimport CreateClass from '../pages/Class/CreateClass';\n\nconst Routes = () => (\n  <Switch>\n    <Route exact path={publicUrl('/StyleGuide')} component={StyleGuide} />\n    <Route exact path={publicUrl('/TermsAndConditions')} component={TermsAndConditions} />\n    <Route exact path={publicUrl('/Instructors')} component={Instructors} />\n    <Route exact path={publicUrl('/Profile')} component={Profile} />\n    <Route exact path={publicUrl('/Calendar')} component={Calendar} />\n    <Route exact path={publicUrl('/PlayGround')} component={PlayGround} />\n    <Route exact path={publicUrl('/Classes')} component={Classes} />\n    <Route exact path={publicUrl('/Class')} component={Class} />\n    <Route exact path={publicUrl('/CreateClass')} component={CreateClass} />\n    <Route exact path={publicUrl('/ClassDashboard')} component={ClassDashboard} />\n    <Route exact path={publicUrl('/SessionClass')} component={SessionClass} />\n    <Route exact path={publicUrl('/ClassMaterials')} component={ClassMaterials} />\n    <Route exact path={publicUrl('/ClassRoster')} component={ClassRoster} />\n    <Route exact path={publicUrl('/Lesson')} component={Lesson} />\n    <Route exact path={publicUrl('/Pre-Survey')} component={PreSurvey} />\n    <Route exact path={publicUrl('/Post-Survey')} component={PostSurvey} />\n    <Route exact path={publicUrl('/Resources')} component={Resources} />\n    <Route exact path={publicUrl('/Congratulations')} component={Congratulations} />\n\n    <Route path={'/'} component={Classes} />\n  </Switch>\n);\n\nexport default Routes;\n","import * as React from 'react';\nimport { triggerResize, isEmpty } from '../../../helpers';\nimport { Tabs, Tab, Typography, createStyles, makeStyles, Container } from '@material-ui/core';\nimport useTabSelector from '../../application/Selector/useTabSelector';\nimport { useLocation } from 'react-router';\n\nexport interface ComponentProps {\n  id?: string;\n  tab?: string;\n  tabs?: TabSelectorItem[];\n  orientation?: string;\n  rounded?: boolean;\n  wrapped?: boolean;\n  minHeight?: number;\n  onChange?: any;\n  classes?: any;\n}\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    root: ({ rounded }) => ({\n      background: palette.common.white,\n      color: palette.text.primary,\n      borderRadius: rounded ? undefined : 0,\n      padding: 0\n    }),\n    tabs: ({ minHeight }: any) => ({\n      minHeight,\n      borderRadius: 'inherit'\n    }),\n    indicator: {\n      background: palette.primary.main,\n      color: palette.common.white,\n      '&:hover': {\n        color: palette.common.white,\n      },\n      height: 6,\n      marginBottom: 4,\n      zIndex: 0,\n      borderRadius: 25,\n    },\n    labelIcon: ({ minHeight }: any) => ({\n      zIndex: 1,\n      minHeight,\n      color: palette.primary.dark,\n    }),\n    selected: ({ minHeight }: any) => ({\n      color: palette.primary.main\n    }),\n    tabroot: ({ minHeight }: any) => ({\n      padding: 0,\n      zIndex: 1,\n      minWidth: 0,\n      minHeight,\n    }),\n    wrapper: {\n      display: 'inline-flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      width: '100%',\n      flexDirection: 'column',\n      borderRadius: 'inherit'\n    }\n  })\n);\n\nexport interface TabSelectorItem {\n  id: string;\n  label?: string;\n  icon?: any;\n  route?: any;\n  Component?: any;\n}\n\nconst TabSelectorToolBar = ({ id, tabs = [], orientation, wrapped, minHeight = 64, rounded = true, onChange }: ComponentProps) => {\n  const classes = useStyles({ minHeight, rounded });\n\n  const [tabSelector, setTabSelector] = useTabSelector(id);\n  const selected = tabSelector.value;\n\n  const { pathname } = useLocation();\n\n  const tabId = tabs[0] && tabs[0].id;\n  const tabRoute = tabs.find((t) => t.id === selected)?.route;\n  const tabToSelect = pathname !== tabRoute && tabs.find((t) => t.route === pathname);\n\n  React.useEffect(() => {\n    isEmpty(selected) && setTabSelector({ value: tabId }); // Select the first tab by default when empty\n    tabToSelect && setTabSelector({ value: tabToSelect.id });\n    triggerResize();\n  }, [setTabSelector, selected, tabId, tabToSelect]);\n\n  React.useEffect(() => {\n    triggerResize(); //User has roated the device, so trigger a resize so the indicator updates correctly\n  }, [orientation]);\n\n  const handleChange = React.useCallback(\n    (event, value) => {\n      setTabSelector({ value });\n      onChange && onChange(value);\n    },\n    [setTabSelector, onChange]\n  );\n\n  const { value = tabs[0].id } = tabSelector;\n\n  return (\n    <Container className={classes.root}>\n      <Tabs variant='fullWidth' className={classes.tabs} scrollButtons='off' value={value} onChange={handleChange} classes={{ indicator: classes.indicator }}>\n        {!tabs ? (\n          <></>\n        ) : (\n            tabs.map((t) => (\n              <Tab\n                key={t.id}\n                classes={{\n                  root: classes.tabroot,\n                  labelIcon: classes.labelIcon,\n                  wrapper: classes.wrapper,\n                  wrapped: classes.labelIcon,\n                  selected: classes.selected\n                }}\n                icon={t.icon && <t.icon style={{ marginBottom: 0 }} />}\n                value={t.id}\n                wrapped={wrapped}\n                label={\n                  <Typography variant='caption' style={{ maxWidth: `calc(100% - ${2}px)` }} noWrap={!wrapped}>\n                    {t.label ? t.label : t.id}\n                  </Typography>\n                }\n              />\n            ))\n          )}\n      </Tabs>\n    </Container>\n  );\n};\n\nexport default TabSelectorToolBar;\n","import { useUserType } from './../../hooks';\nimport * as Icons from '@material-ui/icons';\n\nconst allTabs = [\n  { id: 'My Classes', icon: Icons.Apps, route: '/Classes' },\n  { id: 'Instructors', icon: Icons.SupervisorAccount, route: '/Instructors', userTypes: ['Admin'] },\n  { id: 'My Calendar', icon: Icons.Event, route: '/Calendar' },\n  { id: 'My Profile', icon: Icons.AccountBox, route: '/Profile' },\n  { id: 'Help', icon: Icons.Help, userTypes: ['Instructor', 'Student'] }\n];\n\nexport default function useTabs() {\n  const userType = useUserType();\n  const tabs = allTabs.filter(t => t.userTypes === undefined || t.userTypes.find(ut => ut === userType));\n  const tabs_s = JSON.stringify(tabs.map(t => ({ id: t.id, route: t.route })));\n  return { tabs, tabs_s };\n}\n","import { region, identityPoolIdUnauth, adminUsers, sourceEmailAddress } from '../../../../../package.json';\nexport const AWS = require('aws-sdk'); // Load the AWS SDK for Node.js\n\n// Initialize the Amazon Cognito credentials provider\nAWS.config.region = region;\nAWS.config.credentials = new AWS.CognitoIdentityCredentials({\n  IdentityPoolId: identityPoolIdUnauth\n});\n\nexport const sendHelpEmail = ({ name, email, message, onSuccess = undefined, onError = undefined }) => {\n  const body = `Help Request - Doors Web Application:\n    <p>Name: ${name}</p>  \n    <p>User Email: ${email}</p>  \n    <p>Message: ${message}</p>\n    `;\n\n  // Create sendEmail params\n  var params = {\n    Destination: {\n      /* required */ CcAddresses: [],\n      ToAddresses: adminUsers.split(',')\n    },\n    Message: {\n      /* required */\n      Body: {\n        /* required */\n        Html: {\n          Charset: 'UTF-8',\n          Data: body\n        },\n        Text: {\n          Charset: 'UTF-8',\n          Data: body\n        }\n      },\n      Subject: {\n        Charset: 'UTF-8',\n        Data: `Help Request - Doors Web Application`\n      }\n    },\n    Source: sourceEmailAddress,\n    ReplyToAddresses: [email]\n  };\n\n  // Create the promise and SES service object\n  var sendPromise = new AWS.SES({ apiVersion: '2010-12-01' }).sendEmail(params).promise();\n\n  // Handle promise's fulfilled/rejected states\n  sendPromise\n    .then(function (data) {\n      onSuccess && onSuccess(data);\n    })\n    .catch(function (err) {\n      console.error(err, err.stack);\n      onError && onError(err);\n    });\n};\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport Label from '../../DialogField/Label';\nimport MarginDivider from '../../DialogField/MarginDivider';\nimport { sendHelpEmail } from './helpers';\nimport { useUserEmail } from '../../../layout/hooks';\nimport { useDialogState } from '../useDialogState';\nimport { useSnackBar } from '../../SnackBar/useSnackBar';\n\nexport const title = 'Get In Touch';\n\nexport default function HelpDialog({ id = title, onClose = undefined, ...other }) {\n  const [, setState] = useDialogState(id);\n  const [, setSnackbar] = useSnackBar();\n\n  const handleClose = React.useCallback(\n    (props = undefined) => {\n      props && setSnackbar(props);\n      setState(prev => ({ ...prev, open: false, loading: false }));\n      onClose && onClose();\n    },\n    [onClose, setState, setSnackbar]\n  );\n\n  const onError = React.useCallback(() => {\n    handleClose({ open: true, variant: 'success', message: 'Error sending message' });\n  }, [handleClose]);\n\n  const onSuccess = React.useCallback(() => {\n    handleClose({ open: true, variant: 'success', message: 'Successfully sent message' });\n  }, [handleClose]);\n\n  const handleSubmit = React.useCallback(\n    ({ name, email, message }, setValues) => {\n      sendHelpEmail({ name, email, message, onSuccess, onError });\n    },\n    [onSuccess, onError]\n  );\n\n  return (\n    <GenericDialog\n      id={id}\n      title={id}\n      onClose={onClose}\n      submitLabel={'Send'}\n      onSubmit={handleSubmit}\n      fields={[\n        {\n          label: 'If you have any questions or comments about the program, send a message to the program administrators.',\n          Field: Label\n        },\n        {\n          Field: MarginDivider\n        },\n        {\n          id: 'email',\n          label: 'Your Email',\n          initialValue: useUserEmail(),\n          required: true,\n          email: true,\n          InputProps: {\n            readOnly: true\n          }\n        },\n        {\n          id: 'name',\n          label: 'Your Name',\n          placeholder: 'Enter your name',\n          required: true\n        },\n        {\n          id: 'message',\n          label: 'Your Message',\n          required: true,\n          multiline: true,\n          rows: 6,\n          placeholder: 'Enter your message'\n        }\n      ]}\n      {...other}\n    />\n  );\n}\n","import * as React from 'react';\nimport { makeStyles, Grid, IconButton, Menu, MenuItem } from '@material-ui/core';\nimport { createStyles } from '@material-ui/core';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport logo from '../../images/logo.svg';\nimport { useAppBarHeightRef, useChangeRoute, useLayout, useLeftDrawer, useLogout } from './hooks';\nimport { useSignedIn, useFullScreen, useContentPadding } from '../../hooks';\nimport { beta } from '../../constants';\nimport TabSelectorToolBar from '../general/TabSelector/TabSelectorToolBar';\nimport * as Icons from '@material-ui/icons';\nimport useTabSelector from '../application/Selector/useTabSelector';\nimport useTabs from './useTabs';\nimport * as HelpDialog from '../application/GenericDialog/Help';\nimport { useDialogState } from '../application/GenericDialog/useDialogState';\nimport { renderDialogModule } from '../application/GenericDialog/DialogButton';\nimport { defaultUserState } from './store';\n\nconst useStyles = makeStyles(({ breakpoints, palette, zIndex, layout }: any) =>\n  createStyles({\n    appBar: ({ contentPadding }: any) => ({\n      zIndex: zIndex.drawer + 1,\n      paddingTop: beta ? layout.footerheight : 0,\n      color: palette.primary.main,\n      background: palette.common.white,\n      paddingLeft: contentPadding,\n      paddingRight: contentPadding\n    }),\n    appBarFullScreen: {\n      paddingTop: beta ? layout.footerheight : 0,\n      background: palette.common.white,\n      color: palette.primary.dark\n    },\n    logo: {\n      paddingLeft: 8,\n      paddingRight: 16,\n      height: layout.toolbarheight,\n      [breakpoints.down('xs')]: {\n        display: 'none'\n      },\n      cursor: 'pointer'\n    },\n    active: {\n      backgroundColor: palette.primary.dark\n    },\n    toolbar: {\n      background: palette.white\n    },\n    menuButton: {\n      marginLeft: 0,\n      color: palette.primary.main,\n      [breakpoints.up('md')]: {\n        display: 'none'\n      }\n    }\n  })\n);\n\nconst tabSelectorId = 'AppBar';\nconst AppBarTabSelector = props => {\n  const { tabs } = useTabs();\n  return <TabSelectorToolBar id={tabSelectorId} tabs={tabs} {...props} />;\n};\n\nexport default function ApplicationBar() {\n  const contentPadding = useContentPadding();\n  const classes = useStyles({ contentPadding });\n  const signedIn = useSignedIn();\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n  const open = Boolean(anchorEl);\n\n  const [{ prevId }, setState] = useDialogState(HelpDialog.title);\n  const { tabs, tabs_s } = useTabs();\n  const [, setTabSelector] = useTabSelector(tabSelectorId);\n\n  const onLogout = useLogout();\n\n  const [, setLeftDrawerOpen] = useLeftDrawer();\n  const handleOpenLeftDrawer = React.useCallback(() => setLeftDrawerOpen(true), [setLeftDrawerOpen]);\n\n  const handleLogout = React.useCallback(() => {\n    onLogout();\n    setAnchorEl(null);\n  }, [setAnchorEl, onLogout]);\n\n  const changeRoute = useChangeRoute();\n\n  const handleTabChange = React.useCallback(\n    value => {\n      const { id, route } = JSON.parse(tabs_s).find(t => t.id === value);\n      if (id === 'Help') {\n        setState(prev => ({ ...prev, open: true })); // Open the dialog, track previous tab\n      } else {\n        changeRoute(route);\n        setState(prev => ({ prevId: id })); // Open the dialog, track previous tab\n      }\n    },\n    [changeRoute, setState, tabs_s]\n  );\n\n  const defaultTabId = tabs[0].id;\n  const defaultTabRoute = tabs[0].route;\n\n  const handleLogoClick = React.useCallback(() => {\n    setTabSelector(defaultTabId);\n    changeRoute(defaultTabRoute);\n  }, [setTabSelector, changeRoute, defaultTabId, defaultTabRoute]);\n\n  const handleMenu = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = React.useCallback(() => {\n    setAnchorEl(null);\n  }, [setAnchorEl]);\n\n  const handleHelpClose = React.useCallback(() => {\n    setTabSelector({ value: prevId });\n  }, [setTabSelector, prevId]);\n\n  const fullScreen = useFullScreen('xs');\n  const [, , leftDrawerEnabled] = useLeftDrawer();\n\n  const [{ canChangeUserType }, setLayout] = useLayout();\n  const resetUserType = React.useCallback(() => {\n    setLayout(defaultUserState);\n  }, [setLayout]);\n\n  return (\n    <AppBar ref={useAppBarHeightRef()} position='fixed' color='inherit' elevation={1} className={fullScreen ? classes.appBarFullScreen : classes.appBar}>\n      {renderDialogModule({ ...HelpDialog, onClose: handleHelpClose })}\n      <Toolbar className={classes.toolbar} disableGutters={true}>\n        {leftDrawerEnabled && (\n          <IconButton color='inherit' aria-label='open drawer' edge='start' onClick={handleOpenLeftDrawer} className={classes.menuButton}>\n            <Icons.Menu />\n          </IconButton>\n        )}\n        <Grid container alignItems='center' spacing={0}>\n          <Grid item>\n            <img className={classes.logo} src={logo} alt='logo' onClick={handleLogoClick} />\n          </Grid>\n          <Grid item xs style={{ marginLeft: 4, marginRight: 4, minWidth: 0 }}>\n            <AppBarTabSelector onChange={handleTabChange} />\n          </Grid>\n          <Grid item>\n            <Grid container justify='flex-end' alignItems='center'>\n              <Grid item>\n                <IconButton color='inherit' aria-label='account of current user' aria-haspopup='true' onClick={handleMenu}>\n                  {signedIn ? <Icons.AccountCircleTwoTone /> : <Icons.AccountCircle />}\n                </IconButton>\n                <Menu\n                  id='menu-appbar'\n                  anchorEl={anchorEl}\n                  anchorOrigin={{\n                    vertical: 'top',\n                    horizontal: 'right'\n                  }}\n                  keepMounted\n                  transformOrigin={{\n                    vertical: 'top',\n                    horizontal: 'right'\n                  }}\n                  open={open}\n                  onClose={handleClose}\n                  MenuListProps={{ style: { paddingTop: signedIn ? 0 : undefined } }}\n                >\n                  {[\n                    { label: 'Change User Type', onClick: resetUserType },\n                    { label: 'Sign Out', onClick: handleLogout }\n                  ]\n                    .filter(({ label }) => label !== 'Change User Type' || (label === 'Change User Type' && canChangeUserType))\n                    .map(({ label, onClick }) => (\n                      <MenuItem key={label} onClick={onClick}>\n                        {label}\n                      </MenuItem>\n                    ))}\n                </Menu>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Toolbar>\n    </AppBar>\n  );\n}\n","import * as React from 'react';\nimport { makeStyles, createStyles, Toolbar, Link, AppBar, Typography, Grid } from '@material-ui/core';\nimport { theme, beta } from '../../constants';\nimport { useFullScreen } from '../../hooks';\nimport { useHandleChangeRoute, useUserEmail } from './hooks';\n\nconst useStyles = makeStyles(({ palette, zIndex }: any) =>\n  createStyles({\n    bottomAppBar: {\n      top: 'auto',\n      bottom: 0,\n      zIndex: zIndex.drawer + 1,\n      background: palette.primary.dark,\n      color: palette.common.white\n    },\n    bottomAppBarBeta: {\n      top: 0,\n      background: palette.primary.main,\n      color: palette.common.white,\n      zIndex: zIndex.drawer + 1\n    },\n    bottomToolBar: {\n      minHeight: (theme as any).layout.footerheight\n    },\n    pointer: {\n      cursor: 'pointer'\n    }\n  } as any)\n);\n\nexport default function Footer() {\n  const classes = useStyles({});\n  const fullScreen = useFullScreen();\n\n  const email = useUserEmail();\n  const handleChangeRoute = useHandleChangeRoute();\n\n  return (\n    <>\n      <AppBar position='fixed' color='primary' className={classes.bottomAppBar}>\n        <Toolbar className={classes.bottomToolBar}>\n          <Grid container justify='flex-start'>\n            <Grid item xs={fullScreen ? 5 : 2} zeroMinWidth>\n              <Typography noWrap variant='body2' align='left'>\n                <Link href='https://www.digitalpsych.org/' target='_blank' variant='body2' color='inherit'>\n                  Division of Digital Psychiatry\n                </Link>\n              </Typography>\n            </Grid>\n            {!fullScreen && (\n              <Grid item xs={7} zeroMinWidth>\n                <Typography noWrap variant='body2' align='center'>\n                  <Link href='https://www.bidmc.org/' target='_blank' variant='body2' color='inherit'>\n                    This website is made possible by support from ...\n                  </Link>\n                </Typography>\n              </Grid>\n            )}\n            <Grid item xs={fullScreen ? 7 : 3} zeroMinWidth>\n              <Typography noWrap variant='body2' align='right'>\n                <Link className={classes.pointer} variant='body2' color='inherit' onClick={handleChangeRoute('/TermsAndConditions')}>\n                  Terms and Conditions\n                </Link>\n              </Typography>\n            </Grid>\n          </Grid>\n        </Toolbar>\n      </AppBar>\n      {beta && (\n        <AppBar elevation={1} position='fixed' color='secondary' className={classes.bottomAppBarBeta}>\n          <Toolbar className={classes.bottomToolBar}>\n            <Grid container justify='center' spacing={2}>\n              <Grid item xs={4}>\n                {!fullScreen && (\n                  <Link color='inherit' noWrap className={classes.pointer} onClick={handleChangeRoute('/StyleGuide')}>\n                    Under Construction\n                  </Link>\n                )}\n              </Grid>\n              <Grid item xs={8}>\n                <Grid container justify='flex-end' spacing={1}>\n                  <Grid item>\n                    <Typography noWrap variant='body2' align='right'>\n                      {fullScreen ? email : `Welcome, ${email}`}\n                    </Typography>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Toolbar>\n        </AppBar>\n      )}\n    </>\n  );\n}\n","import * as React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport clsx from 'clsx';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport InfoIcon from '@material-ui/icons/Info';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { amber, green } from '@material-ui/core/colors';\nimport IconButton from '@material-ui/core/IconButton';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport { useSnackBar } from './useSnackBar';\n\nconst variantIcon = {\n  success: CheckCircleIcon,\n  warning: WarningIcon,\n  error: ErrorIcon,\n  info: InfoIcon\n};\n\nconst useStyles = makeStyles(theme => ({\n  success: {\n    backgroundColor: green[600]\n  },\n  error: {\n    backgroundColor: theme.palette.error.dark\n  },\n  info: {\n    backgroundColor: theme.palette.primary.main\n  },\n  warning: {\n    backgroundColor: amber[700]\n  },\n  icon: {\n    fontSize: 20\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing(1)\n  },\n  message: {\n    display: 'flex',\n    alignItems: 'center'\n  }\n}));\n\nexport default function SnackBar({ className = undefined, ...other }) {\n  const classes = useStyles({});\n  const [{ open, message, variant = 'success' }, setSnackBar] = useSnackBar();\n  const handleClose = React.useCallback((event, reason) => reason !== 'clickaway' && setSnackBar({ open: false }), [setSnackBar]);\n  const Icon = variantIcon[variant];\n  return (\n    <Snackbar\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'right'\n      }}\n      open={open}\n      autoHideDuration={3000}\n      onClose={handleClose}\n    >\n      <SnackbarContent\n        className={clsx(classes[variant], className)}\n        aria-describedby='client-snackbar'\n        message={\n          <span id='client-snackbar' className={classes.message}>\n            <Icon className={clsx(classes.icon, classes.iconVariant)} />\n            {message}\n          </span>\n        }\n        action={[\n          <IconButton key='close' aria-label='close' color='inherit' onClick={handleClose as any}>\n            <CloseIcon className={classes.icon} />\n          </IconButton>\n        ]}\n        {...other}\n      />\n    </Snackbar>\n  );\n}\n","import * as React from 'react';\nimport { createStyles } from '@material-ui/core';\nimport Drawer from '@material-ui/core/Drawer';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useAppBarHeight, useHeight, useLeftDrawer } from './hooks';\nimport LeftDrawerContent from './LeftDrawerContent';\nimport { useFullScreen } from '../../hooks';\n\nconst useStyles = makeStyles(({ breakpoints, mixins, layout }: any) =>\n  createStyles({\n    drawer: {\n      [breakpoints.up('sm')]: {\n        width: layout.leftDrawerWidth,\n        flexShrink: 0\n      }\n    },\n    drawerPaper: ({ height, appBarHeight }: any) => ({\n      marginTop: appBarHeight,\n      width: layout.leftDrawerWidth,\n      height: height - (appBarHeight + layout.footerheight),\n      [breakpoints.down('sm')]: {\n        height: '100%'\n      }\n    }),\n    drawerPaperTemporary: {\n      width: layout.leftDrawerWidth\n    }\n  })\n);\n\nconst LeftDrawer = () => {\n  const height = useHeight();\n  const fullScreen = useFullScreen();\n  const appBarHeight = useAppBarHeight();\n  const classes = useStyles({ height, appBarHeight });\n  const [leftDrawer, setLeftDrawer] = useLeftDrawer();\n  const handleLeftDrawerClose = React.useCallback(() => setLeftDrawer(false), [setLeftDrawer]);\n\n  return (\n    <nav className={classes.drawer} aria-label='navigation drawer'>\n      <Drawer\n        variant='temporary'\n        open={fullScreen && leftDrawer}\n        onClose={handleLeftDrawerClose}\n        classes={{\n          paper: classes.drawerPaperTemporary\n        }}\n        ModalProps={{\n          keepMounted: true // Better open performance on mobile.\n        }}\n      >\n        <LeftDrawerContent />\n      </Drawer>\n      <Drawer\n        classes={{\n          paper: classes.drawerPaper\n        }}\n        variant='persistent'\n        open={leftDrawer}\n      >\n        <LeftDrawerContent />\n      </Drawer>\n    </nav>\n  );\n};\n\nexport default LeftDrawer;\n","import * as React from 'react';\nimport { makeStyles, createStyles, useTheme } from '@material-ui/core';\nimport ApplicationBar from './ApplicationBar';\nimport Footer from './Footer';\nimport SnackBar from '../application/SnackBar/SnackBar';\nimport { useAppBarHeight, useHeight, useLeftDrawer } from './hooks';\nimport { useLocation } from 'react-router';\nimport { useContentPadding, useFullScreen } from '../../hooks';\nimport LeftDrawer from './LeftDrawer';\n\nconst useStyles = makeStyles(({ breakpoints, palette, transitions, layout }: any) =>\n  createStyles({\n    root: {\n      display: 'static'\n    },\n    content: ({ leftDrawerOpen }) => ({\n      flexGrow: 1,\n      backgroundColor: palette.common.white,\n      marginLeft: leftDrawerOpen ? layout.leftDrawerWidth : 0,\n      [breakpoints.down('sm')]: {\n        marginLeft: 0,\n        flexShrink: 0\n      },\n      transition: transitions.create(['margin'], {\n        easing: transitions.easing.easeOut,\n        duration: transitions.duration.enteringScreen\n      })\n    }),\n    innerContent: ({ overflow = 'auto', contentHeight, contentPadding, padInnerContent = true }) => ({\n      height: contentHeight - (!padInnerContent ? 0 : contentPadding * 2 + 1),\n      overflow,\n      padding: padInnerContent ? contentPadding : 0\n    }),\n    toolbar: ({ appBarHeight }: any) => ({\n      background: palette.white,\n      height: appBarHeight\n    })\n  })\n);\n\nexport default function Layout({ children }) {\n  const { pathname } = useLocation();\n  const height = useHeight();\n  const appBarHeight = useAppBarHeight();\n\n  const { layout }: any = useTheme();\n  const { noPadPaths, noScrollPaths } = layout;\n  const componentsOnPage = [appBarHeight, layout.footerheight];\n  var contentHeight = height - componentsOnPage.reduce((t, c) => t + c, 0);\n  const [leftDrawerOpen] = useLeftDrawer();\n  const fullScreen = useFullScreen();\n\n  const contentPadding = useContentPadding();\n  const classes = useStyles({\n    contentPadding,\n    padInnerContent: noPadPaths.findIndex(p => p === pathname) > -1 ? false : true,\n    overflow: noScrollPaths.findIndex(p => p === pathname) > -1 ? 'hidden' : 'auto',\n    contentHeight,\n    appBarHeight,\n    leftDrawerOpen,\n    fullScreen\n  });\n\n  return (\n    <div data-testid='app-container' className={classes.root}>\n      <main className={classes.content}>\n        <ApplicationBar />\n        <LeftDrawer />\n        <div className={classes.toolbar} />\n        <div className={classes.innerContent}>{children}</div>\n        <Footer />\n        <SnackBar />\n      </main>\n    </div>\n  );\n}\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport { copyToLower, isEmpty as isValEmpty } from '../../../../helpers';\nimport { useDialogState } from '../useDialogState';\nimport { Auth } from 'aws-amplify';\nimport DialogButton from '../DialogButton';\nimport { useLogin } from '../../../layout/hooks';\nconst passwordValidator = require('password-validator');\nexport const title = 'Create New Account';\n\n// create a password schema\nconst schema = new passwordValidator();\n\nschema.is().min(8).has().uppercase().has().lowercase().has().digits().has().symbols();\n\nconst formatPasswordValidateError = errors => {\n  for (let i = 0; i < errors.length; i++) {\n    if (errors[i] === 'min') {\n      return 'password length should be a at least 8 characters';\n    } else if (errors[i] === 'lowercase') {\n      return 'password should contain lowercase letters';\n    } else if (errors[i] === 'uppercase') {\n      return 'password should contain uppercase letters';\n    } else if (errors[i] === 'digits') {\n      return 'password should contain digits';\n    } else if (errors[i] === 'symbols') {\n      return 'password should contain symbols';\n    }\n  }\n};\n\nconst handleValidation = ({ password, confirmationCodeError, confirmPassword, message }, dialogState) => {\n  var errors = copyToLower(dialogState.errors); // start with server generated errors, ensure all keys start with lowercase letter\n\n  if (password !== confirmPassword) {\n    errors['confirmPassword'] = 'Passwords must match.';\n    errors['password'] = 'Passwords must match.';\n  }\n\n  const validationRulesErrors = schema.validate(password, { list: true });\n  if (validationRulesErrors.length > 0) {\n    errors['password'] = formatPasswordValidateError(validationRulesErrors);\n  }\n\n  if (!isValEmpty(message)) {\n    if (message.includes('password') || message.includes('Password')) {\n      errors['confirmPassword'] = message;\n      errors['password'] = message;\n    } else {\n      errors['email'] = message;\n    }\n  }\n\n  if (!isValEmpty(confirmationCodeError)) {\n    errors['confirmationCode'] = confirmationCodeError;\n  }\n\n  return errors;\n};\n\nconst EnterConfirmationCode = ({ value = false, onChange }) => {\n  const handleClick = () => onChange({ target: { value: !value } });\n  return (\n    <DialogButton variant='link' tooltip='' onClick={handleClick}>\n      {value ? 'Back' : 'Enter Verification Code'}\n    </DialogButton>\n  );\n};\n\nexport default function RegisterDialog({ id = title }) {\n  const [dialogState, setState] = useDialogState(id);\n  const { confirm, errors } = dialogState;\n  const dialogStateStr = JSON.stringify(dialogState);\n\n  const { handleLogin } = useLogin({ dialogState, setState });\n\n  const handleAdd = React.useCallback(\n    ({ email, password }, setValues) => {\n      Auth.signUp({\n        username: email,\n        password,\n        attributes: {\n          email,\n          name: email\n        }\n      })\n        .then(result => {\n          console.log('Succesfully signed up user!');\n          setState(prev => ({ ...prev, open: true, loading: false }));\n          setValues(prev => ({ ...prev, confirm: true }));\n        })\n        .catch(err => {\n          console.error('Error with Register');\n          const newErrors = handleValidation({ ...errors, message: err.message }, JSON.parse(dialogStateStr));\n          setState(prev => ({ ...prev, showErrors: true, loading: false, errors: newErrors }));\n        });\n    },\n    [dialogStateStr, setState, errors]\n  );\n\n  const handleConfirm = React.useCallback(\n    ({ email, password, confirmationCode }, setValues) => {\n      Auth.confirmSignUp(email, confirmationCode)\n        .then(() => {\n          console.log('Confirmed account!');\n          setState(prev => ({ ...prev, open: false, loading: false, confirm: false }));\n          handleLogin({ email, password });\n        })\n        .catch(err => {\n          console.error('Invalid code');\n          console.error(err);\n          const newErrors = handleValidation({ ...errors, confirmationCodeError: err.message }, JSON.parse(dialogStateStr));\n          setState(prev => ({ ...prev, loading: false, showErrors: true, errors: newErrors }));\n        });\n    },\n    [dialogStateStr, setState, errors, handleLogin]\n  );\n\n  const handleSubmit = React.useCallback(({ confirm, ...other }, setValues) => (confirm ? handleConfirm(other, setValues) : handleAdd(other, setValues)), [\n    handleConfirm,\n    handleAdd\n  ]);\n\n  return (\n    <GenericDialog\n      id={id}\n      title={id}\n      submitLabel={values => (values.confirm ? 'Confirm' : id)}\n      onSubmit={handleSubmit}\n      validate={handleValidation}\n      fields={[\n        {\n          id: 'email',\n          label: 'Email',\n          required: true,\n          email: true\n        },\n        {\n          id: 'password',\n          label: 'Password',\n          required: true,\n          inputProps: {\n            type: 'password'\n          },\n          hidden: ({ confirm }) => confirm\n        },\n        {\n          id: 'confirmPassword',\n          label: 'Confirm Password',\n          required: true,\n          inputProps: {\n            type: 'password'\n          },\n          hidden: ({ confirm }) => confirm\n        },\n        {\n          id: 'confirmationCode',\n          label: 'Enter Verification Code Sent to above Email',\n          required: confirm ? true : false,\n          hidden: ({ confirm }) => !confirm\n        },\n        {\n          id: 'confirm',\n          label: 'Enter Verification Code',\n          Field: EnterConfirmationCode,\n          initialValue: false\n        }\n      ]}\n    />\n  );\n}\n","import * as React from 'react';\nimport { makeStyles, Grid, Paper, Typography, Divider, TextField, CircularProgress, Link } from '@material-ui/core';\nimport { createStyles } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport BrandLogoImage from '../../images/logo.svg';\nimport { isEmpty } from '../../helpers';\nimport { useLogin, useHeight } from './hooks';\nimport { getUrlParamater } from '../../hooks';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    root: ({ height }: any) => ({\n      background: palette.common.white,\n      color: palette.primary.main,\n      height,\n      overflowY: 'auto'\n    }),\n    paper: {\n      marginTop: 32,\n      width: 300\n    },\n    disclaimer: {\n      marginTop: 32,\n      paddingLeft: 16,\n      paddingRight: 16,\n      maxWidth: 650\n    },\n    panelarea: {\n      background: '#F5F5F5'\n    },\n    button: {\n      background: palette.primary.main,\n      color: palette.common.white,\n      '&:hover': {\n        background: palette.primary.dark,\n        color: palette.common.white\n      }\n    },\n    wrapper: {\n      marginTop: 8,\n      width: 224\n    },\n    buttonProgress: {\n      position: 'absolute',\n      top: '25%',\n      left: '50%',\n      marginTop: -8,\n      marginLeft: -12\n    }\n  })\n);\n\nexport default function ForgotPassword({ email: Email = '', onBack }) {\n  const id = getUrlParamater('i');\n  const BannerMsg = isEmpty(id) ? '' : 'You must log in prior to accepting an invite.  If you do not have an account yet, please create a new account.';\n\n  const height = useHeight();\n  const classes = useStyles({ height });\n  const noAutoComplete = true;\n  var buttonRef = React.useRef(null);\n\n  const [state, setState] = React.useState({\n    loading: false,\n    errors: {},\n    forgotPassword: true,\n    email: Email,\n    newPassword: '',\n    confirmNewPassword: '',\n    confirmationCode: '',\n    enterNewPassword: false\n  });\n\n  const { loading, errors, forgotPassword, email, newPassword, enterNewPassword, confirmNewPassword, confirmationCode } = state;\n\n  const { handleLogin } = useLogin({ state, setState });\n\n  const handleReset = React.useCallback(() => {\n    handleLogin({ forgotPassword, email, enterNewPassword, confirmationCode, newPassword });\n  }, [forgotPassword, confirmationCode, handleLogin, email, enterNewPassword, newPassword]);\n\n  const handleChange = React.useCallback(\n    (name: string) => (event: any) => {\n      const value = event.target.value;\n      setState(prev => ({ ...prev, errors: {}, [name]: value }));\n    },\n    [setState]\n  );\n\n  const handleEnterReset = React.useCallback(() => {\n    setState(prev => ({ ...prev, enterNewPassword: true }));\n  }, [setState]);\n\n  const handleBack = React.useCallback(() => {\n    if (enterNewPassword) {\n      setState(prev => ({ ...prev, enterNewPassword: false }));\n    } else {\n      onBack && onBack();\n    }\n  }, [enterNewPassword, onBack]);\n\n  // Per https://stackoverflow.com/questions/50604671/programmatically-disabling-chrome-auto-fill\n  // The only way to prevent auto fill is autocomplete=newpassword\n  // Note this only prevents the browser from auto populating the fields, it does not prevent chromes new password manager\n  return (\n    <div\n      className={classes.root}\n      onKeyUp={(e: any) => {\n        if (e.keyCode === 13) {\n          // Enter key\n          buttonRef.current && buttonRef.current.click();\n        }\n      }}\n    >\n      <form autoComplete='off'>\n        <Grid container direction='column' justify='center' alignItems='center'>\n          <Grid item>\n            <Typography color='error' align='center' className={classes.disclaimer}>\n              {BannerMsg}\n            </Typography>\n          </Grid>\n          <Grid item xs={12}>\n            <Paper className={classes.paper}>\n              <Typography align='center' className={classes.panelarea}>\n                <img src={BrandLogoImage} alt='logo' style={{ height: 124 }} />\n              </Typography>\n              <Divider />\n              <Grid container spacing={1} direction='column' justify='center' alignItems='center' style={{ padding: 16 }}>\n                <Grid item>\n                  <TextField\n                    autoComplete={noAutoComplete ? 'new-password' : undefined}\n                    id='email'\n                    label='Email'\n                    disabled={loading}\n                    value={email}\n                    onChange={handleChange('email')}\n                    margin='dense'\n                    variant='outlined'\n                    error={isEmpty(errors['email']) ? false : true}\n                    helperText={errors['email']}\n                    autoFocus={!enterNewPassword || isEmpty(Email) ? true : false}\n                    InputLabelProps={{\n                      shrink: true\n                    }}\n                  />\n                </Grid>\n                {enterNewPassword && (\n                  <>\n                    <Grid item>\n                      <TextField\n                        id='confirmationCode'\n                        label='Confirmation Code'\n                        disabled={loading}\n                        value={confirmationCode}\n                        onChange={handleChange('confirmationCode')}\n                        margin='dense'\n                        variant='outlined'\n                        autoFocus={isEmpty(Email) ? false : true}\n                        error={isEmpty(errors['confirmationCode']) ? false : true}\n                        helperText={errors['confirmationCode']}\n                        InputLabelProps={{\n                          shrink: true\n                        }}\n                      />\n                    </Grid>\n                    <Grid item>\n                      <TextField\n                        autoComplete={noAutoComplete ? 'new-password' : undefined}\n                        id='newPassword'\n                        type='password'\n                        label='New Password'\n                        disabled={loading}\n                        value={newPassword}\n                        onChange={handleChange('newPassword')}\n                        margin='dense'\n                        variant='outlined'\n                        error={isEmpty(errors['newPassword']) ? false : true}\n                        helperText={errors['newPassword']}\n                        InputLabelProps={{\n                          shrink: true\n                        }}\n                      />\n                    </Grid>\n                    <Grid item>\n                      <TextField\n                        autoComplete={noAutoComplete ? 'new-password' : undefined}\n                        id='confirmNewPassword'\n                        type='password'\n                        label='Confirm New Password'\n                        disabled={loading}\n                        value={confirmNewPassword}\n                        onChange={handleChange('confirmNewPassword')}\n                        margin='dense'\n                        variant='outlined'\n                        error={isEmpty(errors['confirmNewPassword']) ? false : true}\n                        helperText={errors['confirmNewPassword']}\n                        InputLabelProps={{\n                          shrink: true\n                        }}\n                      />\n                    </Grid>\n                  </>\n                )}\n                <Grid item>\n                  <div className={classes.wrapper}>\n                    <Button ref={buttonRef} fullWidth={true} disabled={loading} variant='contained' className={classes.button} onClick={handleReset}>\n                      Reset Password\n                    </Button>\n                    {loading && <CircularProgress size={24} className={classes.buttonProgress} />}\n                  </div>\n                </Grid>\n                <Grid item>\n                  <div className={classes.wrapper}>\n                    <Button ref={buttonRef} fullWidth={true} disabled={loading} variant='contained' onClick={handleBack}>\n                      Back\n                    </Button>\n                  </div>\n                </Grid>\n                <Grid item>\n                  <div style={{ marginTop: 16 }}>\n                    <Link style={{ marginLeft: 8, cursor: 'pointer' }} underline='always' color='inherit' onClick={handleEnterReset}>\n                      Enter Reset Confirmation Code\n                    </Link>\n                  </div>\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n        </Grid>\n      </form>\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { makeStyles, Grid, Paper, Typography, Divider, TextField, CircularProgress } from '@material-ui/core';\nimport { createStyles, Link } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport BrandLogoImage from '../../images/logo.svg';\nimport { isEmpty } from '../../helpers';\nimport { useLogin, useHeight } from './hooks';\nimport DialogButton from '../application/GenericDialog/DialogButton';\nimport * as RegisterDialog from '../application/GenericDialog/Register';\nimport { getUrlParamater } from '../../hooks';\nimport ForgotPassword from './ForgotPassword';\n\nconst useStyles = makeStyles(({ palette, mixins }: any) =>\n  createStyles({\n    root: ({ height }: any) => ({\n      background: palette.common.white,\n      color: palette.primary.main,\n      height,\n      overflowY: 'auto'\n    }),\n    paper: {\n      marginTop: 32,\n      width: 300\n    },\n    disclaimer: {\n      marginTop: 32,\n      paddingLeft: 16,\n      paddingRight: 16,\n      maxWidth: 650\n    },\n    panelarea: {\n      background: '#F5F5F5'\n    },\n    button: {\n      background: palette.primary.main,\n      color: palette.common.white,\n      '&:hover': {\n        background: palette.primary.dark,\n        color: palette.common.white\n      },\n      marginTop: 8\n    },\n    wrapper: {\n      width: 224\n    },\n    buttonProgress: {\n      position: 'absolute',\n      top: '25%',\n      left: '50%',\n      marginTop: -8,\n      marginLeft: -12\n    }\n  })\n);\n\nexport default function Login() {\n  const id = getUrlParamater('i');\n  const BannerMsg = isEmpty(id) ? '' : 'You must log in prior to accepting an invite.  If you do not have an account yet, please create a new account.';\n\n  const height = useHeight();\n  const classes = useStyles({ height });\n  const noAutoComplete = true;\n  var buttonRef = React.useRef(null);\n\n  const [values, setValues] = React.useState({\n    email: '',\n    password: '',\n    forgotPassword: false\n  });\n\n  const { email, password } = values;\n\n  const [state, setState] = React.useState({ loading: false, errors: {}, forgotPassword: false });\n  const { loading, errors, forgotPassword } = state;\n\n  const { handleLogin } = useLogin({ state, setState });\n\n  const handleSubmit = React.useCallback(() => {\n    handleLogin({ email, password });\n  }, [handleLogin, email, password]);\n\n  const handleChange = (name: string) => (event: any) => {\n    const value = event.target.value;\n    setValues({ ...values, [name]: value });\n    setState(prev => ({ ...prev, errors: {} }));\n  };\n\n  const handleForgotPassword = React.useCallback(() => {\n    setState(prev => ({ ...prev, forgotPassword: true }));\n  }, []);\n\n  const handleBack = React.useCallback(() => {\n    setState(prev => ({ ...prev, forgotPassword: false }));\n  }, []);\n\n  // Per https://stackoverflow.com/questions/50604671/programmatically-disabling-chrome-auto-fill\n  // The only way to prevent auto fill is autocomplete=newpassword\n  // Note this only prevents the browser from auto populating the fields, it does not prevent chromes new password manager\n  return forgotPassword ? (\n    <ForgotPassword email={email} onBack={handleBack} />\n  ) : (\n    <div\n      className={classes.root}\n      onKeyUp={(e: any) => {\n        if (e.keyCode === 13) {\n          // Enter key\n          buttonRef.current && buttonRef.current.click();\n        }\n      }}\n    >\n      <form autoComplete='off'>\n        <Grid container direction='column' justify='center' alignItems='center'>\n          <Grid item>\n            <Typography color='error' align='center' className={classes.disclaimer}>\n              {BannerMsg}\n            </Typography>\n          </Grid>\n          <Grid item xs={12}>\n            <Paper className={classes.paper}>\n              <Typography align='center' className={classes.panelarea}>\n                <img src={BrandLogoImage} alt='logo' style={{ height: 124 }} />\n              </Typography>\n              <Divider />\n              <Grid container spacing={1} direction='column' justify='center' alignItems='center' style={{ padding: 16 }}>\n                <Grid item>\n                  <TextField\n                    autoComplete={noAutoComplete ? 'new-password' : undefined}\n                    id='email'\n                    label='Email'\n                    disabled={loading}\n                    value={values.email}\n                    onChange={handleChange('email')}\n                    margin='dense'\n                    variant='outlined'\n                    error={isEmpty(errors['email']) ? false : true}\n                    helperText={errors['email']}\n                    autoFocus={true}\n                    InputLabelProps={{\n                      shrink: true\n                    }}\n                  />\n                </Grid>\n                <Grid item>\n                  <TextField\n                    autoComplete={noAutoComplete ? 'new-password' : undefined}\n                    id='password'\n                    label='Password'\n                    disabled={loading}\n                    type='password'\n                    value={values.password}\n                    onChange={handleChange('password')}\n                    margin='dense'\n                    variant='outlined'\n                    error={isEmpty(errors['password']) ? false : true}\n                    helperText={errors['password']}\n                    fullWidth\n                    InputLabelProps={{\n                      shrink: true\n                    }}\n                  />\n                </Grid>\n                <Grid item>\n                  <div className={classes.wrapper}>\n                    <Button ref={buttonRef} fullWidth={true} disabled={loading} variant='contained' className={classes.button} onClick={handleSubmit}>\n                      Login\n                    </Button>\n                    {loading && <CircularProgress size={24} className={classes.buttonProgress} />}\n                  </div>\n                </Grid>\n                <Grid item>\n                  <div className={classes.wrapper}>\n                    <DialogButton Module={RegisterDialog} disabled={loading} size='medium' variant='contained' tooltip='' className={classes.button}>\n                      Create New Account\n                    </DialogButton>\n                  </div>\n                </Grid>\n                <Grid item>\n                  <div style={{ marginTop: 16 }}>\n                    <Link style={{ marginLeft: 8, cursor: 'pointer' }} underline='always' color='inherit' onClick={handleForgotPassword}>\n                      Forgot Password\n                    </Link>\n                  </div>\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n        </Grid>\n      </form>\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { useSelector } from 'react-redux';\nimport { AppState } from '../../store';\nimport Login from './Login';\n\nexport default function AuthGate({ children }) {\n  const auth = useSelector((state: AppState) => state.layout.auth);\n  return auth !== undefined && auth !== null ? children : <Login />;\n}\n","import * as React from 'react';\nimport { makeStyles, Grid, Paper, Typography, Divider, CircularProgress } from '@material-ui/core';\nimport { createStyles } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport BrandLogoImage from '../../images/logo.svg';\nimport { useHeight, useUserId } from './hooks';\nimport { isEmpty, timeAgo } from '../../helpers';\nimport { push } from 'connected-react-router';\nimport { useDispatch } from 'react-redux';\nimport { tables } from '../../database/dbConfig';\nimport { useTableRow } from '../../database/useTableRow';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    root: ({ height }: any) => ({\n      background: palette.common.white,\n      color: palette.primary.main,\n      height,\n      overflowY: 'auto'\n    }),\n    paper: {\n      marginTop: 32,\n      width: 300\n    },\n    disclaimer: {\n      maxWidth: 650\n    },\n    summary: {\n      marginTop: 8,\n      maxWdith: 650\n    },\n    panelarea: {\n      background: '#F5F5F5'\n    },\n    button: {\n      background: palette.primary.main,\n      color: palette.common.white,\n      '&:hover': {\n        background: palette.primary.dark,\n        color: palette.common.white\n      },\n      marginTop: 8\n    },\n    wrapper: {\n      width: 224\n    },\n    buttonProgress: {\n      position: 'absolute',\n      top: '25%',\n      left: '50%',\n      marginTop: -8,\n      marginLeft: -12\n    }\n  })\n);\n\nexport default function AcceptInvite({ id, type, onBack = undefined }) {\n  const BannerMsg = 'Click below to accept invitation';\n  const height = useHeight();\n  const classes = useStyles({ height });\n  var buttonRef = React.useRef(null);\n\n  const [state, setState] = React.useState({ loading: false, error: undefined, response: undefined, errors: {} });\n  const { loading, error } = state;\n\n  const [row, setRow, expired] = useTableRow({\n    Model: type === 's' ? tables.students : tables.instructors,\n    id,\n    state,\n    setState\n  });\n\n  const dispatch = useDispatch();\n  const userId = useUserId();\n\n  const handleClose = React.useCallback(() => {\n    dispatch(push('')); // This clears any query params\n    onBack && onBack(); // Force a refresh in parent component\n  }, [onBack, dispatch]);\n\n  const handleSubmit = React.useCallback(() => {\n    setRow({ accepted: true, userId }, handleClose);\n  }, [setRow, handleClose, userId]);\n\n  const isError = !isEmpty(row?.userId) || expired || row?.deleted || !isEmpty(error);\n\n  return (\n    <div\n      className={classes.root}\n      onKeyUp={(e: any) => {\n        if (e.keyCode === 13) {\n          // Enter key\n          buttonRef.current && buttonRef.current.click();\n        }\n      }}\n    >\n      <form autoComplete='off'>\n        <Grid container direction='column' justify='center' alignItems='center'>\n          <Grid item xs={12}>\n            <Paper className={classes.paper}>\n              <Typography align='center' className={classes.panelarea}>\n                <img src={BrandLogoImage} alt='logo' style={{ height: 124 }} />\n              </Typography>\n              <Divider />\n              <Grid container spacing={1} direction='column' justify='center' alignItems='center' style={{ padding: 16 }}>\n                <Grid item>\n                  <Typography align='center' className={classes.disclaimer}>\n                    {BannerMsg}\n                  </Typography>\n                </Grid>\n                <Grid item>\n                  <div className={classes.wrapper}>\n                    <Button\n                      ref={buttonRef}\n                      fullWidth={true}\n                      disabled={loading || isError}\n                      variant='contained'\n                      className={classes.button}\n                      onClick={handleSubmit}\n                    >\n                      Accept Invite\n                    </Button>\n                    {loading && <CircularProgress size={24} className={classes.buttonProgress} />}\n                  </div>\n                </Grid>\n                <Grid item>\n                  <div className={classes.wrapper}>\n                    <Button ref={buttonRef} fullWidth={true} variant='contained' onClick={handleClose}>\n                      Back\n                    </Button>\n                  </div>\n                </Grid>\n                <Grid item xs={12}>\n                  <Typography align='center' className={classes.summary}>\n                    Invited {timeAgo(row?.created)}\n                  </Typography>\n                  {isError && (\n                    <Typography align='center' color='error' className={classes.summary}>\n                      {!isEmpty(row?.userId)\n                        ? 'Invite has already been accepted'\n                        : expired || row?.deleted\n                        ? 'Invite has expired or no longer exists. Please request a new invite.'\n                        : error}\n                    </Typography>\n                  )}\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n        </Grid>\n      </form>\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { isEmpty } from '../../helpers';\nimport { getUrlParamater } from '../../hooks';\nimport AcceptInvite from './AcceptInvite';\n\nexport default function InviteGate({ children }) {\n  const [id, setId] = React.useState(getUrlParamater('i'));\n  const [type, setType] = React.useState(getUrlParamater('t'));\n\n  const handleBack = React.useCallback(() => {\n    setId(getUrlParamater('i'));\n    setType(getUrlParamater('t'));\n  }, [setId]);\n\n  return !isEmpty(id) ? <AcceptInvite id={id} type={type} onBack={handleBack} /> : children;\n}\n","import * as React from 'react';\nimport { makeStyles, Grid, Paper, Typography, Divider } from '@material-ui/core';\nimport { createStyles } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport BrandLogoImage from '../../images/logo.svg';\nimport { useHeight, useLayout, useLogout } from './hooks';\nimport { evalFunc } from '../../helpers';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    root: ({ height }: any) => ({\n      background: palette.common.white,\n      color: palette.primary.main,\n      height,\n      overflowY: 'auto'\n    }),\n    paper: {\n      marginTop: 32,\n      width: 300\n    },\n    disclaimer: {\n      maxWidth: 650\n    },\n    summary: {\n      marginTop: 8,\n      maxWdith: 650\n    },\n    panelarea: {\n      background: '#F5F5F5'\n    },\n    button: {\n      background: palette.primary.main,\n      color: palette.common.white,\n      '&:hover': {\n        background: palette.primary.dark,\n        color: palette.common.white\n      }\n    },\n    wrapper: {\n      width: 224,\n      marginTop: 8\n    }\n  })\n);\n\nconst buttons = [\n  {\n    label: 'Admin',\n    state: { admin: true, student: undefined, instructor: undefined },\n    filter: ({ isAdmin }) => isAdmin\n  },\n  {\n    label: 'Instructor',\n    state: ({ instructors }) => ({ admin: false, student: undefined, instructor: instructors[0] }),\n    filter: ({ instructors }) => instructors.length > 0\n  },\n  {\n    label: 'Student',\n    state: ({ students }) => ({ admin: false, student: students[0], instructor: undefined }),\n    filter: ({ students }) => students.length > 0\n  }\n];\n\nexport default function SelectUserType({ instructors = [], students = [], isAdmin, onBack = undefined }) {\n  const height = useHeight();\n  const classes = useStyles({ height });\n  var buttonRef = React.useRef(null);\n  const [, setLayout] = useLayout();\n  const onLogout = useLogout();\n  const handleSelect = React.useCallback(props => () => setLayout({ ...props, canChangeUserType: true }), [setLayout]);\n  const isError = !isAdmin && instructors.length === 0 && students.length === 0;\n  const BannerMsg = isError ? 'No associated user types' : 'You have multiple user types, please select desired user type:';\n\n  return (\n    <div\n      className={classes.root}\n      onKeyUp={(e: any) => {\n        if (e.keyCode === 13) {\n          // Enter key\n          buttonRef.current && buttonRef.current.click();\n        }\n      }}\n    >\n      <form autoComplete='off'>\n        <Grid container direction='column' justify='center' alignItems='center'>\n          <Grid item xs={12}>\n            <Paper className={classes.paper}>\n              <Typography align='center' className={classes.panelarea}>\n                <img src={BrandLogoImage} alt='logo' style={{ height: 124 }} />\n              </Typography>\n              <Divider />\n              <Grid container spacing={1} direction='column' justify='center' alignItems='center' style={{ padding: 16 }}>\n                <Grid item>\n                  <Typography align='center' className={classes.disclaimer}>\n                    {BannerMsg}\n                  </Typography>\n                </Grid>\n                {buttons.map(\n                  ({ label, state, filter }, i) =>\n                    filter({ instructors, students, isAdmin }) && (\n                      <Grid item>\n                        <div className={classes.wrapper}>\n                          <Button\n                            ref={i === 0 ? buttonRef : undefined}\n                            fullWidth={true}\n                            variant='contained'\n                            className={classes.button}\n                            onClick={handleSelect(evalFunc(state, { instructors, students, isAdmin }))}\n                          >\n                            {label}\n                          </Button>\n                        </div>\n                      </Grid>\n                    )\n                )}\n                <Grid item>\n                  <div className={classes.wrapper}>\n                    <Button fullWidth={true} variant='contained' onClick={onLogout}>\n                      Logout\n                    </Button>\n                  </div>\n                </Grid>\n                <Grid item xs={12}>\n                  {isError && (\n                    <Typography align='center' color='error' className={classes.summary}>\n                      You have not accepted any invites yet. You need to receive and accept an invite before you can use this application.\n                    </Typography>\n                  )}\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n        </Grid>\n      </form>\n    </div>\n  );\n}\n","import { useUserId } from '../../../layout/hooks';\nimport { useInstructors } from './useInstructors';\n\nexport const useUserIdInstructors = () => {\n  const userId = useUserId();\n  const { data, loading, success } = useInstructors({\n    requestParams: {\n      FilterExpression: '#userId = :userId AND #accepted = :accepted AND (#deleted = :deleted OR attribute_not_exists(#deleted))',\n      ExpressionAttributeNames: {\n        '#userId': 'userId',\n        '#accepted': 'accepted',\n        '#deleted': 'deleted'\n      },\n      ExpressionAttributeValues: {\n        ':userId': userId,\n        ':accepted': true,\n        ':deleted': false\n      }\n    }\n  });\n\n  const completed = loading === false && success === true;\n  return completed ? data : undefined;\n};\n","import * as React from 'react';\nimport { useLayout } from './hooks';\nimport SelectUserType from './SelectUserType';\nimport { useIsAdmin } from '../../hooks';\nimport { useUserIdInstructors } from '../application/GenericTable/Instructors/useUserIdInstructors';\n\nexport const UserTypeGate = ({ children }) => {\n  const isAdmin = useIsAdmin();\n  const [{ admin, instructor, student }, setLayout] = useLayout();\n\n  const instructors = useUserIdInstructors();\n  const students = []; // TODO: Connect students to backend\n\n  React.useEffect(() => {\n    // Auto select user type if user is only associated with one type\n    if (instructors) {\n      if (isAdmin && instructors.length === 0 && students.length === 0) {\n        setLayout({ admin: true, canChangeUserType: false });\n      } else if (!isAdmin && instructors.length > 0 && students.length === 0) {\n        setLayout({ instructor: instructors[0], canChangeUserType: false });\n      } else if (!isAdmin && instructors.length === 0 && students.length > 0) {\n        setLayout({ student: students[0], canChangeUserType: false });\n      }\n    }\n    // eslint-disable-next-line\n  }, [isAdmin, JSON.stringify(instructors)]);\n\n  // If viewing is not empty, then return children\n  // Else if completed == false, then show loading\n  // Else if completed and only one user type exists, set viewing automatically\n  // Else show the select user type\n\n  return admin || instructor || student ? (\n    children\n  ) : !instructors ? (\n    <div>Loading</div>\n  ) : (\n    <SelectUserType instructors={instructors} students={students} isAdmin={isAdmin} />\n  );\n};\n","import * as React from 'react';\nimport Routes from './routes';\nimport { ConnectedRouter } from 'connected-react-router';\nimport { AppState } from '../../store';\nimport { connect } from 'react-redux';\nimport Layout from './Layout';\nimport AuthGate from './AuthGate';\nimport InviteGate from './InviteGate';\nimport { UserTypeGate } from './UserTypeGate';\n\nexport interface AppRouterProps {\n  history?: any;\n}\n\nfunction AppRouter(props: AppRouterProps) {\n  const { history } = props;\n  return (\n    <ConnectedRouter history={history}>\n      <AuthGate>\n        <InviteGate>\n          <UserTypeGate>\n            <Layout>\n              <Routes />\n            </Layout>\n          </UserTypeGate>\n        </InviteGate>\n      </AuthGate>\n    </ConnectedRouter>\n  );\n}\n\nconst mapStateToProps = (state: AppState, ownProp: AppRouterProps): AppRouterProps => {\n  var history = ownProp.history;\n  const location = state && state.router && state.router.location; //location from redux store (previously persisted location)\n  history.location = location ? location : history.location; //if a previous location exists, then set it, otherwise use the passed in/default value\n  return { history };\n};\n\nexport default connect(mapStateToProps)(AppRouter);\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { exactProp } from '@material-ui/utils';\nimport { withStyles } from '@material-ui/core';\n\nexport const html = {\n  WebkitFontSmoothing: 'antialiased', // Antialiasing.\n  MozOsxFontSmoothing: 'grayscale' // Antialiasing.\n  //boxSizing: 'border-box', // Custom, remove box sizing as it affects child layout height calculations\n};\n\nexport const body = theme => ({\n  color: theme.palette.text.primary,\n  ...theme.typography.body2,\n  backgroundColor: theme.palette.background.default,\n  '@media print': {\n    // Save printer ink.\n    backgroundColor: theme.palette.common.white\n  }\n});\n\nexport const styles = theme => ({\n  '@global': {\n    html,\n    '*, *::before, *::after': {\n      boxSizing: 'inherit'\n    },\n    'strong, b': {\n      fontWeight: theme.typography.fontWeightBold\n    },\n    body: {\n      margin: 0, // Remove the margin in all browsers.\n      ...body(theme),\n      // Add support for document.body.requestFullScreen().\n      // Other elements, if background transparent, are not supported.\n      '&::backdrop': {\n        backgroundColor: theme.palette.background.default\n      }\n    }\n  }\n});\n\n/**\n * Kickstart an elegant, consistent, and simple baseline to build upon.\n */\nfunction CssBaseline(props) {\n  /* eslint-disable no-unused-vars */\n  const { children = null } = props;\n  /* eslint-enable no-unused-vars */\n  return <React.Fragment>{children}</React.Fragment>;\n}\n\nCssBaseline.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * You can wrap a node.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object\n};\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line\n  CssBaseline['propTypes' + ''] = exactProp(CssBaseline.propTypes);\n}\n\nexport default withStyles(styles, { name: 'MuiCssBaseline' })(CssBaseline);\n","import React from 'react';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport configureStore from './storeConfig';\nimport { createBrowserHistory } from 'history';\nimport { AppState } from './store';\nimport { persistStore } from 'redux-persist';\nimport ViewPort from './components/layout/ViewPort';\nimport AppRouter from './components/layout/AppRouter';\nimport { theme } from './constants';\nimport Amplify from 'aws-amplify';\nimport awsconfig from './aws-exports';\nimport CssBaselineCustom from './components/layout/CssBaselineCustom';\n\nexport const history = createBrowserHistory(); // Create browser history to use in the Redux store'\nexport const initialState = (window as any).initialReduxState as AppState; // Get the application-wide store instance, prepopulating with state from the server where available.\nexport const store = configureStore(history, initialState) as any; //Setup the global store object\nexport const getState = store.getState;\nexport const persistor = persistStore(store); //Setup the global persistor\n\nAmplify.configure(awsconfig);\n\nfunction ThemedViewPort(props: any) {\n  const { children } = props;\n\n  return (\n    <MuiThemeProvider theme={theme}>\n      <CssBaselineCustom />\n      <ViewPort>{children}</ViewPort>\n    </MuiThemeProvider>\n  );\n}\n\nfunction AppWrapper(props: any) {\n  const { children } = props;\n  return (\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <ThemedViewPort>{children}</ThemedViewPort>\n      </PersistGate>\n    </Provider>\n  );\n}\n\nfunction App() {\n  return (\n    <AppWrapper>\n      <React.Suspense fallback={<></>}>\n        <AppRouter history={history} />\n      </React.Suspense>\n    </AppWrapper>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport { printHeader } from './helpers';\n\nprintHeader();\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}