{"version":3,"sources":["components/layout/Header.tsx","components/layout/hooks.ts","components/layout/LeftDrawerContent.tsx","components/application/GenericDialog/store.ts","hooks.tsx","components/general/StyledButton.tsx","components/application/GenericDialog/useDialogState.tsx","components/application/GenericDialog/DialogButton.tsx","fonts/Montserrat-Regular.woff2","fonts/archivo-v7-latin-regular.woff2","images/calendar.png","images/wifi.png","images/picture.png","images/contacts.png","images/musicplayer.png","images/newspaper.png","images/checkbox.png","images/video.png","images/group.png","helpers.tsx","fonts.js","constants.tsx","components/application/GenericTable/helpers.tsx","images/logo.svg","components/application/GenericTable/store.ts","components/layout/store.ts","components/application/Selector/store.ts","components/application/SnackBar/store.ts","database/store.ts","store.ts","storeConfig.ts","components/layout/ViewPort.tsx","components/layout/PlayGround.tsx","components/application/GenericTable/TableToolbar.tsx","components/application/Selector/useTabSelector.ts","components/general/TabSelector/TabSelector.tsx","components/application/GenericTable/TableTabSelector.tsx","components/application/GenericTable/GenericTableContainer.tsx","database/dbConfig.ts","database/useTable.tsx","database/useUpdateDatabase.tsx","database/useProcessData.tsx","database/useInstructor.tsx","components/application/GenericDialog/helpers.tsx","components/application/DialogField/Text.tsx","components/application/GenericDialog/Fields.tsx","components/application/GenericDialog/ErrorGate.tsx","components/application/GenericDialog/GenericDialog.tsx","components/application/DialogField/Label.tsx","components/application/DialogField/MarginDivider.tsx","components/application/GenericDialog/AddInstructor/helpers.ts","components/application/SnackBar/useSnackBar.tsx","components/application/GenericDialog/AddInstructor/index.tsx","database/useTableRow.tsx","components/application/GenericTable/Instructors/buttons.tsx","components/application/GenericTable/Instructors/table.tsx","components/application/GenericTable/Instructors/useInstructors.tsx","components/pages/Instructors.tsx","components/pages/Profile/ProfileSettings.tsx","aws-exports.js","database/useS3Bucket.tsx","components/application/DialogField/FileUploadButton.tsx","components/pages/Profile/ProfileDetails.tsx","components/pages/Page.tsx","database/useProfile.tsx","components/pages/Profile/Profile.tsx","components/pages/Calendar.tsx","components/pages/Class/helpers.tsx","components/pages/Class/Class.tsx","components/pages/Class/useClasses.tsx","components/pages/Class/useCombinedClasses.tsx","database/useSessions.tsx","components/hooks/useProcessDataState.tsx","components/pages/Class/StudentClasses.tsx","components/pages/Class/Classes.tsx","components/general/ActionCard.tsx","components/pages/ChildPage.tsx","database/useData.tsx","database/useClassData.tsx","components/pages/Class/ClassDashboard.tsx","components/application/DialogField/Check.tsx","components/application/GenericDialog/BlockList/index.tsx","components/general/BlockList.tsx","components/hooks/useFormState.tsx","components/general/OutlinedDiv/OutlinedDivActive.tsx","components/application/DialogField/ImageSelector.tsx","components/application/DialogField/AutoCompleteSelect.tsx","components/application/DialogField/FileUploadLink.tsx","components/application/GenericDialog/ClassResource/index.tsx","components/general/ActionCardClassResource.tsx","components/general/BlockListClassResource.tsx","components/pages/Class/ClassPresentationLink.tsx","components/application/GenericDialog/ClassPresentation/index.tsx","components/general/BlockListClassPresentation.tsx","components/pages/Class/ClassMaterials.tsx","components/general/OutlinedDiv/OutlinedDiv.tsx","components/application/DialogField/Radio.tsx","components/application/GenericDialog/CreateGroup/helpers.ts","components/application/GenericDialog/CreateGroup/index.tsx","components/application/GenericDialog/useSubmitDialogData.tsx","components/application/GenericDialog/AddStudent/index.tsx","database/models/Attendance.ts","components/application/GenericDialog/Profile/index.tsx","components/pages/Class/Participant.tsx","components/application/DialogField/StudentAttendance.tsx","components/application/GenericDialog/MarkAttendance/index.tsx","database/useAttendanceRow.tsx","database/useGroupStudents.tsx","components/pages/Class/Participants.tsx","components/pages/Class/Group.tsx","database/useLocationData.tsx","database/useGroups.tsx","components/pages/Class/ClassRoster.tsx","components/pages/TermsAndConditions.tsx","components/pages/StyleGuide.tsx","components/general/SurveyQuestionCard.tsx","components/general/SurveyQuestions.tsx","components/general/BorderLinearProgress.tsx","components/general/YourProgress.tsx","components/general/CircleText.tsx","components/pages/Class/RankingModel.tsx","database/useSessionData.tsx","components/pages/Class/PostSurvey.tsx","components/general/AgeQuestionCard.tsx","database/models/Class.ts","components/pages/Class/PreSurvey.tsx","components/pages/Class/Lesson.tsx","components/pages/Class/Resources.tsx","components/pages/Class/Congratulations.tsx","components/pages/Class/CreateClass.tsx","components/layout/ForgotPassword.tsx","components/pages/AccessDenied.tsx","components/pages/Class/AgeChart.tsx","components/pages/Class/SurveyResults.tsx","components/pages/Class/ClassReport.tsx","components/layout/routes.tsx","components/general/TabSelector/TabSelectorToolBar.tsx","components/layout/useTabs.ts","components/application/GenericDialog/Help/helpers.ts","components/application/GenericDialog/Help/index.tsx","components/layout/ApplicationBar.tsx","components/layout/Footer.tsx","components/application/SnackBar/SnackBar.tsx","components/layout/LeftDrawer.tsx","components/layout/Layout.tsx","components/application/GenericDialog/Register/index.js","components/layout/Login.tsx","components/layout/AuthGate.tsx","components/layout/AcceptInvite.tsx","components/layout/InviteGate.tsx","components/layout/SelectUserType.tsx","database/useTableData.tsx","components/layout/UserTypeGate.tsx","components/application/GenericTable/Instructors/useInstructorsByUserId.tsx","database/useStudentsByUserId.tsx","components/layout/AppRouter.tsx","components/layout/CssBaselineCustom.tsx","App.tsx","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","palette","createStyles","header","color","Header","superVariant","titleVariant","subVariant","supertitle","undefined","title","subtitle","ActionButton","TitleButton","classes","container","spacing","item","xs","variant","isEmpty","className","justify","useLayoutKey","key","useSelector","state","layout","shallowEqual","useAuth","useUserEmail","signInUserSession","idToken","payload","email","useUserId","username","useLogout","dispatch","useDispatch","React","type","handleValidation","dialogState","message","errors","copyToLower","includes","useLogin","setState","onSuccess","stateStr","JSON","stringify","handleLogin","forgotPassword","enterNewPassword","confirmationCode","newPassword","password","prev","open","loading","showErrors","Auth","forgotPasswordSubmit","then","data","alert","signIn","user","console","log","auth","catch","err","error","newErrors","parse","useAppBarHeight","appBarHeight","useResizeViewPort","props","useHeight","height","useWidth","width","useAppBarHeightRef","ref","useComponentSize","resizeAppBar","useResizeAppBar","useHandleChangeRoute","changeRoute","useChangeRoute","route","search","event","pathname","useLocation","history","useHistory","push","publicUrl","useChangeRouteLayout","useLayout","setLayout","useHandleChangeRouteLayout","useLeftDrawer","leftDrawerOpen","useTheme","fullScreen","useFullScreen","drawerPaths","parts","homepage","split","lastPart","length","replace","leftDrawerEnabled","find","p","setLeftDrawerOpen","theme","root","button","marginTop","marginRight","actionsContainer","marginBottom","resetContainer","paddingLeft","paddingRight","primary","dark","stepper","background","stepLabelActive","stepLabelCompleted","stepIconRoot","border","main","borderRadius","stepIconActive","stepIconCompleted","stepIconText","fill","steps","label","VerticalLinearStepper","useState","activeStep","setActiveStep","useEffect","idx","findIndex","s","endsWith","linkVariant","onClick","mt","orientation","map","index","active","completed","StepIconProps","text","square","elevation","defaultDialogState","submitting","initialValues","initialState","updateDialog","id","reducer","action","updateState","size","useMediaQuery","breakpoints","down","useContentPadding","contentpadding_xs","contentpadding","useSignedIn","useIsAdmin","signedIn","adminEmails","adminUsers","ae","trim","toLowerCase","useIsAdminMode","isAdmin","admin","useIsInstructorMode","instructor","useIsStudentMode","student","useUserType","isInstructor","isStudent","getUrlParamater","paramName","sParameterName","i","sURLVariables","window","location","substring","decodeURIComponent","useHandleLink","link","focus","useCanChangeUserType","students","instructors","primaryRoot","secondary","borderColor","opacity","common","white","primaryPressed","secondaryRoot","light","secondaryPressed","textRoot","textPressed","pressed","disabled","whiteTextRoot","whiteTextPressed","StyledButton","Icon","children","other","rootClass","pressedClass","useDialogState","dialog","renderDialogModule","Dialog","default","withStyles","badge","top","right","paper","Badge","margin","listitem","padding","DialogButton","forwardRef","Content","Id","Module","tooltip","placement","underline","styledVariant","noGrid","mount","onSubmit","onClose","onChange","onReset","values","setValues","disabledColor","fullWidth","setDialogState","anchorEl","setAnchorEl","other_s","handleUpdate","useCallback","evalFunc","handleClose","handleClick","currentTarget","shared","checkEmpty","style","marginLeft","fontSize","cursor","module","exports","hostAddress","append","protocol","hostname","port","debugSettings","debugoutput","logviewport","logrender","logmapping","logreducer","logselectors","logform","logformupdates","debugfieldonhover","printHeader","process","packageJson","version","value","Array","isArray","hasChanged","current","initial","validateEmail","test","String","validateHttpUrl","url","uncapitalize","charAt","slice","obj","keys","Object","n","newobj","bool","x","emptyUndefined","isError","getLabel","f","spread","final","str","triggerResize","dispatchEvent","CustomEvent","setTimeout","path","newState","uuid","uuidv4","getDateFromTimestamp","milliseconds","d","Date","setUTCMilliseconds","date","mm","getMonth","dd","getDate","getFullYear","join","mmddyyyy","minutesFrom","time","diff","getTime","minutesToTimeAgo","minutes","Math","floor","h","m","ret","timeAgo","onlyUnique","self","indexOf","dayAbbrOfWeek","dayIndex","monthAbbrOfYear","monthIndex","nth","getDayMonthYear","timestamp","now","day","getDay","year","month","parseEmails","emails","getClassTitle","headline","name","filter","getStudentName","profile","montserrat","fontFamily","fontStyle","fontDisplay","fontWeight","src","Montserrat","unicodeRange","archivo","Archivo","basetheme","createMuiTheme","beta","ageQuestionLabel","typography","noScrollPaths","noPadPaths","leftDrawerWidth","toolbarheight","contentrowspacing","tablefooterheight","tablefilterbarheight","tabletoolbarheight","tableRowHeight","footerheight","progressSize","tabheight","overrides","MuiCssBaseline","MuiTooltip","maxWidth","MuiTypography","h6","lineHeight","subtitle1","MuiDialogTitle","paddingTop","paddingBottom","MuiDialogActions","grey","display","alignItems","justifyContent","flex","MuiListItemIcon","sortComparators","a","b","orderBy","isMatch","re","getSearchValues","match","attrname","isNaN","e","toString","isColumnExactMatch","cf","column","useTableFilter","customFilter","table","TableStore","searchtext","columnfilter","columnfiltervalue","columnfiltercolumn","filtered","table_filter","stableSort","getSorting","orderDirection","sortComparator","performcolumnfilter","performtextfilter","RegExp","array","cmp","stabilizedThis","el","sort","order","setDefaults","tables","t","reduce","isObjectWithKeys","isObject","defaultValues","hydratestate","useTableUpdate","useTableFilterUpdate","filters","getState","tableFilterUpdate","useTable","useTableFilterValues","defaultUserState","defaultState","updateSnackBar","reducers","Table","selector","snackBar","database","localforage","driver","storeName","description","persistConfig","storage","staticProps","flexGrow","zIndex","overflow","position","dimensions","backdrop","backdropColor","viewport","backgroundColor","ViewPort","resizeViewPort","PlayGround","Grid","Typography","formControl","searchIcon","h4","pxToRem","titleicon","grid","hidden","borderBottom","TableToolbar","searchOpen","setSearchOpen","buttons","inputplaceholder","showicon","buttonPosition","handleOpenSearch","inputRef","tableUpdate","updateTable","handleClear","handleKeyDown","preventDefault","addEventListener","removeEventListener","handleChange","target","Search","FormControl","Input","disableUnderline","placeholder","startAdornment","InputAdornment","endAdornment","IconButton","Buttons","widths","headerpadding","iconwidth","titlepadding","titleminwidth","calculatedbuttonswidth","calculatedfullwidth","k","tabletitlevisible","tableiconvisible","IconComponent","Icons","ButtonGroup","direction","Paper","zeroMinWidth","Tooltip","noWrap","useTabSelector","updateSelector","rounded","tabs","minHeight","indicator","labelIcon","tabroot","minWidth","wrapper","flexDirection","TabSelector","wrapped","tabSelector","setTabSelector","selected","tabId","Tabs","scrollButtons","icon","TableTabSelector","tab","Tab","storeTable","GenericTable","GenericTableContainer","Height","toolbar","stacked","toolbarplaceholder","Columns","columns","dialogs","onChangeTab","FilterContainer","tableProps","layoutHeight","forEach","renderCell","cell","row","col","getValues","Cell","Component","handleRefresh","injectValues","applyCellRenderers","_toolbar","filterbar","rows","component","excludePadding","contentPadding","calculatedheight","c","spinner","CircularProgress","thickness","fallback","r","AWS","require","config","region","credentials","CognitoIdentityCredentials","IdentityPoolId","identityPoolIdUnauth","dynamo","DynamoDB","DocumentClient","TableName","success","handleRequest","FilterExpression","ExpressionAttributeNames","ExpressionAttributeValues","getRows","scanResults","params","ExclusiveStartKey","scan","promise","items","Items","LastEvaluatedKey","useUpdateDatabase","updateDatabase","executeTransaction","pdi","Data","Model","Action","Snackbar","onError","put","Item","_rev","get","Key","processData","DataProp","created","updated","deleted","statusCode","useProcessData","isExpired","inviteExpiration","setMappedValue","field","object","getValue","getMappedValue","singleValue","isDisabled","isActive","isHidden","useValues","fields","InitialValues","validate","externalValues","externalSetValues","disableInitialize","initialValue","getDefaultValues","mergedInitialValues","merge","internalValues","setInternalValues","vals","touched","setTouched","mergedInitialValuesStr","initializeValues","internalErrors","externalErrors","errorCount","stateErrors","resetErrors","uppercase","toUpperCase","useHandleChange","handleBlur","mapField","required","autoFocus","InputProps","inputProps","step","min","max","multiline","getProps","disableCloseOnSelect","disableClearable","showError","onBlur","bindField","Errors","http","Text","forceErrorMargin","TextField","helperText","InputLabelProps","shrink","getColumnFields","numFields","numCols","numColsField","ceil","startIndex","endIndex","MapField","Field","collapse","wrappeditem","Collapse","in","Fields","minColumnWidth","maxColumnWidth","from","ErrorGate","align","PaperComponent","cancel","outline","dialogHeader","capitalize","textTransform","content","actions","closeButton","deleteButton","deleteButtonEmpty","submitProgress","left","GenericDialog","Title","draggable","cancelLabel","deleteLabel","submitLabel","onDelete","ContentProps","Classes","confirmDelete","setConfirmDelete","handleConfirmDelete","values_s","handleSubmit","handleDelete","contentProps","inProgress","aria-labelledby","aria-describedby","disableAutoFocus","DialogTitle","disableTypography","aria-label","Divider","DialogContent","dividers","Button","DialogActions","Label","MarginDivider","useSnackBar","AddInstructorDialog","setSnackbar","parentId","submitData","OnSuccess","institution","onSubmitSuccess","role","body","Destination","CcAddresses","ToAddresses","Message","Body","Html","Charset","Subject","Source","sourceEmailAddress","ReplyToAddresses","SES","apiVersion","sendEmail","stack","sendInstructorInvite","useTableRow","response","row_str","setRow","prevValues","readSetRow","expired","RowActionsButton","onUpdate","stopPropagation","Boolean","Popover","anchorOrigin","vertical","horizontal","transformOrigin","Menu","keepMounted","MenuItem","requestParams","Instructors","selectedTab","Invite","accepted","useInstructors","footer","checkbox","select","ProfileSettings","setProfile","rest","Card","clsx","CardContent","Box","awsmobile","aws_project_region","aws_cognito_identity_pool_id","aws_cognito_region","aws_user_pools_id","aws_user_pools_web_client_id","oauth","aws_user_files_s3_bucket","aws_user_files_s3_bucket_region","aws_dynamodb_all_tables_region","getObjectUrl","filename","useS3Bucket","handleUpload","level","contentType","onStart","Storage","result","status","Amplify","configure","awsconfig","FileUploadButton","uploading","onInput","uploadFiles","files","arrFiles","file","accept","htmlFor","avatar","ProfileDetails","userType","profile_s","newProfile","textAlign","Avatar","picture","Page","Container","disableGutters","useProfile","State","SetState","internalState","setInternalState","Profile","lg","md","xl","Calendar","images","wifi","calendar","contacts","musicplayer","newspaper","video","getImage","black","imageContainer","summary","Class","buttonLabel","showUpdated","image","keySkills","rankingModel","surveyQuestions","classResources","classPresentation","gutterBottom","alt","pl","pr","useClasses","mergeClass","instructorData","adminData","useCombinedClasses","handleAdminRefresh","handleInstructorRefresh","loadingInstructor","successInstructor","d1","d2","concat","d3","d4","useSessions","sessions","u","actionText","StudentClasses","studentId","groupId","handleChangeRouteLayout","changeRouteLayout","formState","setFormState","handleCreate","useProcessDataState","session","classId","handleResume","currentRoute","sm","mb","isAdminMode","isInstructorMode","isStudentMode","class","circle","circleText","ActionCard","actionLabel","titleProps","onLock","onRemove","onEdit","locked","canLock","handleLock","handleRemove","handleEdit","canEdit","canDelete","CardActions","ChildPage","backLabel","onBack","useData","data_str","setData","updateData","newValues","OnError","saveData","handleSaveData","useClassData","actionCards","ClassDashboard","ml","ac","Check","checked","FormControlLabel","control","Checkbox","FormHelperText","BlockListDialog","BlockList","showIndexBadges","add","edit","remove","DialogModule","value_str","handleReplace","useFormState","shadows","inputLabel","transform","notchedOutline","borderWidth","boxShadow","OutlinedDivActive","labelWidth","setLabelWidth","labelRef","useRef","labelNode","ReactDOM","findDOMNode","offsetWidth","InputLabel","notched","ImageSelector","option","getSelectedOption","options","o","AutoCompleteSelect","freeSolo","Autocomplete","autoHighlight","getOptionLabel","renderOption","renderInput","autoComplete","blue","FileActions","FileUploadLink","ClassResourceDialog","iconContainer","ActionCardClassResource","handleLink","pt","BlockListClassResource","YouTubeAdornment","ClassPresentationLink","ClassPresenationDialog","BlockListClassPresentation","ClassPresentationDialog","ClassMaterials","classPresentations","shape","OutlinedDiv","Radio","RadioGroup","sendStudentInvite","participants","CreateGroupDialog","useSubmitDialogData","userId","isLast","invitesToSend","group","instructorId","AddStudentDialog","createAttendanceKey","getAttendanceKeys","ProfileDialog","readOnly","Participant","view","viewReport","onRefresh","StudentAttendance","handleCheck","newStudents","present","MarkAttendanceDialog","useAttendanceRow","attendanceData","deepmerge","useGroupStudents","activeStudents","pendingStudents","expiredStudents","deletedStudents","bold","Participants","details","semibold","createdOn","Group","sessionId","ClassRoster","useGroups","groups","g","TermsAndConditions","StyleGuide","circleSelected","circleLast","circleLastSelected","SurveyQuestionCard","answerKey","lastAnswerKey","rm","selectedId","lastSelectedId","Number","SurveyQuestions","readonly","v","StyledLinearProgress","colorPrimary","bar","LinearProgress","BorderedLinearProgress","CircleText","RankingModel","useSessionData","session_str","handleSaveSession","nextRoute","handleSaveCompleteSession","PostSurvey","handleChangeRoute","fs","sq","postSurveyAnswer","YourProgress","AgeQuestionCard","preSurveyAnswer","defaultAgeRankingModels","defaultRankingModels","rankingValue","PreSurvey","ageQuestion","handleAgeChange","Lesson","contentPath","controls","Resources","Congratulations","displayText","CreateClass","overflowY","disclaimer","panelarea","buttonProgress","ForgotPassword","Email","BannerMsg","buttonRef","confirmNewPassword","handleReset","handleEnterReset","handleBack","onKeyUp","keyCode","click","BrandLogoImage","Link","AccessDenied","AgeChart","chartData","chart","show","colors","dataLabels","enabled","divider","yaxis","lines","legend","labels","plotOptions","columnWidth","stroke","mode","xaxis","axisBorder","axisTicks","categories","series","ResultSummary","answers","answer","SurveyResults","valueKey","surveyResults","sr","question","getRankingValue","ClassReport","surveyQuestionNames","results","preAnswers","postAnswers","preAnswersAverage","Decimal","dividedBy","toDecimalPlaces","toNumber","postAnswersAverage","ageQuestionData","getReportData","ForgotPasswordRoute","ProtectedRoute","userTypes","Routes","exact","TabSelectorToolBar","tabRoute","tabToSelect","allTabs","useTabs","ut","tabs_s","HelpDialog","sendHelpEmail","appBar","drawer","appBarFullScreen","logo","menuButton","up","AppBarTabSelector","ApplicationBar","prevId","onLogout","handleOpenLeftDrawer","handleLogout","handleTabChange","defaultTabId","defaultTabRoute","handleLogoClick","handleHelpClose","resetUserType","canChangeUserType","AppBar","Toolbar","edge","aria-haspopup","MenuListProps","bottomAppBar","bottom","bottomAppBarBeta","bottomToolBar","pointer","Footer","href","variantIcon","CheckCircleIcon","warning","WarningIcon","ErrorIcon","info","InfoIcon","green","amber","iconVariant","SnackBar","setSnackBar","reason","autoHideDuration","SnackbarContent","flexShrink","drawerPaper","drawerPaperTemporary","LeftDrawer","leftDrawer","setLeftDrawer","handleLeftDrawerClose","Drawer","ModalProps","LeftDrawerContent","transitions","create","easing","easeOut","duration","enteringScreen","innerContent","contentHeight","padInnerContent","Layout","data-testid","passwordValidator","schema","is","has","lowercase","digits","symbols","agree","confirmationCodeError","confirmPassword","validationRulesErrors","list","formatPasswordValidateError","isValEmpty","EnterConfirmationCode","RegisterDialog","confirm","dialogStateStr","handleAdd","signUp","attributes","handleConfirm","confirmSignUp","mixins","Login","handleForgotPassword","AuthGate","maxWdith","AcceptInvite","InviteGate","setId","setType","SelectUserType","handleSelect","sublabel","uniqueStudentGroupIds","l","useTableData","loadOnMount","UserTypeGate","useInstructorsByUserId","useStudentsByUserId","handleRefreshStudents","connect","ownProp","router","html","WebkitFontSmoothing","MozOsxFontSmoothing","body2","boxSizing","fontWeightBold","createBrowserHistory","initialReduxState","store","appConfig","devToolsExtension","allReducers","combineReducers","assign","connectRouter","buildRootReducer","persistedReducer","persistReducer","compose","applyMiddleware","thunk","routerMiddleware","createStore","createStoreWithMiddleware","configureStore","persistor","persistStore","ThemedViewPort","CssBaselineCustom","AppWrapper","App","Suspense","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.475f3b8a.chunk.js","sourcesContent":["import * as React from 'react';\nimport { makeStyles, createStyles, Typography, Grid } from '@material-ui/core';\nimport { isEmpty } from '../../helpers';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    header: {\n      color: 'inherit',\n    }\n  } as any)\n);\n\nexport default function Header({\n  superVariant = 'h6',\n  titleVariant = 'h4',\n  subVariant = 'subtitle1',\n  color = 'textSecondary' as any,\n  supertitle = undefined,\n  title = undefined,\n  subtitle = undefined,\n  ActionButton = undefined,\n  TitleButton = undefined\n}) {\n  const classes = useStyles();\n  return (\n    <Grid container spacing={1}>\n      <Grid item xs>\n        <Grid container spacing={1}>\n          {supertitle && (\n            <Grid item xs={12}>\n              <Typography color={color} variant={superVariant as any}>\n                {supertitle}\n              </Typography>\n            </Grid>\n          )}\n          {(!isEmpty(title) || !isEmpty(subtitle)) && (\n            <Grid item xs={12}>\n              <Typography className={classes.header} variant={titleVariant as any}>\n                <Grid container spacing={1} justify='space-between'>\n                  <Grid item>\n                    {title}\n                    {subtitle && (\n                      <Typography color={color} variant={subVariant as any}>\n                        {subtitle}\n                      </Typography>\n                    )}\n                  </Grid>\n                  {TitleButton && (\n                    <Grid item>\n                      <TitleButton />\n                    </Grid>\n                  )}\n                </Grid>\n              </Typography>\n            </Grid>\n          )}\n        </Grid>\n      </Grid>\n      {ActionButton && (\n        <Grid item>\n          <ActionButton />\n        </Grid>\n      )}\n    </Grid>\n  );\n}\n","import { useFullScreen } from './../../hooks';\nimport * as React from 'react';\nimport useComponentSize from '@rehooks/component-size';\nimport { useHistory, useLocation } from 'react-router';\nimport { AppState } from '../../store';\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux';\nimport { publicUrl, copyToLower, isEmpty } from '../../helpers';\nimport { Auth } from 'aws-amplify';\nimport { useTheme } from '@material-ui/core';\nimport { homepage } from '../../../package.json';\n\nexport const useLayoutKey = key => useSelector((state: AppState) => state.layout[key], shallowEqual);\nexport const useAuth = () => useLayoutKey('auth') || {};\nexport const useUserEmail = () => {\n  const auth = useAuth();\n  return auth.signInUserSession?.idToken?.payload?.email ?? 'Username';\n};\nexport const useUserId = () => {\n  const auth = useAuth();\n  return auth.username;\n};\n\nexport const useLogout = () => {\n  const dispatch = useDispatch();\n  return React.useCallback(() => dispatch({ type: 'LOGOUT' }), [dispatch]);\n};\n\nexport default function useRequest({ url, setState = undefined, onSuccess = undefined, onError = undefined, method = 'post' as any }) {\n  const [error, setError] = React.useState();\n  const { access } = useAuth();\n\n  const handleRequest = React.useCallback(\n    (values = {}, OnSuccess = undefined, OnError = undefined) => {\n      setState && setState(prev => ({ ...prev, success: false, disabled: true, submitting: true, response: undefined }));\n      async function submitData() {\n        setError(undefined); // Reset any previous errors\n        try {\n          console.log({ access, method, url });\n          //const response = await processRequest(method, url, values, access);\n          const response = { data: { success: true, email: 'test@test.com' } };\n          console.log('Successful request.');\n          console.log({ response, values });\n          setState && setState(prev => ({ ...prev, success: true, disabled: false, submitting: false, errors: {}, response }));\n          onSuccess && onSuccess(response);\n          OnSuccess && OnSuccess(response);\n        } catch (error) {\n          const { response } = error;\n          const { error_text = 'Unknown error' } = response?.data ?? {};\n          console.error({ error_text, error, values });\n          setError(error_text); // Set any new errors\n          setState && setState(prev => ({ ...prev, success: false, disabled: false, submitting: false, errors: {}, response }));\n          onError && onError(response);\n          OnError && OnError(response);\n        }\n      }\n      submitData();\n    },\n    [access, url, method, setState, setError, onSuccess, onError]\n  );\n\n  return { handleRequest, error, setError };\n}\n\nconst handleValidation = ({ message }, dialogState) => {\n  var errors = copyToLower(dialogState.errors); // start with server generated errors, ensure all keys start with lowercase letter\n\n  if (!isEmpty(message)) {\n    if (message.includes('password') || message.includes('Password')) {\n      errors['password'] = message;\n    } else {\n      errors['email'] = message;\n    }\n  }\n\n  return errors;\n};\n\nexport const useLogin = ({ state = {}, setState = undefined, onSuccess = undefined }) => {\n  const dispatch = useDispatch();\n  const stateStr = JSON.stringify(state);\n\n  const handleLogin = React.useCallback(\n    ({ forgotPassword, enterNewPassword, confirmationCode, newPassword, email, password }) => {\n      setState(prev => ({ ...prev, open: false, loading: true, showErrors: false, errors: {} }));\n      if (forgotPassword) {\n        if (enterNewPassword) {\n          Auth.forgotPasswordSubmit(email, confirmationCode, newPassword)\n            .then(data => {\n              alert('Successfully updated password.');\n              Auth.signIn(email, newPassword)\n                .then(user => {\n                  console.log('Login success!');\n                  dispatch({ type: 'LOGIN', auth: user });\n                  setState(prev => ({ ...prev, open: false, loading: false, errors: {} }));\n                  onSuccess && onSuccess();\n                })\n                .catch(err => {\n                  console.error('Error with Login');\n                  console.error(err);\n                  const newErrors = handleValidation({ message: err.message }, JSON.parse(stateStr));\n                  setState(prev => ({ ...prev, loading: false, showErrors: true, errors: newErrors }));\n                });\n            })\n            .catch(err => {\n              console.error('Error resetting password');\n              console.error(err);\n              const newErrors = handleValidation({ message: err.message }, JSON.parse(stateStr));\n              setState(prev => ({ ...prev, loading: false, showErrors: true, errors: newErrors }));\n            });\n        } else {\n          Auth.forgotPassword(email)\n            .then(data => {\n              alert('An email has been sent with instructions for resetting your password.');\n              setState(prev => ({ ...prev, loading: false, enterNewPassword: true }));\n            })\n            .catch(err => {\n              console.error('Error requesting reset');\n              const newErrors = handleValidation({ message: err.message }, JSON.parse(stateStr));\n              setState(prev => ({ ...prev, loading: false, showErrors: true, errors: newErrors }));\n            });\n        }\n      } else {\n        Auth.signIn(email, password)\n          .then(user => {\n            console.log('Login success!');\n            dispatch({ type: 'LOGIN', auth: user });\n            onSuccess && onSuccess();\n            setState(prev => ({ ...prev, open: false, loading: false, errors: {} }));\n          })\n          .catch(err => {\n            console.error('Error with Login');\n            console.error(err);\n            const newErrors = handleValidation({ message: err.message }, JSON.parse(stateStr));\n            setState(prev => ({ ...prev, loading: false, showErrors: true, errors: newErrors }));\n          });\n      }\n    },\n    [dispatch, onSuccess, setState, stateStr]\n  );\n\n  return { handleLogin };\n};\n\nexport const useResizeAppBar = () => {\n  const dispatch = useDispatch();\n  return React.useCallback(height => dispatch({ type: 'RESIZE_APPBAR', height }), [dispatch]);\n};\n\nexport const useAppBarHeight = (): number => {\n  return useSelector((state: AppState) => state.layout.appBarHeight);\n};\n\nexport const useResizeViewPort = () => {\n  const dispatch = useDispatch();\n  return React.useCallback(props => dispatch({ type: 'RESIZE_VIEWPORT', ...props }), [dispatch]);\n};\n\nexport const useHeight = (): number => {\n  return useSelector((state: AppState) => state.layout.height);\n};\n\nexport const useWidth = (): number => {\n  return useSelector((state: AppState) => state.layout.width);\n};\n\nexport const useDimensions = () => {\n  return [useHeight(), useWidth()];\n};\n\nexport const useAppBarHeightRef = () => {\n  let ref = React.useRef(null);\n  const { height } = useComponentSize(ref);\n  const resizeAppBar = useResizeAppBar();\n  React.useEffect(() => {\n    resizeAppBar(height);\n  }, [resizeAppBar, height]);\n  return ref;\n};\n\nexport const useHandleChangeRoute = () => {\n  const changeRoute = useChangeRoute();\n  return React.useCallback((route, state = undefined, search = undefined) => event => changeRoute(route, state, search), [changeRoute]);\n};\n\nexport const useChangeRoute = () => {\n  const { pathname } = useLocation();\n  const history = useHistory();\n  return React.useCallback(\n    (route: string, state: any = undefined, search: any = undefined) => {\n      if (pathname !== route && history) {\n        history.push({ pathname: publicUrl(route), search, state });\n      }\n    },\n    [history, pathname]\n  );\n};\n\nexport const useChangeRouteLayout = () => {\n  const { pathname } = useLocation();\n  const history = useHistory();\n  const [, setLayout] = useLayout();\n  return React.useCallback(\n    (route: string, state: any = undefined, search: any = undefined) => {\n      if (pathname !== route && history) {\n        history.push({ pathname: publicUrl(route), search, state });\n      }\n      state && setLayout(state);\n    },\n    [history, pathname, setLayout]\n  );\n};\n\nexport const useHandleChangeRouteLayout = () => {\n  const changeRoute = useChangeRouteLayout();\n  return React.useCallback((route, state = undefined, search = undefined) => event => changeRoute(route, state, search), [changeRoute]);\n};\n\nexport const useLayout = (): any[] => {\n  const dispatch = useDispatch();\n  const layout = useSelector((state: AppState) => state.layout, shallowEqual);\n  const setLayout = React.useCallback(\n    payload => {\n      dispatch({ type: 'UPDATE_LAYOUT', payload });\n    },\n    [dispatch]\n  );\n  return [layout, setLayout];\n};\n\nexport const useLeftDrawer = (): any[] => {\n  const { pathname } = useLocation();\n  const [{ leftDrawerOpen }, setLayout] = useLayout();\n  const { layout }: any = useTheme();\n  const fullScreen = useFullScreen();\n  const { drawerPaths } = layout;\n  const parts = (homepage ?? '').split('/');\n  const lastPart = (parts.length > 0 ? parts[parts.length - 1] : '').replace('/', '');\n  const leftDrawerEnabled = drawerPaths.find(p => p === pathname || `/${lastPart}/${p}` === pathname) ? true : false;\n  const setLeftDrawerOpen = React.useCallback((open = !leftDrawerOpen) => setLayout({ leftDrawerOpen: open }), [setLayout, leftDrawerOpen]);\n  return [leftDrawerEnabled && (fullScreen ? leftDrawerOpen : true), setLeftDrawerOpen, leftDrawerEnabled];\n};\n","import React from 'react';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport { Stepper, Step, StepLabel, Box } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport { useHandleChangeRoute } from './hooks';\nimport { useLocation } from 'react-router';\nimport Header from '../layout/Header';\nimport DialogButton from '../application/GenericDialog/DialogButton';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: '100%'\n    },\n    button: {\n      marginTop: theme.spacing(1),\n      marginRight: theme.spacing(1)\n    },\n    actionsContainer: {\n      marginBottom: theme.spacing(2)\n    },\n    resetContainer: {\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2)\n    },\n    container: {\n      marginTop: 8,\n      marginBottom: 8\n    },\n    header: {\n      color: theme.palette.primary.dark\n    },\n    stepper: {\n      background: 'inherit',\n      color: 'inherit'\n    },\n    stepLabelActive: {\n      color: 'white !important'\n    },\n    stepLabelCompleted: {\n      color: 'white !important'\n    },\n    stepIconRoot: {\n      color: 'transparent',\n      border: `1px solid ${theme.palette.primary.main}`,\n      borderRadius: 25\n    },\n    stepIconActive: {\n      color: 'white !important'\n    },\n    stepIconCompleted: {\n      color: 'white !important'\n    },\n    stepIconText: {\n      fill: `${theme.palette.primary.main} !important`\n    }\n  })\n);\n\nexport const steps = [{ label: 'Pre-Survey' }, { label: 'Lesson' }, { label: 'Post-Survey' }, { label: 'Resources' }];\n\nexport default function VerticalLinearStepper() {\n  const classes = useStyles();\n  const [activeStep, setActiveStep] = React.useState(0);\n  const { pathname } = useLocation();\n\n  React.useEffect(() => {\n    var idx = steps.findIndex(s => pathname.endsWith(`/${s.label}`));\n    if (idx !== activeStep && idx >= 0) setActiveStep(idx);\n  }, [activeStep, pathname]);\n\n  const handleReset = () => {\n    setActiveStep(0);\n  };\n\n  const changeRoute = useHandleChangeRoute();\n\n  return (\n    <Box p={1}>\n      <Box p={1}>\n        <DialogButton color='inherit' variant='link' linkVariant='h6' onClick={changeRoute('/Classes')}>\n          {`< Back to Classes`}\n        </DialogButton>\n        <Box mt={2}>\n          <Header color='inherit' supertitle={'Class 3'} subtitle={'Managing Responsibilities'} />\n        </Box>\n      </Box>\n      <Stepper className={classes.stepper} activeStep={activeStep} orientation='vertical'>\n        {steps.map(({ label }, index) => (\n          <Step className={classes.stepper} key={label}>\n            <StepLabel\n              classes={{ active: classes.stepLabelActive, completed: classes.stepLabelCompleted }}\n              StepIconProps={{\n                classes: { root: classes.stepIconRoot, completed: classes.stepIconCompleted, active: classes.stepIconActive, text: classes.stepIconText }\n              }}\n            >\n              {label}\n            </StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n      {activeStep === steps.length && (\n        <Paper square elevation={0} className={classes.resetContainer}>\n          <Typography>All steps completed - you&apos;re finished</Typography>\n          <Button onClick={handleReset} className={classes.button}>\n            Reset\n          </Button>\n        </Paper>\n      )}\n    </Box>\n  );\n}\n","import { updateState } from '../../../helpers';\n\nexport const defaultDialogState = {\n  open: false,\n  type: 'add',\n  errors: {},\n  showErrors: false,\n  submitting: false,\n  initialValues: {}\n};\n\nconst initialState = {\n  'Getting Started': { open: true }\n};\n\nexport const updateDialog = (id, payload) => ({ type: 'UPDATE_DIALOG', id, payload });\n\nexport function reducer(state = initialState, action) {\n  switch (action.type) {\n    case 'UPDATE_DIALOG':\n      return updateState(state, action);\n    case 'LOGOUT':\n      return initialState;\n    default:\n      return state;\n  }\n}\n","import * as React from 'react';\nimport { useTheme, useMediaQuery } from '@material-ui/core';\nimport { useSelector } from 'react-redux';\nimport { adminUsers } from '../package.json';\nimport { useLayout, useUserEmail } from './components/layout/hooks';\nimport { useLocation } from 'react-router';\n\nexport const useFullScreen = (size = 'sm' as any) => {\n  const theme = useTheme();\n  return useMediaQuery(theme.breakpoints.down(size));\n};\n\nexport const useContentPadding = () => {\n  const fullScreen = useFullScreen();\n  const { layout } = useTheme();\n  return fullScreen ? layout.contentpadding_xs : layout.contentpadding;\n};\n\nexport const useSignedIn = () => {\n  const isEmpty = useSelector((s: any) => s.layout.auth === undefined);\n  const isLoaded = useSelector((s: any) => s.layout.auth !== undefined);\n  return isLoaded && !isEmpty ? true : false;\n};\n\nexport const useIsAdmin = () => {\n  const signedIn = useSignedIn();\n  const email = useUserEmail();\n  const adminEmails = adminUsers.split(',');\n  return signedIn && adminEmails.findIndex(ae => ae.trim().toLowerCase() === email.trim().toLowerCase()) > -1 ? true : false;\n};\n\nexport const useIsAdminMode = () => {\n  const isAdmin = useIsAdmin();\n  const [{ admin }] = useLayout();\n  return isAdmin === true && admin === true ? true : false;\n};\n\nexport const useIsInstructorMode = () => {\n  const [{ instructor }] = useLayout();\n  return instructor !== undefined;\n};\n\nexport const useIsStudentMode = () => {\n  const [{ student }] = useLayout();\n  return student !== undefined;\n};\n\nexport const useUserType = () => {\n  const isAdmin = useIsAdminMode();\n  const isInstructor = useIsInstructorMode();\n  const isStudent = useIsStudentMode();\n  return isAdmin ? 'Admin' : isInstructor ? 'Instructor' : isStudent ? 'Student' : 'Unknown';\n};\n\nexport const getUrlParamater = paramName => {\n  var sPageURL = window.location.search.substring(1),\n    sURLVariables = sPageURL.split('&'),\n    sParameterName,\n    i;\n\n  for (i = 0; i < sURLVariables.length; i++) {\n    sParameterName = sURLVariables[i].split('=');\n\n    if (sParameterName[0] === paramName) {\n      return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);\n    }\n  }\n  return undefined;\n};\n\nexport const useHandleLink = link => {\n  return React.useCallback(() => {\n    window.open(link, '_blank').focus();\n  }, [link]);\n};\n\nexport const useCurrentRoute = () => {\n  const location = useLocation();\n  return location.pathname.substr(location.pathname.lastIndexOf('/'));\n};\n\nexport const useCanChangeStudentGroup = () => {\n  const [{ students }] = useLayout();\n  const isStudentMode = useIsStudentMode();\n  return isStudentMode && students?.length > 1 ? true : false;\n};\n\nexport const useCanChangeUserType = () => {\n  const isAdmin = useIsAdmin();\n  const [{ students, instructors }] = useLayout();\n  return (isAdmin && (students?.length > 0 || instructors?.length > 0)) || (!isAdmin && students?.length > 0 && instructors?.length > 0);\n};\n","import React from 'react';\nimport { makeStyles, Button } from '@material-ui/core';\n\nconst useStyles = makeStyles(({ palette, spacing }) => ({\n  primaryRoot: ({ width }: any) => ({\n    width,\n    color: palette.secondary.dark,\n    background: '#F1C30A',\n    borderRadius: 20,\n    borderColor: '#F1C30A',\n    '&:hover': {\n      opacity: '85%',\n      color: palette.secondary.dark,\n      background: '#F1C30A',\n      borderColor: '#F1C30A'\n    },\n    '&:disabled': {\n      opacity: '85%',\n      color: palette.common.white,\n      borderColor: palette.secondary.main,\n      background: palette.secondary.main\n    }\n  }),\n  primaryPressed: ({ width }: any) => ({\n    width,\n    color: palette.common.white,\n    background: palette.secondary.dark,\n    borderColor: palette.secondary.dark,\n    borderRadius: 20,\n    '&:hover': {\n      opacity: '85%',\n      color: palette.common.white,\n      borderColor: palette.secondary.dark,\n      background: palette.secondary.dark\n    }\n  }),\n  secondaryRoot: ({ width }: any) => ({\n    width,\n    color: palette.primary.main,\n    background: palette.common.white,\n    borderColor: palette.primary.main,\n    borderRadius: 20,\n    '&:hover': {\n      opacity: '85%',\n      borderColor: palette.primary.light,\n      color: palette.primary.light,\n      background: palette.common.white\n    },\n    '&:disabled': {\n      opacity: '85%',\n      color: palette.secondary.main,\n      background: palette.common.white\n    }\n  }),\n  secondaryPressed: ({ width }: any) => ({\n    width,\n    color: palette.secondary.dark,\n    background: palette.common.white,\n    borderColor: palette.secondary.dark,\n    borderRadius: 20,\n    '&:hover': {\n      opacity: '85%',\n      color: palette.secondary.dark,\n      borderColor: palette.secondary.dark,\n      background: palette.common.white\n    }\n  }),\n  textRoot: ({ width }: any) => ({\n    width,\n    color: palette.primary.main,\n    '&:hover': {\n      opacity: '85%',\n      color: palette.primary.light\n    },\n    '&:disabled': {\n      opacity: '85%',\n      color: palette.secondary.main\n    }\n  }),\n  textPressed: ({ width }: any) => ({\n    width\n  }),\n  text: {},\n  pressed: {},\n  disabled: {\n    color: palette.common.white,\n    background: palette.common.white\n  },\n  whiteTextRoot: ({ width }: any) => ({\n    width,\n    color: palette.common.white,\n    '&:hover': {\n      opacity: '85%'      \n    },\n    '&:disabled': {\n      opacity: '85%',\n      color: palette.secondary.main\n    }\n  }),\n  whiteTextPressed: ({ width }: any) => ({\n    width,\n    text: {},\n    pressed: {},\n    disabled: {\n      color: palette.common.white,\n      background: palette.common.white\n    }\n  })\n}));\n\nexport type StyledButtonVariant = 'primary' | 'secondary' | 'text' | 'whiteText';\n\nexport default function StyledButton({\n  disabled = undefined,\n  pressed = undefined,\n  width = undefined,\n  variant = 'primary' as StyledButtonVariant,\n  size = 'large' as any,\n  Icon = undefined,\n  children,\n  ...other\n}) {\n  const classes = useStyles({ width });\n  const rootClass = classes[`${variant}Root`];\n  const pressedClass = classes[`${variant}Pressed`];\n\n  const className = pressed ? pressedClass : rootClass;\n  return (\n    <Button\n      disabled={disabled}\n      color='default'\n      variant={variant === 'text' || variant === 'whiteText' ? 'text' : 'contained'}\n      size={size}\n      className={className}\n      {...other}\n    >\n      {Icon && <Icon />}\n      {variant === 'text' ? <u>{children}</u> : children}\n    </Button>\n  );\n}\n","import * as React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { AppState } from '../../../store';\nimport { defaultDialogState, updateDialog } from './store';\n\nexport const useDialogState = id => {\n  const dispatch = useDispatch();\n  const dialogState = useSelector((state: AppState) => state.dialog[id] || defaultDialogState);\n  const setDialogState = React.useCallback(payload => dispatch(updateDialog(id, payload)), [id, dispatch]);\n  return [dialogState, setDialogState];\n};\n","import React from 'react';\nimport {\n  Button,\n  IconButton,\n  Tooltip,\n  Grid,\n  Typography,\n  Fab,\n  useTheme,\n  ListItem,\n  ListItemText,\n  makeStyles,\n  createStyles,\n  Badge,\n  withStyles,\n  Link,\n  MenuItem\n} from '@material-ui/core';\nimport { useDialogState } from './useDialogState';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { checkEmpty, evalFunc } from '../../../helpers';\nimport { useTableFilterValues } from '../GenericTable/store';\nimport * as Icons from '@material-ui/icons';\nimport { useFullScreen } from '../../../hooks';\nimport StyledButton from '../../general/StyledButton';\n\nexport interface DialogModuleProps {\n  default: any;\n  title: string;\n  props?: any;\n}\n\nexport const renderDialogModule = ({ default: Dialog, title, ...props }) => Dialog && <Dialog id={title} {...props} />;\n\nexport const EditDialogButton = ({\n  variant = 'iconbutton',\n  placement = 'left',\n  tooltip = 'Edit',\n  mount = false, // Default to false, as most edit buttons are within the table rows, which get remounted in various scenaries (layout resizing etc)\n  ...other\n}) => <DialogButton variant={variant} Icon={EditIcon} type='Edit' tooltip={tooltip} placement={placement} mount={mount} {...other} />;\n\nconst StyledBadge = withStyles(theme =>\n  createStyles({\n    badge: {\n      top: 7,\n      right: 6,\n      border: `1px solid ${theme.palette.background.paper}`\n    }\n  })\n)(Badge);\n\nexport const TableFilterDialogButton = ({ table, Module, Icon = Icons.FilterList, tooltip = 'Filter Results' }) => {\n  const [values, setValues] = useTableFilterValues(table);\n  const {\n    Features = [],\n    Engagements = [],\n    Inputs = [],\n    Outputs = [],\n    Functionalities = [],\n    Conditions = [],\n    Platforms = [],\n    Cost = [],\n    Privacy = [],\n    Uses = [],\n    DeveloperTypes = [],\n    ClinicalFoundations = []\n  } = values as any;\n  const filterCount = [\n    Features,\n    Engagements,\n    Inputs,\n    Outputs,\n    Functionalities,\n    Conditions,\n    Platforms,\n    Cost,\n    Privacy,\n    Uses,\n    DeveloperTypes,\n    ClinicalFoundations\n  ].reduce((t, c) => (t = t + c.length), 0);\n\n  const handleReset = React.useCallback(() => setValues({}), [setValues]);\n  const fullScreen = useFullScreen();\n\n  return (\n    <StyledBadge badgeContent={filterCount} color='error' overlap='circle' anchorOrigin={{ horizontal: 'right', vertical: 'bottom' }}>\n      <DialogButton\n        Module={Module}\n        Icon={Icon}\n        tooltip={filterCount === 0 ? tooltip : `${filterCount} Filters Active`}\n        table={table}\n        values={values}\n        setValues={setValues}\n        onReset={handleReset}\n      >\n        {!fullScreen && 'Filter'}\n      </DialogButton>\n    </StyledBadge>\n  );\n};\n\n// Pass a dialog via Module.  If dialog is mounted elsewhere, set mounted = false to prevent duplicate mounts\nexport interface DialogButtonProps {\n  id?: string;\n  Module?: DialogModuleProps;\n  type?: 'Add' | 'Edit' | 'View';\n  tooltip?: string;\n  placement?: any;\n  color?: any;\n  variant?: string;\n  Icon?: any;\n  initialValues?: object;\n  children?: any;\n}\n\nconst useStyles = makeStyles(({ palette, spacing }: any) =>\n  createStyles({\n    margin: {\n      margin: spacing(1)\n    },\n    listitem: {\n      padding: 8,\n      paddingLeft: 16,\n      paddingRight: 8,\n      background: 'inherit',\n      '&:hover': {\n        color: palette.common.white,\n        background: palette.primary.main\n      }\n    }\n  })\n);\n\nconst DialogButton = React.forwardRef(function DialogButton(\n  {\n    id: Id = undefined,\n    Module = undefined,\n    type = 'Add',\n    tooltip = '',\n    placement = 'bottom',\n    color = 'primary',\n    variant = 'fab',\n    underline = 'hover',\n    linkVariant = 'caption',\n    styledVariant = undefined,\n    size = 'small',\n    label = '',\n    disabled = undefined,\n    Icon = undefined,\n    initialValues = {},\n    noGrid = true,\n    mount = true,\n    onSubmit = undefined,\n    onClick = undefined,\n    onClose = undefined,\n    onChange = undefined,\n    onReset = undefined,\n    values = undefined,\n    setValues = undefined,\n    className = undefined,\n    disabledColor = undefined,\n    fullWidth = undefined,\n    children,\n    ...other\n  }: DialogButtonProps & any,\n  ref\n) {\n  const classes = useStyles({});\n  const theme = useTheme();\n  const fullScreen = useFullScreen();\n  const id = Id ? Id : Module && Module.title;\n  const [, setDialogState] = useDialogState(id);\n  const [anchorEl, setAnchorEl] = React.useState<HTMLButtonElement | null>(null);\n\n  const other_s = JSON.stringify(other);\n  const handleUpdate = React.useCallback(() => {\n    setDialogState({\n      type,\n      open: true,\n      initialValues: evalFunc(initialValues),\n      ...JSON.parse(other_s)\n    });\n  }, [setDialogState, other_s, initialValues, type]);\n\n  const handleClose = React.useCallback(() => {\n    setAnchorEl(null);\n    onClose && onClose();\n  }, [onClose, setAnchorEl]);\n\n  const handleClick = React.useCallback(\n    event => {\n      setAnchorEl(event.currentTarget);\n      onClick && onClick(event);\n      handleUpdate();\n    },\n    [onClick, handleUpdate]\n  );\n\n  const shared = {\n    disabled,\n    onClick: handleClick,\n    size,\n    className\n  };\n\n  const wrapGrid = Content =>\n    !noGrid ? (\n      <Grid key={tooltip} item>\n        {Content}\n      </Grid>\n    ) : (\n      Content\n    );\n\n  return wrapGrid(\n    <>\n      {mount && Module && renderDialogModule({ ...Module, anchorEl, onClose: handleClose, onChange, onReset, values, setValues, onSubmit })}\n      <Tooltip\n        placement={placement}\n        title={\n          disabled ? (\n            ''\n          ) : checkEmpty(tooltip) ? (\n            tooltip\n          ) : (\n            <Typography variant='h6' color='inherit'>\n              {tooltip}\n            </Typography>\n          )\n        }\n      >\n        <span>\n          {variant === 'styled' ? (\n            <StyledButton\n              variant={styledVariant}\n              fullWidth={fullWidth}\n              width={fullWidth ? undefined : fullScreen ? 64 : 120}\n              disabled={disabled}\n              onClick={handleClick}\n              size={size}\n            >\n              {Icon && <Icon />}\n              {(Icon === undefined || !fullScreen) && <div style={{ marginLeft: 4, marginRight: 4 }}>{children}</div>}\n            </StyledButton>\n          ) : variant === 'menuitem' ? (\n            <MenuItem key={label} {...shared}>\n              {children}\n            </MenuItem>\n          ) : variant === 'listitem' ? (\n            <ListItem key={label} button={true} className={classes.listitem} {...shared}>\n              <ListItemText primary={label} />\n            </ListItem>\n          ) : variant === 'iconbutton' ? (\n            <IconButton className={classes.margin} color={color} {...shared}>\n              {Icon && <Icon fontSize='large' />}\n            </IconButton>\n          ) : variant === 'primarycontained' ? (\n            <Button color='primary' variant='contained' {...shared}>\n              {children}\n            </Button>\n          ) : variant === 'text' ? (\n            <Button\n              color={color}\n              style={{\n                width: 48,\n                height: 48\n              }}\n              variant={variant}\n              {...shared}\n            >\n              {Icon && <Icon style={{ margin: -4 }} />}\n            </Button>\n          ) : variant === 'contained' ? (\n            <Button fullWidth={true} variant={variant} color={color as any} {...shared}>\n              {children}\n            </Button>\n          ) : variant === 'standard' ? (\n            <Button color={color as any} {...shared}>\n              {children}\n            </Button>\n          ) : variant === 'link' ? (\n            disabled ? (\n              <Typography color='textSecondary' variant='caption'>\n                {children}\n              </Typography>\n            ) : (\n              <Link color={color} variant={linkVariant} underline={underline} style={{ cursor: 'pointer' }} {...shared}>\n                {children}\n              </Link>\n            )\n          ) : (\n            <Fab\n              size={size}\n              variant='extended'\n              color={color}\n              style={{\n                color: disabled ? (disabledColor ? disabledColor : theme.palette.primary.light) : theme.palette.common.white\n              }}\n              {...shared}\n            >\n              {Icon && <Icon />}\n              {children && <div style={{ marginLeft: Icon ? 4 : 0, marginRight: !fullScreen ? 4 : 0 }}>{children}</div>}\n            </Fab>\n          )}\n        </span>\n      </Tooltip>\n    </>\n  );\n});\n\nexport default DialogButton;\n","module.exports = __webpack_public_path__ + \"static/media/Montserrat-Regular.6e5293f1.woff2\";","module.exports = __webpack_public_path__ + \"static/media/archivo-v7-latin-regular.1311922f.woff2\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAYAAABxlTA0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAbISURBVHgB7Z1LjBRFGMf/3TOz89gHu6LrjQAHo0aQAIlIDIHEGD0oXExQD0Bi9kTMepF4I/GEknjBCIoCESVBSBY8qEQFMSYrLoZXiMthXyIIgd15T8+ju6yvhx122NmFYaqqa2bnl/ROd/VspvvfX331+qrLgER6e3s7U4XIJhjOBsBYBrBOaIERZWDnTMfYb9rOr7t37xiBJAxIomfrexuY4dunj6iV4QKM2Mx594tdH/ZBAj5IoOedbdsZzE/5bgj602kYxsblz62O/XXm934IRrgFv71121p+wSchgiVrgGQMGD7vHlqWBdu2y77i8/kQDAbBfxO1whhbt3fXjlMQiB+CMU1jH2OonUXPAs+sKe5P/IfczX+QyaRn/HooVHtmMQ1jH/0yBGJCIGS9XNyFEEEqWvzMW+7m8818qfyhQgTcLhbSPUAgQi3YNMz1DCLMl3NzFDjyUXE/n+UC+9HZ2UXZePrvmuLshD+r9fzjFAQhVGAu7jKIhAs7FfKzInztbDgQlAPvINRFNATMEFqtFF7IlVi0FHXF8AXIQJ7Aq15DXSFJ4KaLkExTYMk0BZZMU2DJeCbwfOMWIkYajY68WsQMkLBbAnvxhPm3e/xT4SUcLryJRkW5Bb/q7yuJS7zoP+GmNSrKBV5gjk1LI6tuVJQLPOYseKC0RkG5wN8VNuA2e7R0POg8iX7nBTQqygs5Evf97E7XD6dZBFdZ41ovoVzgSa5wy50LNBsakmlMgSduQBc8cxHSOHuC+58zQOs84JUeIBCElzSWBV88XRSXSPHh/v7j8JrGEZgP7ePS6fK0q4PT0xRTVwKzbMbdpkFD/L99W/mfyKqvXoFX1I3ATnwcsYMfIH54J+xb/5af/PmrokuYiT+O342zUExdCEziJo59wq3XgpOYQPL7L/nnePEkFWqziUvkrOJDuCcMQAXaC0wugcQlYSeh/UQfF/zsj3cLtftBD4EehmK0Fzj1y6EycScx0nEYV/5EVVAQoeJCT2uBM2d+QH740rR0CpVqa2vHQ0GFHoVlKUJbgUlca6Bylm5v76gtHo1qHIoKPS0Fzg9dnFHcSCRSe7CfwkJPO4GpxpA6eajiuXA4jGBQUNC8okJPK4GnVsfuhSLZQ6EwhKKg0JPW2bO2q4Bqyd0YhPP88ornWoJBoXHAd+HX2ZYSFxB8D9IEXveIjapZvRxecQpyaHa4S0ZbgQu2jfFoHLFEspQWS6QwEUuUphHEk2ncGo+539UVbTvcLSvnbkRrOIR8wUEqVexJC7a0wO/3IZkshl5lMlm0t0WgI9oK3NIScGsOhGGYXFRf6TjIz9FcDTp2HAeRsL7zHfUVOODH4491laXd71hHmoWcZJRZ8GSWNjV4pLlc9XX0h0WZwF0drbyZ2wIdyOXyuB1NQAXK7Mnv18fdTxaWKmj6YMl4alYF24FsfKb86bez4ZnACd5ISKYtqKCDN0JaI97UlT1zEXmFzVuLF2pe4ZkFz2trRcrHh+GZoNcfzEJ7RHA/chV4JjC9YKND0/4DkXgmsJXNIRpPVXzBhmjmpA9OW1kl4hJz0geTX1QhMFXR5qQPDvDesvmdHWh0PPXB8YT8ucr0Rqr21rBn/SCeCUw+2Hbkt+SosZjmIyNzTuAwH/axbcb9sHyRIyHvevG8EzgcdLdGR8shI+qvTWV4K68K426LBLXpb56KlgLHeEdQoVBdX0UsaaNbQ4G17A+OhKp3HQ/zPyrQ0oKpWetV01Y0zRENyTQFlkxTYMlI88Ef79pTduzTISBiCipakYQ0gaPROJo0XYR06uZ9ERS40t3djXw+j2QyiUwmg3qgLgSm2UUrV64srTRAyz0MDAzUhchCXUS1zdsHZfHixWXLONA+pcmAMbH3IFhgOVGLleLaRKybUYlsNgeRCBXYsjJSxtkSiemRkNeuXYMM8oJnfwoVmMTNZsWHQw0NDWFsbMzdp1wyOjqK69evQzSVlvKpFeGFHF1kIBBwFxYRyeDgoLvJwnFsNweKRmw92ECUrJiqUbatLoq8VuhayQ3JcG+CLZiN0F+a+ROPx91VsqgwMk11Ac/VQIKS1VKuK2EY5yAQsQIz8xiXt3fyMJvNupvfX5yS5WWc7lRIWLLaSrUeA0zo26KF3/Hrb/UMM0PsekCq4LqPHP36M32XOyOYYW5BnWKabDMEI9w5Xr4wMPL0khUxnjdeRl3hbD9ycO8BCEZK6XP54tn+p5auOG8yrOJCa71oKs9zUWYbbxz95vM9kIDUUmfjxs0LbTOwlpnmJm4hy/jPaSI2ozcineM335dP5g/09e2X9oak/wEgRX6eEvDhAwAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/group.3f0d16c3.png\";","import { AppState } from './store';\nimport { theme } from './constants';\nimport packageJson from '../package.json';\nimport { v4 as uuidv4 } from 'uuid';\n\nexport function hostAddress(append?) {\n  return (\n    window.location.protocol + '//' + window.location.hostname + (window.location.port ? ':' + window.location.port : '') + (append !== undefined ? append : '')\n  );\n}\n\nexport const debugSettings = {\n  debugoutput: false,\n  logviewport: false,\n  logrender: true,\n  logmapping: false,\n  logreducer: false,\n  logselectors: false,\n  logform: true,\n  logformupdates: true,\n  debugfieldonhover: false\n};\n\nexport function printHeader() {\n  console.log(\n    `%c\n\n██████╗  ██████╗  ██████╗ ██████╗ ███████╗\n██╔══██╗██╔═══██╗██╔═══██╗██╔══██╗██╔════╝\n██║  ██║██║   ██║██║   ██║██████╔╝███████╗\n██║  ██║██║   ██║██║   ██║██╔══██╗╚════██║\n██████╔╝╚██████╔╝╚██████╔╝██║  ██║███████║\n╚═════╝  ╚═════╝  ╚═════╝ ╚═╝  ╚═╝╚══════╝ \n\nHost: ${hostAddress()}\n\nEnvironment: ${process.env.NODE_ENV}\nVersion: ${packageJson.version}\n                         \n`,\n    'font-family:monospace;color:' + theme.palette.primary.main + ';font-size:12px;'\n  );\n}\n\nexport function getViewPortHeight(state: AppState) {\n  return state.layout.height;\n}\n\nexport function getLayoutHeight(state: AppState) {\n  return getViewPortHeight(state);\n}\n\nexport const setIfEmpty = value => (value === undefined || value === null ? '' : value);\nexport const checkEmpty = value => value === undefined || value === null || value === '' || (Array.isArray(value) && value.length === 0);\nexport const undefinedIfEmpty = value => (checkEmpty(value) ? undefined : value);\nexport const isDefined = value => value !== undefined && value !== null;\nexport const hasChanged = (current, initial) => JSON.stringify(current) !== JSON.stringify(initial);\n\nexport const getKey = ({ container, object, id }: any) => [container, object, id].filter(v => !checkEmpty(v)).join('.');\n\nexport function validateEmail(email) {\n  return /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\n    String(email).toLowerCase()\n  );\n}\n\nexport function validateHttpUrl(url) {\n  return /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w.-]+)+[\\w\\-._~:/?#[\\]@!$&'()*+,;=.]+$/.test(String(url).toLowerCase());\n}\n\nexport function capitalize(s) {\n  if (typeof s !== 'string') return '';\n  return s.charAt(0).toUpperCase() + s.slice(1);\n}\n\nexport const uncapitalize = s => {\n  if (typeof s !== 'string') return '';\n  return s.charAt(0).toLowerCase() + s.slice(1);\n};\n\nexport function copyToLower(obj = {}) {\n  var key,\n    keys = Object.keys(obj);\n  var n = keys.length;\n  var newobj = {};\n  while (n--) {\n    key = keys[n];\n    newobj[uncapitalize(key)] = obj[key];\n  }\n  return newobj;\n}\n\nexport const isTrue = value => value === 1 || value === '1' || value === true || value === 'true';\nexport const isFalse = value => value === 0 || value === '0' || value === false || value === 'false';\n\n// Converts a string, number or boolean to boolean with default false\nexport const bool = x =>\n  typeof x === 'boolean'\n    ? x\n    : typeof x === 'number'\n    ? x === 1\n      ? true\n      : false\n    : typeof x === 'string'\n    ? x === '1'\n      ? true\n      : x.toLowerCase() === 'true'\n      ? true\n      : false\n    : false;\n\n// If a function, then return the result of the function call with props passed in.  Else return the value\nexport const evalFunc = (value, props = undefined) => (typeof value === 'function' ? value(props) : value);\n\nexport const emptyUndefined = value => (value === false || value === null ? undefined : value);\nexport const isError = value => (value === undefined || value === null || value === '' ? false : true);\n\nexport const copyDeleteKey = (key, obj) => deleteKey(key, { ...obj });\n\nexport const deleteKey = (key, obj) => {\n  delete obj[key];\n  return obj;\n};\n\nexport const getLabel = f => (f.label === null ? undefined : f.label !== undefined ? f.label : f.id);\n\nexport function spread(final, current) {\n  return { ...final, ...current };\n}\n\nexport function isEmpty(str) {\n  return !str || 0 === str.length;\n}\n\nexport function triggerResize() {\n  window.dispatchEvent(new CustomEvent('resize')); //Makes the indicator start animating\n  setTimeout(() => window.dispatchEvent(new CustomEvent('resize')), 200); //Ensures the animation resized correctly after the drawer finishes opening/closing\n}\n\nexport function randomInt(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nexport const publicUrl = path => process.env.PUBLIC_URL + path;\n\nexport function updateState(state, { payload, id }) {\n  const data = evalFunc(payload, state[id]);\n  var newState = { ...state };\n  newState[id] = data;\n  if (state && state[id]) {\n    newState[id] = data;\n  }\n  return newState;\n}\n\nexport function uuid() {\n  return uuidv4();\n}\n\n//returns milliseconds from Jan 1 1970\nexport function getTime() {\n  return Date.now();\n}\nexport function getIsoDateString(timestamp?: number) {\n  var d = new Date(0);\n  d.setUTCMilliseconds(timestamp || getTime());\n  return d.toISOString();\n}\n\nexport function getDateFromTimestamp(milliseconds): string {\n  //UTC timestamp is milliseconds since Jan 1 1970\n  var d = new Date(0); // The 0 there is the key, which sets the date to the epoch\n  //utc time\n  d.setUTCMilliseconds(milliseconds);\n  return mmddyyyy(d);\n}\n\nexport function getTimeFromTimestamp(milliseconds): string {\n  //UTC timestamp is milliseconds since Jan 1 1970\n  var d = new Date(0); // The 0 there is the key, which sets the date to the epoch\n  //utc time\n  d.setUTCMilliseconds(milliseconds);\n  return getHoursMinutes(d);\n}\n\nfunction addZero(i) {\n  if (i < 10) {\n    i = '0' + i;\n  }\n  return i;\n}\n\nexport function getHoursMinutes(date) {\n  var h = addZero(date.getHours());\n  var m = addZero(date.getMinutes());\n  return h + ':' + m;\n}\n\nexport function yyyymmdd(date?: Date) {\n  date = date ? date : new Date(); //If we don't pass a date in, then create it\n\n  var mm = date.getMonth() + 1; // getMonth() is zero-based\n  var dd = date.getDate();\n\n  return [date.getFullYear(), (mm > 9 ? '' : '0') + mm, (dd > 9 ? '' : '0') + dd].join('-');\n}\n\nexport function mmddyyyy(date) {\n  var mm = date.getMonth() + 1; // getMonth() is zero-based\n  var dd = date.getDate();\n\n  return [(mm > 9 ? '' : '0') + mm, (dd > 9 ? '' : '0') + dd, date.getFullYear()].join('/');\n}\n\nexport function getDateForInput(date) {\n  //should be in this format: 2019-01-02\n  return yyyymmdd(date);\n}\n\n// Returns minutes elapsed from time to current time\nexport function minutesFrom(time) {\n  var current = new Date().getTime();\n  var diff = (current - time) / 60000; //converts milliseconds to elapsed minutes\n  return diff > 0 ? diff : 0;\n}\n\nexport function minutesToTimeAgo(minutes) {\n  var d = Math.floor(minutes / 1440);\n  var h = Math.floor(minutes / 60);\n  var m = Math.floor(minutes % 60);\n  var ret = '';\n  if (d > 0) {\n    ret = ret + d + 'd ';\n  }\n  if (h > 0 || d > 0) {\n    ret = ret + h + 'h ';\n  }\n  if (m >= 0 || h > 0 || d > 0) {\n    ret = ret + m + 'm ';\n  }\n  if (ret !== '') ret = ret + 'ago';\n  return ret;\n}\n\nexport const timeAgo = time => (time ? minutesToTimeAgo(minutesFrom(time)) : '');\n\nexport function sortDescending(a = 0, b = 0) {\n  if (a < b) return 1;\n  if (a > b) return -1;\n  return 0;\n}\n\nexport function sortAscending(a = 0, b = 0) {\n  if (a < b) return -1;\n  if (a > b) return 1;\n  return 0;\n}\n\nexport const getAndroidIdFromUrl = (url: string) => {\n  var searchStr = '?id=';\n  var index = (url as string)?.indexOf(searchStr);\n  if (index >= 0) {\n    var indexEnd = url.indexOf('&', index);\n    return url.substring(index + searchStr.length, indexEnd >= 0 ? indexEnd : undefined);\n  }\n};\n\nexport const getAppleIdFromUrl = (url: string) => {\n  var searchStr = '/id';\n  var index = (url as string)?.indexOf(searchStr);\n  if (index >= 0) {\n    var indexEnd = url.indexOf('&', index);\n    return url.substring(index + searchStr.length, indexEnd >= 0 ? indexEnd : undefined);\n  }\n};\n\nexport function onlyUnique(value, index, self) {\n  return self.indexOf(value) === index;\n}\n\nfunction dayAbbrOfWeek(dayIndex) {\n  return ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'][dayIndex];\n}\n\nfunction monthAbbrOfYear(monthIndex) {\n  return ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'June', 'July', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'][monthIndex];\n}\n\nfunction nth(d) {\n  if (d > 3 && d < 21) return 'th';\n  switch (d % 10) {\n    case 1:\n      return 'st';\n    case 2:\n      return 'nd';\n    case 3:\n      return 'rd';\n    default:\n      return 'th';\n  }\n}\n\nexport function getDayTimeFromTimestamp(timestamp: number) {\n  var d = new Date(0); // The 0 there is the key, which sets the date to the epoch\n  d.setUTCMilliseconds(timestamp); //utc time\n  var day = dayAbbrOfWeek(d.getDay());\n  var year = d.getDate() + nth(d.getDate());\n  var h = d.getHours();\n  var m = addZero(d.getMinutes());\n  var isPM = h > 12 ? true : false;\n  h = isPM ? h - 12 : h === 0 ? 12 : h; //If PM, subtract 12.  If we are 0 or midnight, then set to 12, otherwise use the normal hour index\n  var month = monthAbbrOfYear(d.getMonth());\n\n  return `${day} ${month} ${year} ${h}:${m} ${isPM ? 'PM' : 'AM'}`;\n}\n\nexport function getDayMonthYear(timestamp: number = Date.now()) {\n  var d = new Date(0); // The 0 there is the key, which sets the date to the epoch\n  d.setUTCMilliseconds(timestamp); //utc time\n  var day = dayAbbrOfWeek(d.getDay());\n  var year = d.getDate() + nth(d.getDate());\n  var month = monthAbbrOfYear(d.getMonth());\n\n  return `${day} ${month} ${year}`;\n}\n\n// Accepts a single paramater which is one or more emails separated\n// by space,comma,semicolon,tab, or newline.\n// Returns an array of tokens that should be emails\n// Does not validate emails to see if they are well formed.\nexport function parseEmails(emails) {\n  return isEmpty(emails) ? [] : emails.toLowerCase().split(/[\\s,;\\t\\n]+/);\n}\n\nexport const getClassTitle = ({ headline, name }) => [headline, name].filter(x => !isEmpty(x)).join(' - ');\n\nexport const getStudentName = ({ student, profile }) => profile?.name ?? student?.email ?? 'Unknown Name';\n","import Montserrat from '../src/fonts/Montserrat-Regular.woff2';\nimport Archivo from '../src/fonts/archivo-v7-latin-regular.woff2';\n\nexport const montserrat = {\n  fontFamily: 'Montserrat',\n  fontStyle: 'normal',\n  fontDisplay: 'swap',\n  fontWeight: 400,\n  src: `\n    local('Montserrat'),\n    local('Montserrat-Regular'),\n    url(${Montserrat}) format('woff2')\n  `,\n  unicodeRange:\n    'U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF'\n};\n\nexport const archivo = {\n  fontFamily: 'Archivo',\n  fontStyle: 'normal',\n  fontDisplay: 'swap',\n  fontWeight: 400,\n  src: `\n    local('Archivo'),\n    local('Archivo-Regular'),\n    url(${Archivo}) format('ttf')\n  `,\n  unicodeRange:\n    'U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF'\n};\n","import { createMuiTheme, Theme } from '@material-ui/core/styles';\nimport { montserrat, archivo } from './fonts';\nimport { steps } from './components/layout/LeftDrawerContent';\n\nconst basetheme = createMuiTheme({});\nexport const beta = true;\n\nexport const ageQuestionLabel = 'Which of the following best describes your age group?'\n\nconst shared = {\n  typography: {\n    fontFamily: 'Montserrat, Archivo'\n    //fontSize: 12\n  },\n  palette: {\n    type: 'light',\n    primary: {\n      light: '#65C6F4', // Soft Blue\n      main: '#00A2EF', // Vivid Blue\n      dark: '#005077' // Color used in bottom toolbar\n    },\n    secondary: {\n      light: '#FAFAFA', // SOft Gray\n      main: '#AAB4BA', // Cold Gray\n      dark: '#384954' // Deep Cold Gray\n    }\n  },\n  layout: {\n    noScrollPaths: ['/doors/Instructors', '/Instructors'], // Routes that don't have a scrollable container\n    noPadPaths: [], // Routes that don't have content padding\n    drawerPaths: ['Congratulations', ...steps.map(s => s.label)], // Routes where the drawer should be shown\n    leftDrawerWidth: 200, //The width of the left nav drawer\n    toolbarheight: 64, //The height of the top toolbar\n    contentpadding: 40, //The padding around the inner layout content\n    contentpadding_xs: 12, //The padding around the inner layout content when xs screensize\n    contentrowspacing: 2, //the spacing between each row of content (toolbar, filterbar, table, etc)\n    tablefooterheight: 20, //The height of the table footer\n    tablefilterbarheight: 52, //The height of the table filter selector (category selector)\n    tabletoolbarheight: basetheme.spacing(5.5) * 2, // The height of the top bar on the table, also the height of the secondary tabselector\n    tableRowHeight: basetheme.spacing(6), // Height of table rows\n    footerheight: 24, //The height of the bottom toolbar\n    progressSize: 80, // size of the circular progress indicator shown when dialogs are submitting\n    tabheight: 116 // Height of the nav pills tab section\n  },\n  overrides: {\n    MuiCssBaseline: {\n      '@global': {\n        '@font-face': [montserrat, archivo]\n      }\n    },\n    MuiTooltip: {\n      // Name of the component ⚛️ / style sheet\n      tooltip: {\n        // Name of the rule\n        maxWidth: 700\n      }\n    },\n    MuiTypography: {\n      // Name of the component ⚛️ / style sheet\n      h6: {\n        lineHeight: 1.2\n      },\n      subtitle1: {\n        // Name of the rule\n        lineHeight: 1.4\n        //background: basetheme.palette.background.default,\n      }\n    },\n    MuiDialogTitle: {\n      // Name of the component ⚛️ / style sheet\n      root: {\n        // Name of the rule\n        paddingLeft: 16,\n        paddingRight: 16,\n        paddingTop: 12,\n        paddingBottom: 12\n        //background: basetheme.palette.background.default,\n      }\n    },\n    MuiDialogActions: {\n      // Name of the component ⚛️ / style sheet\n      root: {\n        // Name of the rule\n        background: basetheme.palette.grey[100],\n\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'flex-end',\n        flex: '0 0 auto',\n        margin: 0,\n        padding: '8px 4px'\n        //padding: 0,\n      }\n    },\n    MuiListItemIcon: {\n      root: {\n        color: basetheme.palette.grey[100]\n      }\n    }\n  }\n} as Theme & any;\n\nexport const theme = createMuiTheme(shared);\n","import { AppState } from '../../../store';\nimport { GenericTableContainerProps } from './GenericTableContainer';\nimport * as TableStore from './store';\nimport { isEmpty, spread } from '../../../helpers';\n\n///////////////////////////////////////////\n/////////////// Table Sorters  ////////////\n//////////////////////////////////////////\n\nexport type SortComparator = 'text';\nconst sortComparators = {\n  text: desc\n};\n\n///////////////////////////////////////////\n/////////////// Table Filters ////////////\n//////////////////////////////////////////\n\nexport interface ColumnFilter {\n  value: string | boolean;\n  column: string;\n}\n\nconst isMatch = (obj, re) => {\n  if (obj.getSearchValues) {\n    return obj.getSearchValues().match(re);\n  } else {\n    for (var attrname in obj) {\n      if (['id', 'id', 'key', 'getValues', 'edit', 'action'].includes(attrname.toLowerCase())) continue;\n      if (obj[attrname])\n        if (isNaN(obj[attrname])) {\n          //only search non numeric values\n          try {\n            if (obj[attrname].match(re)) return true;\n          } catch (e) {\n            continue;\n          }\n        } else {\n          //it is a number\n          try {\n            if (obj[attrname].toString().match(re)) return true;\n          } catch (e) {\n            continue;\n          }\n        }\n    }\n  }\n  return false;\n};\n\nconst isColumnExactMatch = (obj, cf: ColumnFilter) => {\n  return obj[cf.column] != null && obj[cf.column] === cf.value ? true : false;\n};\n\n//extracts the necessary properties from the table's component props so table_filter can be called\nexport const tableFilter = (data: any, state: AppState, props: GenericTableContainerProps, customFilter = undefined) => {\n  //Extract the table information from the redux store\n  const table: TableStore.Table = state.table[props.name];\n  var searchtext = table?.searchtext;\n\n  const columnfilter = table &&\n    table.columnfiltervalue != null &&\n    table.columnfiltercolumn != null && {\n      value: table && table.columnfiltervalue,\n      column: table && table.columnfiltercolumn\n    };\n\n  const filtered = table_filter(data, columnfilter, searchtext, customFilter);\n  return table && table.orderBy ? stableSort(filtered, getSorting(table.orderDirection, table.orderBy, table.sortComparator)) : filtered;\n};\n\nexport const useTableFilter = (data: any, name: string = undefined, customFilter = undefined) => {\n  if (isEmpty(name)) {\n    return data;\n  }\n  //Extract the table information from the redux store\n  const table = TableStore.useTable(name);\n  const searchtext = table?.searchtext;\n\n  const columnfilter = table &&\n    table.columnfiltervalue != null &&\n    table.columnfiltercolumn != null && {\n      value: table && table.columnfiltervalue,\n      column: table && table.columnfiltercolumn\n    };\n\n  const filtered = table_filter(data, columnfilter, searchtext, customFilter);\n  return table && table.orderBy ? stableSort(filtered, getSorting(table.orderDirection, table.orderBy, table.sortComparator)) : filtered;\n};\n\nexport const table_filter = (data, columnfilter: ColumnFilter, searchtext = '', customFilter = undefined) => {\n  var performcolumnfilter = false;\n  if (columnfilter) if (columnfilter.column) if (columnfilter.value !== 'All' && columnfilter.value !== '') performcolumnfilter = true;\n\n  const performtextfilter = searchtext && searchtext !== '' ? true : false;\n  const re = new RegExp(searchtext.replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1'), 'gi'); // Ensures that all possible regex characters in searchtext are escaped before searching\n\n  return data.filter(\n    x =>\n      (performcolumnfilter ? isColumnExactMatch(x, columnfilter) : true) &&\n      (performtextfilter ? isMatch(x, re) : true) &&\n      (customFilter ? customFilter(x) : true)\n  );\n};\n\nfunction desc(a, b, orderBy) {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n  return 0;\n}\n\nfunction stableSort(array, cmp) {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = cmp(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map(el => el[0]);\n}\n\nfunction getSorting(order, orderBy, sortComparator) {\n  const cmp = sortComparators[sortComparator];\n  return cmp && order === 'desc' ? (a, b) => -cmp(a, b, orderBy) : (a, b) => cmp(a, b, orderBy);\n}\n\nexport function setDefaults(state: TableStore.State, tables: TableStore.Table[]): TableStore.State {\n  //If default table doesnt exist in state, then populate the values, then combine state with upated state\n  return tables\n    .filter(t => !state[t.id])\n    .map(t => updateState(state, t))\n    .reduce(spread, { ...state });\n}\n\n// Store helpers\nexport function updateState(state: TableStore.State, table: TableStore.Table) {\n  var newState = { ...state };\n  newState[table.id] = table;\n  if (state && state[table.id]) {\n    //If table already exists, keep any other existing props\n    newState[table.id] = {\n      ...state[table.id],\n      ...table\n    };\n  }\n  return newState;\n}\n\nexport const isObject = obj => typeof obj === 'object';\nexport const isObjectWithKeys = obj => isObject(obj) && Object.keys(obj).length > 0;\n","module.exports = __webpack_public_path__ + \"static/media/logo.f10b510b.svg\";","import React from 'react';\nimport { Reducer } from 'redux';\nimport { evalFunc } from '../../../helpers';\nimport { AppState } from '../../../store';\nimport { SortComparator, updateState, setDefaults } from './helpers';\nimport { useDispatch, useSelector } from 'react-redux';\n\nexport type State = Table[];\nconst defaultValues: Table[] = [];\n\nexport interface Table {\n  id?: string;\n  tab?: string; //indicates the current tab we are viewing from the tab selector\n  searchtext?: string;\n  columnfiltervalue?: string | boolean;\n  columnfiltercolumn?: string;\n  orderBy?: string;\n  orderDirection?: 'asc' | 'desc';\n  sortComparator?: SortComparator;\n  filters?: [];\n}\n\n// Actions\nconst tableUpdate = (table: Table) => ({ type: 'TABLE_UPDATE', table });\nconst tableFilterUpdate = (id: string, filters) => (dispatch, getState) =>\n  dispatch({ type: 'TABLE_UPDATE', table: { id, filters: evalFunc(filters, (getState().table[id] || {}).filters || {}) } });\n\n// Reducer\nexport const reducer: Reducer<State> = (state: State, action): State => {\n  switch (action.type) {\n    case 'TABLE_UPDATE':\n      return updateState(state, action.table);\n    case 'persist/REHYDRATE':\n      const payload: AppState = action && (action as any).payload;\n      const hydratestate: State = payload && payload.table;\n      return setDefaults(hydratestate ? hydratestate : [], defaultValues);\n    default:\n  }\n  return setDefaults(state ? { ...state } : [], defaultValues);\n};\n\n// Hooks\nexport const useTableUpdate = () => {\n  const dispatch = useDispatch();\n  return React.useCallback((t: Table) => dispatch(tableUpdate(t)), [dispatch]);\n};\n\nexport const useTableFilterUpdate = () => {\n  const dispatch = useDispatch();\n  return React.useCallback((id, filters) => dispatch(tableFilterUpdate(id, filters)), [dispatch]);\n};\n\nexport const useTable = name => useSelector((state: AppState) => state.table[name] ?? ({ id: name } as any));\n\nexport function useTableFilterValues(name): any {\n  const { filters: values = {} } = useTable(name);\n  const tableFilterUpdate = useTableFilterUpdate();\n  const setValues = React.useCallback(\n    values => {\n      tableFilterUpdate(name, values);\n    },\n    [name, tableFilterUpdate]\n  );\n  return [values, setValues];\n}\n","import { Reducer } from 'redux';\nimport { theme } from '../../constants';\n\nexport interface State {\n  auth?: any;\n  height?: number;\n  width?: number;\n  appBarHeight?: number;\n  leftDrawerOpen?: boolean;\n  admin?: boolean;\n  instructor?: any;\n  student?: any;\n  students?: any[]; // For selecting group\n  canChangeCurrentGroup?: boolean;\n  groups?: any;\n  group?: string;\n}\n\nexport const defaultUserState = {\n  admin: undefined,\n  instructor: undefined,\n  student: undefined\n};\n\nconst defaultState = {\n  auth: undefined,\n  width: 0,\n  height: 0,\n  appBarHeight: (theme as any).layout.toolbarheight,\n  leftDrawerOpen: false,\n  students: undefined,\n  ...defaultUserState\n};\n\nexport const reducer: Reducer<State> = (state: State | any, action) => {\n  switch (action.type) {\n    case 'LOGIN':\n      return {\n        ...state,\n        auth: action.auth\n      };\n    case 'LOGOUT':\n      return {\n        ...defaultState,\n        auth: undefined,\n        height: state.height, //keep keight and width, otherwise the page will render incorrectly\n        width: state.width\n      };\n    case 'SET_USER':\n      return {\n        ...state,\n        user: action.user\n      };\n    case 'RESIZE_APPBAR':\n      return {\n        ...state,\n        appBarHeight: action.height\n      };\n    case 'UPDATE_LAYOUT':\n      return {\n        ...state,\n        ...action.payload\n      };\n    case 'RESIZE_VIEWPORT':\n      return {\n        ...state,\n        height: action.height,\n        width: action.width\n      };\n    default:\n  }\n  return state || { ...defaultState };\n};\n","import { updateState } from '../../../helpers';\n\nexport const defaultState = {};\n\nexport const updateSelector = (id, payload) => ({ type: 'UPDATE_SELECTOR', id, payload });\n\nexport function reducer(state = defaultState, action) {\n  switch (action.type) {\n    case 'UPDATE_SELECTOR':\n      return updateState(state, action);\n    case 'LOGOUT':\n      return defaultState;\n    default:\n      return state;\n  }\n}\n","export interface SnackBarState {\n  open?: boolean;\n  variant?: 'success' | 'error' | 'warning' | 'info';\n  message?: string;\n}\nconst initialState = {};\n\nexport const updateSnackBar = (payload: SnackBarState) => ({ type: 'SNACKBAR', payload });\n\nexport const reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'SNACKBAR':\n      return {\n        ...state,\n        ...action.payload\n      };\n    default:\n      return state;\n  }\n};\n","// Inserts or updates item payload with table and id keys.  If action.payload is a function, then it is called with the previous props as a parameter\nfunction updateState(state, { table, id, payload }) {\n  const data = typeof payload === 'function' ? payload(state[table] ? state[table][id] : undefined) : payload;\n\n  if (!state[table]) {\n    // Table doesn't exist.  Create new table with the associated entry.\n    return { ...state, [table]: { [id]: data } };\n  } else if (state[table] && !state[table][id]) {\n    // Table exists but item dies not.  Insert item at beginning of table.\n    return { ...state, [table]: { [id]: data, ...state[table] } };\n  } else {\n    // Table exists and item exists.  Update item at it's current position.\n    const newState = { ...state };\n    newState[table][id] = data;\n    return newState;\n  }\n}\n\nconst initialState = {};\n\nexport const updateDatabase = (table, id, payload) => ({ type: 'UPDATE_DATABASE', table, id, payload });\nexport const setDatabaseTable = (table, payload) => ({ type: 'SET_DATABASE_TABLE', table, payload });\n\nexport function reducer(state = initialState, action) {\n  switch (action.type) {\n    case 'SET_DATABASE_TABLE':\n      var newState = { ...state };\n      newState[action.table] = action.payload;\n      return newState;\n    case 'UPDATE_DATABASE':\n      return updateState(state, action);\n    case 'LOGOUT':\n      return initialState;\n    default:\n      return state;\n  }\n}\n","import * as Layout from './components/layout/store';\nimport * as Table from './components/application/GenericTable/store';\nimport * as Dialog from './components/application/GenericDialog/store';\nimport * as Selector from './components/application/Selector/store';\nimport * as SnackBar from './components/application/SnackBar/store';\nimport * as Database from './database/store';\n\n// The top-level state object\nexport interface AppState {\n  router: any;\n  layout: Layout.State;\n  dialog: any;\n  table: Table.State;\n  selector: any;\n  snackBar: any;\n  database: any;    \n}\n\n// Whenever an action is dispatched, Redux will update each top-level application state property using\n// the reducer with the matching name. It's important that the names match exactly, and that the reducer\n// acts on the corresponding AppState property type.\nexport const reducers = {\n  layout: Layout.reducer,\n  dialog: Dialog.reducer,\n  table: Table.reducer,\n  selector: Selector.reducer,\n  snackBar: SnackBar.reducer,\n  database: Database.reducer,  \n};\n","import thunk from 'redux-thunk';\nimport { History } from 'history';\nimport * as StoreModule from './store';\nimport { AppState, reducers } from './store';\nimport { connectRouter, routerMiddleware } from 'connected-react-router';\nimport { createStore, applyMiddleware, compose, combineReducers, StoreEnhancer, Store } from 'redux';\nimport { persistReducer } from 'redux-persist';\nimport * as localforage from 'localforage';\nimport packageJson from '../package.json';\n\nlocalforage &&\n  localforage.config &&\n  localforage.config({\n    driver: localforage.INDEXEDDB, // Force WebSQL; same as using setDriver()\n    name: `${packageJson.name}-local-storage`,\n    version: 1.0,\n    size: 4980736, // Size of database, in bytes. WebSQL-only for now.\n    storeName: 'keyvaluepairs', // Should be alphanumeric, with underscores.\n    description: `${packageJson.name} application database`\n  });\n\nexport const persistConfig = {\n  key: 'app',\n  storage: localforage\n};\n\nexport default function configureStore(history: History, initialState?: AppState, appConfig?: any) {\n  // Build middleware. These are functions that can process the actions before they reach the store.\n  const windowIfDefined = typeof window === 'undefined' ? null : (window as any);\n  // If devTools is installed, connect to it\n  const devToolsExtension = process.env.NODE_ENV === 'development' && windowIfDefined && (windowIfDefined.__REDUX_DEVTOOLS_EXTENSION__ as () => StoreEnhancer);\n\n  const allReducers = buildRootReducer(reducers, history);\n  const persistedReducer = persistReducer(persistConfig, allReducers as any);\n\n  const createStoreWithMiddleware = compose(\n    applyMiddleware(thunk, routerMiddleware(history)),\n    devToolsExtension ? devToolsExtension() : (f: any) => f\n  )(createStore) as any;\n\n  // Combine all reducers and instantiate the app-wide store instance\n  const store = createStoreWithMiddleware(persistedReducer, initialState) as Store<AppState>;  \n\n  // Enable Webpack hot module replacement for reducers\n  if (module.hot) {\n    module.hot.accept('./store', () => {\n      const nextRootReducer = require<typeof StoreModule>('./store');\n      store.replaceReducer(buildRootReducer(nextRootReducer.reducers, history));\n    });\n  }\n\n  return store;\n}\n\nfunction buildRootReducer(allReducers: any, history: any) {\n  return combineReducers<AppState>(Object.assign({}, allReducers, { router: connectRouter(history) }));\n}\n","import * as React from 'react'\nimport useComponentSize from '@rehooks/component-size'\nimport { makeStyles, createStyles } from '@material-ui/core'\nimport { useResizeViewPort } from './hooks';\n\nconst staticProps = {\n  flexGrow: 1,\n  zIndex: 1,\n  overflow: 'hidden',\n  position: 'fixed',\n  display: 'static',\n  width: '100%',\n  height: '100%',\n}\n\nconst useStyles = makeStyles(({ layout }: any) =>\n  createStyles({\n    root: {},\n    dimensions: {\n      overflow: 'hidden',\n      position: 'fixed',\n      width: 'calc(100vw)',\n      height: 'calc(100vh)',\n    },\n    backdrop: {\n      ...staticProps,\n      background: layout.backdropColor,\n    } as any,\n    viewport: (props: any) => ({\n      ...staticProps,\n      height: props.height,\n      width: props.width,\n      background: layout.backgroundColor,\n    }) as any,\n  })\n);\n\nexport default function ViewPort({ children }) {\n  const ref = React.useRef(null)\n  const { height, width } = useComponentSize(ref)\n  const classes = useStyles({ height, width });\n  const resizeViewPort = useResizeViewPort();\n\n  React.useEffect(() => {\n    resizeViewPort({ height, width })\n  }, [resizeViewPort, height, width])\n\n  return (\n    <>\n      <div ref={ref} className={classes.dimensions} />\n      <div id='backdrop' className={classes.backdrop}>\n        <div id='viewport' className={classes.viewport}>\n          {children}\n        </div>\n      </div>\n    </>\n  )\n}\n","import * as React from 'react';\nimport { Typography, Grid } from '@material-ui/core';\n\nexport default function PlayGround() {\n  return (\n    <Grid container alignItems='center'>\n      <Grid item>\n        <Typography variant='h5'>Playground Placeholder</Typography>\n      </Grid>\n    </Grid>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Paper, Input, Tooltip } from '@material-ui/core';\nimport { FormControl, InputAdornment, IconButton, Typography } from '@material-ui/core';\nimport { useTable, useTableUpdate } from './store';\nimport { useWidth } from '../../layout/hooks';\nimport { makeStyles, createStyles } from '@material-ui/core';\nimport * as Icons from '@material-ui/icons';\nimport { evalFunc } from '../../../helpers';\nimport { GenericTableContainerProps } from './GenericTableContainer';\nimport { useFullScreen, useContentPadding } from '../../../hooks';\nimport StyledButton from '../../general/StyledButton';\n\nexport interface TableToolbarProps {\n  name?: string;\n  buttons?: any[] | ((props?: GenericTableContainerProps & any) => any[]);\n  square?: boolean;\n  title?: string;\n  showicon?: boolean;\n  viewportwidth?: any;\n  inputplaceholder?: string;\n  width?: number;\n  search?: boolean;\n  Icon?: any;\n  buttonPosition?: string;\n  classes?: any;\n}\n\nconst useStyles = makeStyles(({ palette, spacing, typography, layout }: any) =>\n  createStyles({\n    root: {},\n    paper: {\n      color: palette.common.white,\n      background: palette.primary.main\n    },\n    formControl: {\n      marginBottom: 4,\n      paddingRight: spacing(1),\n      width: 200\n    },\n    searchIcon: {\n      color: palette.common.white\n    },\n    title: {\n      ...typography.h4,\n      paddingLeft: spacing(0.5),\n      color: palette.common.white,\n      fontSize: typography.pxToRem(19),\n      fontWeight: '300'\n    },\n    titleicon: {\n      height: 32,\n      width: 32,\n      color: palette.common.white,\n      marginTop: 3\n    },\n    grid: {\n      overflow: 'hidden',\n      paddingRight: spacing(1),\n      paddingLeft: spacing(1),\n      height: layout.tabletoolbarheight / 2\n    },\n    hidden: {\n      display: 'none' as 'none'\n    },\n    underline: {\n      color: palette.common.white,\n      borderBottom: `2px solid ${palette.common.white}`,\n      '&:hover': {\n        color: palette.common.white,\n        borderBottom: `2px solid ${palette.common.white}`\n      }\n    }\n  })\n);\n\nfunction TableToolbar(props: TableToolbarProps) {\n  const classes = useStyles({});\n  const [searchOpen, setSearchOpen] = React.useState(false);\n  const { name, buttons = [], square, title, inputplaceholder, Icon, search, showicon = true, buttonPosition = 'top' } = props;\n\n  const { searchtext = '' } = useTable(name);\n\n  React.useEffect(() => {\n    if (searchtext !== null && searchtext !== undefined && searchtext !== '') {\n      handleOpenSearch();\n    }\n  }); // No dependencies on purpose\n\n  const width = useWidth();\n\n  const handleOpenSearch = React.useCallback(() => setSearchOpen(true), [setSearchOpen]);\n\n  const inputRef = React.useRef(null);\n\n  const tableUpdate = useTableUpdate();\n\n  const updateTable = React.useCallback(\n    value =>\n      tableUpdate({\n        id: name,\n        searchtext: value\n      }),\n    [name, tableUpdate]\n  );\n\n  const handleClear = React.useCallback(\n    event => {\n      updateTable('');\n      setSearchOpen(false);\n    },\n    [updateTable, setSearchOpen]\n  );\n\n  const handleKeyDown = React.useCallback(\n    event => {\n      if (event.key === 'Escape') {\n        event.preventDefault();\n        handleClear(event);\n      }\n    },\n    [handleClear]\n  );\n\n  React.useEffect(() => {\n    const current = inputRef && inputRef.current;\n    if (searchOpen) {\n      if (current) {\n        current.focus();\n        current.addEventListener('keydown', handleKeyDown);\n      }\n    } else {\n      current.removeEventListener('keydown', handleKeyDown);\n    }\n    return () => {\n      if (current && searchOpen) {\n        current.removeEventListener('keydown', handleKeyDown);\n      }\n    };\n  }, [inputRef, searchOpen, handleKeyDown]);\n\n  const handleChange = React.useCallback(\n    event => {\n      updateTable(event.target.value);\n    },\n    [updateTable]\n  );\n  const fullScreen = useFullScreen();\n\n  const Search = (\n    <FormControl className={classes.formControl}>\n      <Input\n        disableUnderline={false}\n        classes={{\n          underline: classes.underline\n        }}\n        value={searchtext ? searchtext : ''}\n        onChange={handleChange}\n        placeholder={inputplaceholder}\n        startAdornment={\n          <InputAdornment position='start'>\n            <Icons.Search className={classes.searchIcon} />\n          </InputAdornment>\n        }\n        endAdornment={\n          <InputAdornment position='end'>\n            <IconButton className={classes.searchIcon} onClick={handleClear}>\n              <Icons.Close />{' '}\n            </IconButton>{' '}\n          </InputAdornment>\n        }\n        inputRef={inputRef}\n      />\n    </FormControl>\n  );\n\n  const searchbutton =\n    search !== false && search ? (\n      <StyledButton width={fullScreen ? 64 : 120} size='small' onClick={handleOpenSearch}>\n        <Icons.Search />\n        {!fullScreen && <div style={{ marginLeft: 4, marginRight: 4 }}>Search</div>}\n      </StyledButton>\n    ) : null;\n\n  var Buttons = [searchbutton, ...evalFunc(buttons, props)].filter(b => b);\n\n  const buttonspacing = 0; //Grid spacing of each button\n  const buttonwidth = 42; //Width of each button\n  const contentPadding = useContentPadding();\n\n  const widths = {\n    contentpadding: contentPadding * 2, //Exterior padding\n    headerpadding: 16, //Padding within the header\n    iconwidth: 32, //Width of the title icon\n    titlepadding: 8, //Padding between the icon and the title\n    titleminwidth: 64, //Minimum width of the typography title - Don't display the title unless you can see more than 64 pixels\n    calculatedbuttonswidth: Buttons.length * buttonwidth + buttonspacing * (Buttons.length > 0 ? Buttons.length - 1 : 0)\n  };\n\n  const calculatedfullwidth = Object.keys(widths)\n    .map(k => widths[k])\n    .reduce((t, a) => t + a, 0);\n  const calculatedpartialwidth = calculatedfullwidth - widths.titlepadding - widths.titleminwidth;\n\n  const tabletitlevisible = width >= calculatedfullwidth;\n  const tableiconvisible = width >= calculatedpartialwidth;\n\n  const IconComponent = Icon ?? Icons.List;\n\n  const ButtonGroup = (\n    <Grid item>\n      <Grid container direction='row' justify='flex-end' alignItems='center' spacing={buttonspacing}>\n        <Grid item>\n          <div style={{ display: searchOpen ? '' : 'none' }}>{Search}</div>\n          {!searchOpen && (\n            <Grid container spacing={1}>\n              {Buttons.map((b, i) => (\n                <Grid key={i} item>\n                  {evalFunc(b)}\n                </Grid>\n              ))}\n            </Grid>\n          )}\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n\n  return (\n    <>\n      {buttonPosition === 'top' && (\n        <Paper elevation={0} square={square}>\n          <Grid container spacing={0} justify='space-between' alignItems='center' className={classes.grid}>\n            <Grid item xs zeroMinWidth>\n              <Grid container justify='flex-start' alignItems='center'></Grid>\n            </Grid>\n            {ButtonGroup}\n          </Grid>\n        </Paper>\n      )}\n      <Paper className={classes.paper} square={square}>\n        <Grid container spacing={0} justify='space-between' alignItems='center' className={classes.grid}>\n          <Grid item xs zeroMinWidth>\n            <Grid container justify='flex-start' alignItems='center'>\n              {tableiconvisible && showicon === true && (\n                <Grid item>\n                  <Tooltip title={title}>\n                    <IconComponent className={classes.titleicon} />\n                  </Tooltip>\n                </Grid>\n              )}\n              {tabletitlevisible && (\n                <Grid item xs zeroMinWidth>\n                  {title && (\n                    <Typography variant='body2' noWrap className={classes.title}>\n                      {title}\n                    </Typography>\n                  )}\n                </Grid>\n              )}\n            </Grid>\n          </Grid>\n          {buttonPosition !== 'top' && ButtonGroup}\n        </Grid>\n      </Paper>\n    </>\n  );\n}\n\nexport default TableToolbar;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { AppState } from '../../../store';\nimport { defaultState, updateSelector } from './store';\n\nconst useTabSelector = id => {\n  const dispatch = useDispatch();\n  const state = useSelector((state: AppState) => state.selector[id] || defaultState);\n  const setState = React.useCallback(payload => dispatch(updateSelector(id, payload)), [id, dispatch]);\n  return [state, setState];\n};\n\nexport default useTabSelector;\n","import * as React from 'react';\nimport { triggerResize, isEmpty } from '../../../helpers';\nimport { Tabs, Tab, Paper, Typography, createStyles, makeStyles } from '@material-ui/core';\nimport useTabSelector from '../../application/Selector/useTabSelector';\n\nexport interface ComponentProps {\n  id?: string;\n  tab?: string;\n  tabs?: TabSelectorItem[];\n  orientation?: string;\n  rounded?: boolean;\n  wrapped?: boolean;\n  minHeight?: number;\n  classes?: any;\n}\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    root: ({ rounded }) => ({\n      background: palette.grey[600],\n      borderRadius: rounded ? undefined : 0\n    }),\n    tabs: ({ minHeight }: any) => ({\n      minHeight,\n      borderRadius: 'inherit'\n    }),\n    indicator: {\n      background: palette.primary.main,\n      height: '100%',\n      zIndex: 0,\n      borderRadius: 'inherit'\n    },\n    labelIcon: ({ minHeight }: any) => ({\n      color: palette.common.white,\n      zIndex: 1,\n      minHeight\n    }),\n    tabroot: ({ minHeight }: any) => ({\n      padding: 0,\n      color: palette.common.white,\n      zIndex: 1,\n      minWidth: 24,\n      minHeight\n    }),\n    wrapper: {\n      display: 'inline-flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      width: '100%',\n      flexDirection: 'column',\n      borderRadius: 'inherit'\n    }\n  })\n);\n\nexport interface TabSelectorItem {\n  id: string;\n  label?: string;\n  icon?: any;\n  Component?: any;\n}\n\nconst TabSelector = ({ id, tabs = [], orientation, wrapped, minHeight = 52, rounded = true }: ComponentProps) => {\n  const classes = useStyles({ minHeight, rounded });\n  \n  const [tabSelector, setTabSelector] = useTabSelector(id);\n  const selected = tabSelector.value;\n\n  const tabId = tabs[0] && tabs[0].id;  \n  React.useEffect(() => {\n    isEmpty(selected) && setTabSelector({ value: tabId }); // Select the first tab by default when empty\n    triggerResize();\n  }, [setTabSelector, selected, tabId]);\n\n  React.useEffect(() => {\n    triggerResize(); //User has roated the device, so trigger a resize so the indicator updates correctly\n  }, [orientation]);\n\n  const handleChange = React.useCallback(\n    (event, value) => {\n      setTabSelector({ value });\n    },\n    [setTabSelector]\n  );\n\n  const { value = tabs[0].id } = tabSelector;\n\n  return (\n    <Paper className={classes.root}>\n      <Tabs variant='fullWidth' className={classes.tabs} scrollButtons='off' value={value} onChange={handleChange} classes={{ indicator: classes.indicator }}>\n        {!tabs ? (\n          <></>\n        ) : (\n          tabs.map(t => (\n            <Tab\n              key={t.id}\n              classes={{\n                root: classes.tabroot,\n                labelIcon: classes.labelIcon,\n                wrapper: classes.wrapper,\n                wrapped: classes.labelIcon\n              }}\n              icon={t.icon && <t.icon style={{ marginBottom: 0 }} />}\n              value={t.id}\n              wrapped={wrapped}\n              label={\n                <Typography variant='caption' style={{ maxWidth: `calc(100% - ${2}px)` }} noWrap={!wrapped}>\n                  {t.label ? t.label : t.id}\n                </Typography>\n              }\n            />\n          ))\n        )}\n      </Tabs>\n    </Paper>\n  );\n};\n\nexport default TabSelector;\n","import * as React from 'react';\nimport { useSelector } from 'react-redux';\nimport { AppState } from '../../../store';\nimport TabSelector from '../../general/TabSelector/TabSelector';\nimport { useHeight, useWidth } from '../../layout/hooks';\n\nexport default function TableTabSelector({ id, tabs, tab: Tab = undefined, ...other }) {\n  const storeTable = useSelector((s: AppState) => s.table[id]);\n  const height = useHeight();\n  const width = useWidth();\n  const orientation = height > width ? 'potrait' : 'landscape';\n  const tab = Tab ? Tab : storeTable?.tab;\n\n  return <TabSelector id={id} tab={tab} tabs={tabs} orientation={orientation} {...other} />;\n}\n","import * as React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport TableToolbar, { TableToolbarProps } from './TableToolbar';\nimport { GenericTableProps } from './GenericTable';\nimport TableTabSelector from './TableTabSelector';\nimport { Paper, CircularProgress, useTheme } from '@material-ui/core';\nimport { evalFunc } from '../../../helpers';\nimport { useHeight, useAppBarHeight } from '../../layout/hooks';\nimport { TabSelectorItem } from '../../general/TabSelector/TabSelector';\nimport { useLocation } from 'react-router';\nimport { useContentPadding } from '../../../hooks';\n\nconst GenericTable = React.lazy(() => import('./GenericTable'));\n\nexport interface TabSelectorProps {\n  tabs?: TabSelectorItem[];\n  onChangeTab?: (tab: string, props: GenericTableContainerProps) => void;\n}\n\nexport interface GenericTableContainerProps extends TabSelectorProps, GenericTableProps, TableToolbarProps {\n  square?: boolean;\n  toolbar?: boolean;\n  stacked?: boolean | number;\n  loading?: boolean;\n  toolbarplaceholder?: string;\n  title?: string;\n  search?: boolean;\n  getfiles?: boolean;\n  back?: boolean;\n  domainData?: boolean;\n  domainLogs?: boolean;\n  dialogs?: any[];\n  showScroll?: boolean;\n  buttonPosition?: string;\n  FilterContainer?: any;\n}\n\nconst injectValues = (Component, { getValues, handleRefresh }) => <Component {...getValues()} handleRefresh={handleRefresh} />;\n\nexport default function GenericTableContainer(props: GenericTableContainerProps) {\n  const {\n    name,\n    square,\n    height: Height,\n    toolbar,\n    stacked,\n    toolbarplaceholder,\n    title,\n    search,\n    tabs,\n    columns: Columns,\n    showicon = false,\n    loading,\n    buttons,\n    dialogs = [],\n    onChangeTab,\n    Icon,\n    FilterContainer,\n    buttonPosition = 'bottom',\n    ...tableProps\n  } = props;\n\n  const { layout } : any= useTheme();\n  const { noPadPaths } = layout;\n  const layoutHeight = useHeight();\n  const height = Height ? Height : layoutHeight;\n  const columns = evalFunc(Columns, props);\n\n  const applyCellRenderers = (columns: any) => {\n    columns &&\n      columns.forEach((column: any) => {\n        if (column.renderCell) {\n          //Column has a custom render, so apply it to the virtual table cell render callback\n          column.cell = (row: any, col: any) => column.renderCell(row.getValues ? row.getValues() : row, column);\n        } else if (column.Cell) {\n          column.cell = (row: any, col: any) => injectValues(column.Cell, row); // Inject values via getValues()\n        }\n      });\n  };\n\n  const handleTabChange = (value: any) => {\n    onChangeTab && onChangeTab(value, props);\n  };\n\n  applyCellRenderers(columns); //Apply any custom cell renderers that are needed\n\n  const _toolbar = toolbar && (\n    <TableToolbar\n      name={name}\n      search={search != null ? search : true}\n      title={title ? title : name ? name : ''}\n      square={square}\n      inputplaceholder={toolbarplaceholder}\n      showicon={showicon}\n      buttons={evalFunc(buttons, props)}\n      Icon={Icon}\n      buttonPosition={buttonPosition}\n    />\n  );\n\n  var filterbar = tabs && <TableTabSelector id={name} tabs={tabs} onChange={handleTabChange} />;\n\n  const rows = [\n    { id: 'fc', component: FilterContainer, height: layout.tabletoolbarheight },\n    { id: 'toolbar', component: _toolbar, height: layout.tabletoolbarheight },\n    {\n      id: 'filterbar',\n      component: filterbar,\n      height: layout.tablefilterbarheight\n    }\n  ].filter(x => x.component); //Remove any null components\n\n  const appBarHeight = useAppBarHeight();\n\n  const { pathname } = useLocation();\n  const excludePadding = noPadPaths.findIndex(p => p === pathname) > -1 ? true : false;\n\n  const contentPadding = useContentPadding();\n\n  const componentsOnPage = [\n    appBarHeight,\n    excludePadding ? 0 : contentPadding, // Top content padding\n    stacked ? layout.tablefilterbarheight + layout.contentrowspacing : 0,\n    !toolbar ? 0 : (buttonPosition === 'top' ? layout.tabletoolbarheight : layout.tabletoolbarheight / 2) + layout.contentrowspacing,\n    excludePadding ? 0 : contentPadding, // Bottom content padding\n    layout.footerheight\n  ];\n\n  var calculatedheight = height - componentsOnPage.reduce((t, c) => t + c, 0);\n\n  if (typeof stacked === 'number') {\n    calculatedheight -= stacked;\n  }\n\n  const spinner = (\n    <Paper elevation={0} style={{ height: calculatedheight }}>\n      <Grid container style={{ height: calculatedheight }} direction='column' alignItems='center' justify='center' spacing={0}>\n        <Grid item>\n          <CircularProgress color='primary' size={calculatedheight / 6} thickness={3} />\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n\n  const table = (\n    <React.Suspense fallback={spinner}>\n      {loading ? spinner : <GenericTable name={name} height={calculatedheight} columns={columns} placeholder={!buttons && ' '} {...tableProps} />}\n    </React.Suspense>\n  );\n\n  rows.push({ id: 'table', component: table, height: calculatedheight });\n\n  return (\n    <>\n      {dialogs.map((d, i) => (\n        <div key={i}>{d}</div>\n      ))}\n      <Grid container>\n        {rows.map((r, i) => (\n          <Grid key={r.id} item xs={12} style={{ paddingBottom: i === rows.length - 1 ? 0 : layout.contentrowspacing }}>\n            {r.component}\n          </Grid>\n        ))}\n      </Grid>\n    </>\n  );\n}\n","import { identityPoolIdUnauth, region } from '../../package.json';\n\nexport const AWS = require('aws-sdk'); // Load the AWS SDK for Node.js\n\n// Initialize the Amazon Cognito credentials provider\nAWS.config.region = region;\nAWS.config.credentials = new AWS.CognitoIdentityCredentials({\n  IdentityPoolId: identityPoolIdUnauth\n});\n\nexport const dynamo = new AWS.DynamoDB.DocumentClient();\n\nexport type TableName =\n  | 'doors-classes-admin'\n  | 'doors-classes-instructor'  \n  | 'doors-sessions'\n  | 'doors-users'\n  | 'doors-instructors'\n  | 'doors-students'\n  | 'doors-attendance'\n  | 'doors-groups'\n  | 'doors-profiles';\n\nexport const tables = {\n  users: 'doors-users' as TableName,\n  instructors: 'doors-instructors' as TableName,\n  students: 'doors-students' as TableName,\n  attendance: 'doors-attendance' as TableName,\n  groups: 'doors-groups' as TableName,\n  profiles: 'doors-profiles' as TableName,\n  classesAdmin: 'doors-classes-admin' as TableName,\n  classesInstructor: 'doors-classes-instructor' as TableName,  \n  sessions: 'doors-sessions' as TableName\n};\n","import * as React from 'react';\nimport { dynamo } from './dbConfig';\n\nexport default function useTable({ TableName }) {\n  const [state, setState] = React.useState({ data: [], loading: false, success: false });\n\n  const handleRequest = React.useCallback(\n    ({ FilterExpression = undefined, ExpressionAttributeNames = undefined, ExpressionAttributeValues = undefined } = {}) => {\n      const getRows = async () => {\n        let scanResults = [];\n        let items;\n        var params = {\n          TableName,\n          ExclusiveStartKey: undefined,\n          FilterExpression,\n          ExpressionAttributeNames,\n          ExpressionAttributeValues\n        };\n        do {\n          items = await dynamo.scan(params).promise();\n          items.Items.forEach(i => scanResults.push(i));\n          params.ExclusiveStartKey = items.LastEvaluatedKey;\n        } while (typeof items.LastEvaluatedKey != 'undefined');\n        setState(prev => ({\n          ...prev,\n          loading: false,\n          success: true,\n          data: scanResults.reduce((f, c: any) => {\n            f[c.id] = c;\n            return f;\n          }, {})\n        }));\n      };\n      setState(prev => ({ ...prev, data: [], loading: true, success: false }));\n      getRows();\n    },\n    [TableName, setState]\n  );\n\n  return { state, setState, handleRequest };\n}\n","import * as React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { updateDatabase } from './store';\n\nexport const useUpdateDatabase = () => {\n  const dispatch = useDispatch();\n  return React.useCallback(({ table, id, payload }) => dispatch(updateDatabase(table, id, payload)), [dispatch]);\n};\n","import * as React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { updateSnackBar } from '../components/application/SnackBar/store';\nimport { dynamo } from './dbConfig';\nimport { useUpdateDatabase } from './useUpdateDatabase';\n\nexport interface ProcessDataInfo {\n  Model?: any;\n  Data: any;\n  Action?: 'c' | 'r' | 'u' | 'd';\n  Snackbar?: boolean;\n  onSuccess?: (response, data) => void;\n  onError?: (response, data) => void;\n}\n\nexport const useProcessData = () => {\n  const dispatch = useDispatch();\n  const updateDatabase = useUpdateDatabase();\n  return React.useCallback((pdi: ProcessDataInfo) => dispatch(processData(pdi, updateDatabase)), [dispatch, updateDatabase]);\n};\n\nexport const useProcessDataHandle = () => {\n  const dispatch = useDispatch();\n  const updateDatabase = useUpdateDatabase();\n  return React.useCallback((pdi: ProcessDataInfo) => () => dispatch(processData(pdi, updateDatabase)), [dispatch, updateDatabase]);\n};\n\nasync function executeTransaction(pdi, Data, updateDatabase, dispatch) {\n  const { Model: Table, Action = 'c', Snackbar = false, onSuccess = undefined, onError = undefined } = pdi;\n\n  if (Action === 'c' || Action === 'u' || Action === 'd') {\n    dynamo.put({ TableName: Table, Item: Data }, function (err, data) {\n      if (err) {\n        var message = `(Error processing data.  Table: ${Table}`;\n        Snackbar && dispatch(updateSnackBar({ open: true, variant: 'error', message }));\n        onError && onError(err, Data);\n        console.error({ message, err, Data });\n      } else {\n        Snackbar && dispatch(updateSnackBar({ open: true, variant: 'success', message: 'Success' }));\n        onSuccess && onSuccess(data, Data);\n        (Action === 'c' || Action === 'u' || Action === 'd') && updateDatabase({ table: Table, id: Data.id, payload: { ...Data, _rev: Data._rev } }); // write data to local state, make sure to update the revision as well so subsequent writes won't throw a document conflict error\n      }\n    });\n  } else {\n    dynamo.get({ TableName: Table, Key: Data }, function (err, data) {\n      if (err) {\n        var message = `(Error processing data.  Table: ${Table}`;\n        Snackbar && dispatch(updateSnackBar({ open: true, variant: 'error', message }));\n        onError && onError(err, Data);\n        console.error({ message, err, Data });\n      } else {\n        Snackbar && dispatch(updateSnackBar({ open: true, variant: 'success', message: 'Success' }));\n        onSuccess && onSuccess(data, Data);\n      }\n    });\n  }\n}\n\nconst processData = (pdi: ProcessDataInfo, updateDatabase) => async (dispatch: any, getState: any) => {\n  const { Model: Table, Data: DataProp, Action = 'c', Snackbar = true, onError = undefined } = pdi;\n  const Data = {\n    ...DataProp,\n    created: Action === 'c' ? new Date().getTime() : DataProp.created,\n    updated: Action === 'd' || Action === 'u' ? new Date().getTime() : DataProp.updated,\n    deleted: Action === 'd' ? true : DataProp.deleted\n  };\n  try {\n    executeTransaction(pdi, Data, updateDatabase, dispatch);\n  } catch (error) {\n    if (error.statusCode === 409) {\n      //Document update conflict.  This can happen if someone updated the document at the server while another user's browser is editing an earlier revision\n      //Just show an error for now, as the applications will rarely be edited and the tables are constantly refreshed with new data.\n      //The correct logic would get the most recent document from the database, inform the user that the document is out of date, update the revision number and allow the user to review changes or force the update.\n    }\n    var message = `(Caught Error processing data.  Table: ${Table}`;\n    Snackbar && dispatch(updateSnackBar({ open: true, variant: 'error', message }));\n    onError && onError(error, Data);\n    console.error({ message, error, Data });\n  }\n};\n\nexport default useProcessData;\n","import * as React from 'react';\nimport { tables } from './dbConfig';\nimport { isEmpty, minutesFrom } from '../helpers';\nimport useProcessData from './useProcessData';\nimport { inviteExpiration } from '../../package.json';\n\nexport const isExpired = item => minutesFrom(item?.created) > inviteExpiration;\n\nexport const useInstructor = ({ id, state, setState }) => {\n  const processData = useProcessData();\n  const instructor = state.response?.Item;\n  const instructor_str = JSON.stringify(instructor);\n  React.useEffect(() => {\n    if (!isEmpty(id)) {\n      setState(prev => ({ ...prev, loading: true, error: undefined, response: undefined }));\n      processData({\n        Model: tables.instructors,\n        Action: 'r',\n        Data: { id },\n        onError: response => setState(prev => ({ ...prev, loading: false, error: 'Error reading values', response })),\n        onSuccess: response => setState(prev => ({ ...prev, loading: false, error: undefined, response }))\n      });\n    }\n  }, [id, processData, setState]);\n\n  const setInstructor = React.useCallback(\n    (newValues, OnSuccess = undefined, OnError = undefined) => {\n      if (!isEmpty(id)) {\n        setState(prev => ({ ...prev, loading: true, error: undefined, response: undefined }));\n        processData({\n          Model: tables.instructors,\n          Action: 'u',\n          Data: { ...JSON.parse(instructor_str), id, ...newValues },\n          onError: response => {\n            setState(prev => ({ ...prev, loading: false, error: 'Error reading values', response }));\n            OnError && OnError(response);\n          },\n          onSuccess: response => {\n            setState(prev => ({ ...prev, loading: false, error: undefined, response }));\n            OnSuccess && OnSuccess(response);\n          }\n        });\n      }\n    },\n    [id, setState, processData, instructor_str]\n  );\n\n  const expired = isExpired(instructor);\n\n  return [instructor, setInstructor, expired];\n};\n","import React from 'react';\nimport { getLabel, checkEmpty, hasChanged, validateHttpUrl } from '../../../helpers';\nimport merge from 'deepmerge';\nimport { validateEmail, emptyUndefined } from '../../../helpers';\nimport { isObjectWithKeys } from '../GenericTable/helpers';\n\nexport interface FieldProps {\n  id: string | number;\n  label: string;\n  type: string;\n  Field?: Element;\n  getValue?: (f: FieldProps, values: any) => any;\n}\n\n// Mappings to retreive the value from the state\nconst getMappedValue = (id, object, container, values = {}) => {\n  if (container && object) {\n    return values[container] && values[container][object] && values[container][object][id];\n  } else if (container) {\n    return values[container] && values[container][id];\n  } else if (object) {\n    return values[object] && values[object][id];\n  } else {\n    return values[id];\n  }\n};\n\nexport const setMappedValue = ({ field, value, prev }) => {\n  const { id, object, container } = field;\n  if (container && !prev[container]) {\n    prev[container] = {};\n  }\n  if (container && object && !prev[container][object]) {\n    prev[container][object] = {};\n  }\n  if (!container && object && !prev[object]) {\n    prev[object] = {};\n  }\n\n  if (container && object) {\n    prev[container][object][id] = value;\n  } else if (container) {\n    prev[container][id] = value;\n  } else if (object) {\n    prev[object][id] = value;\n  } else {\n    prev[id] = value;\n  }\n  return prev;\n};\n\nconst singleValue = ({ id, object, container }, values) => getMappedValue(id, object, container, values);\nexport const getValue = (f, values) => (f.getValue ? f.getValue(f, values) : singleValue(f, values));\n\nexport const isDisabled = (f, values) => (typeof f.disabled === 'function' ? f.disabled(values, f) : f.disabled); //Disabled fields are shown but disabled\nexport const isActive = ({ active }, values) => (typeof active === 'function' ? active(values) : active); //Active fields are hidden, but can be shown via other options changing in the dialog\nexport const isHidden = ({ hidden }, values) => (typeof hidden === 'function' ? hidden(values) : hidden); //Hidden fields are hidden for the current dialog state, and can't be shown via other options\n\nexport const bindField = ({ f, values, initialValues, errors, touched, handleChange, handleBlur, submitting, showErrors = false }) => {\n  const {\n    required,\n    type,\n    autoFocus,\n    InputProps,\n    inputProps,\n    step,\n    min,\n    max,\n    tab,\n    multiline,\n    rows,\n    getProps,\n    disableCloseOnSelect,\n    disableClearable,\n    description,\n    tooltip,\n    replace,\n    placeholder\n  } = f; // Only pass necessary props to field\n  const props = {\n    autoFocus,\n    required,\n    type,\n    value: getValue(f, values),\n    initialValue: getValue(f, initialValues),\n    error: (showErrors || f.showError) && getValue(f, errors),\n    label: getLabel(f),\n    disabled: isDisabled(f, values) || submitting,\n    onChange: handleChange(f),\n    onBlur: handleBlur(f),\n    items: f.filter ? f.filter(f.items, values) : typeof f.items === 'function' ? f.items(values) : f.items,\n    InputProps,\n    inputProps,\n    step,\n    min,\n    max,\n    tab,\n    multiline,\n    rows,\n    disableCloseOnSelect,\n    description,\n    tooltip,\n    replace,\n    placeholder,\n    disableClearable,\n    ...(getProps && getProps(values)) // Allows the field to hook into the internal state values if needed\n  };\n  Object.keys(props).forEach(key => props[key] === undefined && delete props[key]); // Filter out any undefined props so they don't override any previously specified values\n  return props;\n};\n\nexport const isEnabled = value => value === true || value === undefined;\n\nexport const useHandleChange = (setValues, resetErrors = undefined) =>\n  React.useCallback(\n    field => e => {\n      var value = e && e.target && e.target.value;\n      if (field && field.uppercase && !checkEmpty(value)) {\n        value = value.toUpperCase();\n      }\n      setValues(prev => setMappedValue({ field, value, prev: { ...prev } })); // Ensure prev is a new copy\n      resetErrors && resetErrors();\n      field.onChange && field.onChange({ value, field, setValues });\n    },\n    [setValues, resetErrors]\n  );\n\nexport const getDefaultValues = fields => {\n  const defaultValues = {};\n  fields.forEach(field => {\n    field.initialValue !== undefined &&\n      setMappedValue({\n        field,\n        value: field.initialValue,\n        prev: defaultValues\n      });\n  });\n  return defaultValues;\n};\n\nexport const useValues = ({\n  open,\n  fields = [],\n  InitialValues = {},\n  state = {} as any,\n  setState,\n  validate,\n  externalValues = undefined, // Use with externalSetValues, for having an external state, such as redux\n  externalSetValues = undefined, //Use with externalValues, for having an external state, such as redux\n  onChange = undefined,\n  disableInitialize = false\n}) => {\n  const { initialValues = {}, submitting, showErrors } = state;\n  const defaultValues = getDefaultValues(fields); // Get any default values from the individual fields first\n  var mergedInitialValues = merge(defaultValues, InitialValues); // Merge with any incoming initialValues from the properties\n  mergedInitialValues = merge(mergedInitialValues, initialValues); // Merge any initial values from the external dialog state\n  const [internalValues, setInternalValues] = React.useState(mergedInitialValues);\n  const values = externalValues ? externalValues : internalValues;\n\n  const setValues = React.useCallback(\n    vals => {\n      externalSetValues ? externalSetValues(vals) : setInternalValues(vals);\n      onChange && onChange(vals);\n    },\n    [externalSetValues, setInternalValues, onChange]\n  );\n\n  const [touched, setTouched] = React.useState({});\n\n  const mergedInitialValuesStr = JSON.stringify(mergedInitialValues); // Use a string since the object references will change everytime\n  const initializeValues = React.useCallback(() => {\n    setTouched({});\n    setValues(JSON.parse(mergedInitialValuesStr));\n  }, [setValues, mergedInitialValuesStr]);\n\n  React.useEffect(() => {\n    // Re-initialize values when necessary\n    open && !disableInitialize && setValues(JSON.parse(mergedInitialValuesStr));\n    open && !disableInitialize && setTouched({});\n  }, [open, mergedInitialValuesStr, disableInitialize, setValues]);\n\n  const internalErrors = open ? handleValidation({ values, fields, errors: state.errors }) : {}; // Perform standard field validations, required, email, etc\n  const externalErrors = open && validate ? validate(values, state) : {}; // Add any external validations if specified\n  const errors = merge(internalErrors, externalErrors);\n  const errorCount = fields ? fields.filter(f => isError(f, values, errors)).length : 0;\n\n  const stateErrors = state.errors;\n  const resetErrors = React.useCallback(() => isObjectWithKeys(stateErrors) && setState(prev => ({ ...prev, errors: {} })), [setState, stateErrors]); // Reset any external errors\n  const handleChange = useHandleChange(setValues, resetErrors);\n  const handleBlur = React.useCallback(\n    field => () => {\n      setTouched(prev => setMappedValue({ field, value: true, prev: { ...prev } })); // Ensure new copy of prev is used\n    },\n    [setTouched]\n  );\n\n  const mapField = f =>\n    bindField({\n      f,\n      values,\n      initialValues: mergedInitialValues,\n      errors,\n      touched,\n      handleChange,\n      handleBlur,\n      submitting,\n      showErrors\n    });\n\n  return {\n    values,\n    setValues,\n    hasChanged: hasChanged(values, mergedInitialValues),\n    touched,\n    errors,\n    errorCount,\n    handleChange,\n    handleBlur,\n    mapField,\n    initializeValues\n  };\n};\n\nexport const handleValidation = ({ values, fields, errors: Errors }) => {\n  var errors = { ...Errors }; // Make a copy\n  fields.forEach(f => {\n    if (f.email && !checkEmpty(getValue(f, values)) && !validateEmail(getValue(f, values))) {\n      setMappedValue({ field: f, value: 'Invalid email format.', prev: errors });\n    } else if (f.required && checkEmpty(getValue(f, values))) {\n      setMappedValue({ field: f, value: 'Required', prev: errors });\n    } else if (f.http && !checkEmpty(getValue(f, values)) && !validateHttpUrl(getValue(f, values))) {\n      setMappedValue({ field: f, value: 'Invalid http url format.', prev: errors });\n    } else if (f.validate) {\n      setMappedValue({ field: f, value: emptyUndefined(f.validate(values)), prev: errors });\n    }\n  });\n\n  return errors;\n};\n\n// Only count errors for active fields that are not disabled or hidden\nexport const isError = (field, values, errors) => {\n  return (\n    !(isActive(field, values) === false) && // Active\n    !(isDisabled(field, values) === true) && // Not disabled\n    !(isHidden(field, values) === true) && // Not hidden\n    getValue(field, errors) !== undefined // Not undefined\n  );\n};\n\n// Returns a static field array to prevent un-necessary re-renders\nexport const useStepFields = steps => {\n  const [fields, setFields] = React.useState(\n    steps\n      .filter(s => s.fields)\n      .map(s => s.fields)\n      .reduce((t, c) => (t = [...t, ...c]), [])\n  );\n\n  React.useEffect(() => {\n    setFields(\n      steps\n        .filter(s => s.fields)\n        .map(s => s.fields)\n        .reduce((t, c) => (t = [...t, ...c]), [])\n    );\n  }, [steps, setFields]);\n  return fields;\n};\n","import * as React from 'react';\nimport { TextField } from '@material-ui/core';\nimport { isError } from '../../../helpers';\n\nconst Text = ({ value = '', margin = 'dense', variant = 'outlined', forceErrorMargin = false, error = undefined, initialValue = undefined, ...other }) => (\n  <TextField\n    value={value}\n    error={isError(error)}\n    helperText={forceErrorMargin ? error || ' ' : error} // Forces a constant helper text margin\n    margin={margin as any}\n    variant={variant as any}\n    fullWidth\n    InputLabelProps={{\n      shrink: true\n    }}\n    {...other}\n  />\n);\n\nexport default Text;\n","import React from 'react';\nimport { Grid, Collapse, Tooltip, Typography } from '@material-ui/core';\nimport Text from '../DialogField/Text';\nimport { isActive, isHidden, getValue } from './helpers';\nimport { debugSettings, checkEmpty } from '../../../helpers';\n\nconst getColumnFields = (fields, columns, index) => {\n  const numFields = fields.length;\n  const numCols = columns;\n  const numColsField = Math.ceil(numFields / numCols);\n  const startIndex = numColsField * index;\n  const endIndex = Math.min(startIndex + numColsField - 1, numFields - 1);\n  return fields.filter((f, i) => i >= startIndex && i <= endIndex);\n};\n\nexport const MapField = ({ Field, style, active, xs = 12, values, mapField, fullWidth, ...f }) => {\n  const collapse = isActive({ active }, values);\n\n  const item = Field ? <Field {...mapField(f)} values={values} /> : checkEmpty(f.id) ? undefined : <Text {...mapField(f)} />;\n\n  const { id, container, object } = f; // InputProps causes circular reference error for some reason, so remove it before stringify\n  const value = getValue(f, values);\n\n  const wrappeditem = (\n    <Tooltip\n      title={\n        <>\n          <Typography>Value: {typeof value === 'object' ? JSON.stringify(value) : value}</Typography>\n          <Typography>{JSON.stringify({ id, container, object })}</Typography>\n        </>\n      }\n    >\n      <div>{item}</div>\n    </Tooltip>\n  );\n  const Item = debugSettings.debugfieldonhover ? wrappeditem : item;\n\n  return (\n    <Grid key={`${f.id}`} item style={style} xs={fullWidth ? 12 : (xs as any)}>\n      {collapse !== undefined ? <Collapse in={collapse}>{Item}</Collapse> : Item}\n    </Grid>\n  );\n};\n\nconst Fields = ({ fields, mapField, values, fullWidth = false, columns = 1, minColumnWidth = 250, maxColumnWidth = 250 }) =>\n  columns > 1 ? (\n    <Grid key='column-container' item xs={12} container spacing={0} justify='center'>\n      {Array.from(Array(columns).keys()).map(i => (\n        <Grid key={i} item xs={fullWidth ? 12 : true} style={fullWidth ? {} : { minWidth: minColumnWidth, maxWidth: maxColumnWidth }}>\n          <Grid container justify='center' spacing={1}>\n            <Grid item xs={11}>\n              <Fields\n                fields={getColumnFields(fields, columns, i)}\n                mapField={mapField}\n                values={values}\n                fullWidth={false}\n                columns={1}\n                minColumnWidth={minColumnWidth}\n                maxColumnWidth={maxColumnWidth}\n              />\n            </Grid>\n          </Grid>\n        </Grid>\n      ))}\n    </Grid>\n  ) : (\n    fields.filter(f => !isHidden(f, values)).map((props, i) => <MapField key={i} values={values} mapField={mapField} fullWidth={fullWidth} {...props} />)\n  );\n\nexport const InjectField = ({ values, mapField, fullWidth, fields, id, object = undefined, container = undefined, ...other }) => {\n  const f = fields.find(\n    f => f.id === id && (object !== undefined ? f.object === object : true) && (container !== undefined ? f.container === container : true)\n  );\n  return !f || isHidden(f, values) ? <></> : <MapField {...f} {...other} values={values} mapField={mapField} fullWidth={fullWidth} />;\n};\n\nexport default Fields;\n","import React from 'react';\nimport { Grid, Typography } from '@material-ui/core';\n\nexport default function ErrorGate({ error, children }) {\n  return error ? (\n    <Grid container spacing={2}>\n      <Grid item xs={12}>\n        <Typography align='center'>Error loading data, please close and try again.</Typography>\n      </Grid>\n      <Grid item xs={12}>\n        <Typography align='center' color='error'>\n          Error: {error}\n        </Typography>\n      </Grid>\n    </Grid>\n  ) : (\n    children\n  );\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Divider from '@material-ui/core/Divider';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, createStyles } from '@material-ui/styles';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { IconButton, Grid, Tooltip, CircularProgress, useTheme, Collapse } from '@material-ui/core';\nimport { useDialogState } from './useDialogState';\nimport Paper from '@material-ui/core/Paper';\nimport Draggable from 'react-draggable';\nimport { useValues } from './helpers';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Fields from './Fields';\nimport ErrorGate from './ErrorGate';\nimport { useFullScreen } from '../../../hooks';\nimport { evalFunc } from '../../../helpers';\n\nfunction PaperComponent(props) {\n  return (\n    <Draggable cancel={'[class*=\"MuiDialogContent-root\"]'}>\n      <Paper {...props} />\n    </Draggable>\n  );\n}\n\nconst useStyles = makeStyles(({ spacing, palette, layout }: any) =>\n  createStyles({\n    button: {\n      width: '100%',\n      maxWidth: '200px'\n    },\n    dialog: {\n      display: 'flex',\n      flexDirection: 'column',\n      outline: 'none',\n      border: `5px solid ${palette.primary}`\n    },\n    dialogHeader: {\n      background: palette.grey[100]\n    },\n    capitalize: {\n      textTransform: 'capitalize'\n    },\n    content: {\n      padding: spacing(2)\n    },\n    actions: {\n      margin: 0,\n      padding: spacing(1),\n      paddingTop: spacing(0.5),\n      paddingBottom: spacing(0.5)\n    },\n    title: {\n      background: palette.primary.main,\n      color: palette.common.white,\n      margin: 0,\n      padding: 0,\n      paddingLeft: spacing(2),\n      paddingRight: spacing(1)\n    },\n    closeButton: {\n      color: 'inherit'\n    },\n    deleteButton: {\n      color: palette.common.white,\n      background: palette.error.main,\n      '&:hover': {\n        background: palette.error.dark\n      }\n    },\n    deleteButtonEmpty: {\n      color: palette.error.main\n    },\n    formControl: {\n      marginTop: 8\n    },\n    submitProgress: {\n      color: palette.primary.light,\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -(layout.progressSize / 2),\n      marginLeft: -(layout.progressSize / 2)\n    }\n  })\n);\n\nexport interface FieldProps {\n  id: string | number;\n  label: string;\n  type: string;\n  Field?: Element;\n  getValue?: (f: FieldProps, values: any) => any;\n}\n\nexport interface ComponentProps {\n  id: string;\n  title: string;\n  initialValues?: object;\n  cancelLabel: string;\n  deleteLabel: string;\n  submitLabel: string;\n  draggable: boolean;\n  onSubmit: any;\n  onDelete: any;\n  OnClose: any;\n  validate: any;\n  Content: Element;\n  ContentProps: any;\n  fields: FieldProps[];\n  classes?: object;\n}\n\nconst GenericDialog = ({\n  id,\n  title: Title, // Title can be set via the state as well as the input props, state takes priority\n  initialValues: InitialValues, // If initial values are provided they are merged with the initial values from the state\n  draggable = false,\n  cancelLabel = 'Cancel',\n  deleteLabel = 'Delete',\n  submitLabel,\n  fields = [] as any[],\n  onSubmit,\n  onDelete,\n  onClose,\n  Content,\n  ContentProps,\n  validate,\n  classes: Classes,\n  children,\n  ...other\n}: ComponentProps & any) => {\n  const { layout } = useTheme();\n  const [state, setState] = useDialogState(id);\n  const { type, open = false, loading, submitting } = state;\n  const title = state.title ? state.title : Title;\n\n  const [confirmDelete, setConfirmDelete] = React.useState(false);\n  const handleConfirmDelete = React.useCallback(() => setConfirmDelete(prev => !prev), [setConfirmDelete]);\n\n  const classes = useStyles({ classes: Classes });\n  const fullScreen = useFullScreen();\n\n  const { values, setValues, hasChanged, errors, errorCount, mapField } = useValues({\n    open,\n    fields,\n    InitialValues,\n    state,\n    setState,\n    validate\n  });\n\n  React.useEffect(() => {\n    open && setConfirmDelete(false);\n  }, [open]); // Re-initialize values when necessary\n\n  const values_s = JSON.stringify(values);\n  const handleSubmit = React.useCallback(() => {\n    if (errorCount > 0) {\n      setState(prev => ({ ...prev, showErrors: true }));\n    } else {\n      onSubmit && onSubmit(JSON.parse(values_s), setValues);\n    }\n  }, [setState, onSubmit, values_s, setValues, errorCount]);\n\n  const handleDelete = React.useCallback(() => {\n    onDelete && onDelete(JSON.parse(values_s));\n  }, [onDelete, values_s]);\n\n  const handleClose = React.useCallback(() => {\n    setState(prev => ({ ...prev, open: false, showErrors: false }));\n    onClose && onClose();\n  }, [setState, onClose]);\n\n  const contentProps = {\n    fields,\n    mapField,\n    values,\n    ...ContentProps\n  };\n\n  const inProgress = loading || submitting;\n  const disabled = inProgress || errors['loading'];\n\n  return (\n    <Dialog\n      PaperComponent={!fullScreen && draggable ? PaperComponent : Paper}\n      fullScreen={fullScreen}\n      open={open}\n      onClose={handleClose}\n      aria-labelledby={`${id}-dialog-title`}\n      aria-describedby={`${id}-dialog-description`}\n      className={classes.dialog}\n      disableAutoFocus={true}\n      maxWidth='xs'\n      fullWidth\n      {...other}\n    >\n      {title !== null && (\n        <>\n          <DialogTitle id={`${id}-dialog-title`} disableTypography className={classes.title}>\n            <Grid container justify='space-between' alignItems='center'>\n              <Grid item zeroMinWidth xs>\n                <Typography noWrap variant='h6' className={classes.capitalize}>\n                  {title ? title : [type, id].join(' ')}\n                </Typography>\n              </Grid>\n              <Grid item>\n                {handleClose ? (\n                  <Tooltip title='Close' placement='left'>\n                    <IconButton aria-label='close' className={classes.closeButton} onClick={handleClose}>\n                      <CloseIcon />\n                    </IconButton>\n                  </Tooltip>\n                ) : null}\n              </Grid>\n            </Grid>\n          </DialogTitle>\n          <Divider />\n        </>\n      )}\n      <ErrorGate error={errors['loading']}>\n        <>\n          {children ? (\n            children\n          ) : Content ? (\n            <Content {...contentProps} />\n          ) : (\n            <DialogContent className={classes.content} dividers>\n              {inProgress && <CircularProgress size={layout.progressSize} className={classes.submitProgress} />}\n              <Collapse in={!confirmDelete}>\n                <Grid container alignItems='center' spacing={1}>\n                  <Fields {...contentProps} />\n                </Grid>\n              </Collapse>\n              {confirmDelete && (\n                <Grid container spacing={2} justify='center' alignItems='center'>\n                  <Grid item>\n                    <Button onClick={handleConfirmDelete} color='secondary'>\n                      Cancel\n                    </Button>\n                  </Grid>\n                  <Grid item>\n                    <Button onClick={handleDelete} className={classes.deleteButton}>\n                      <DeleteIcon style={{ marginRight: 4 }} />\n                      Confirm {deleteLabel}\n                    </Button>\n                  </Grid>\n                </Grid>\n              )}\n            </DialogContent>\n          )}\n        </>\n      </ErrorGate>\n      {!confirmDelete && (\n        <DialogActions className={classes.actions}>\n          {type === 'Edit' && onDelete !== undefined && (\n            <Button disabled={disabled} className={classes.deleteButtonEmpty} onClick={handleConfirmDelete}>\n              {deleteLabel}\n            </Button>\n          )}\n          {cancelLabel !== null && (\n            <Button color='default' onClick={handleClose}>\n              {cancelLabel}\n            </Button>\n          )}\n          {submitLabel !== null && (\n            <Button autoFocus disabled={disabled || !hasChanged} color='primary' onClick={handleSubmit}>\n              {evalFunc(submitLabel, values) || type}\n            </Button>\n          )}\n        </DialogActions>\n      )}\n    </Dialog>\n  );\n};\n\nexport default GenericDialog;\n","import * as React from 'react';\nimport { Typography } from '@material-ui/core';\nimport { makeStyles, createStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    root: ({ disabled }: any) => ({\n      color: disabled ? palette.text.disabled : 'inherit',      \n    })\n  })\n);\n\nconst Label = ({ label, disabled }) => (\n  <Typography className={useStyles({ disabled }).root}>\n    {label}\n  </Typography>\n);\n\nexport default Label;\n","import * as React from 'react';\nimport { Divider } from '@material-ui/core';\n\nconst MarginDivider = ({ marginTop = 8, marginBottom = 8, ...other }) => <Divider style={{ marginTop, marginBottom }} {...other} />;\n\nexport default MarginDivider;\n","import { region, identityPoolIdUnauth, sourceEmailAddress } from '../../../../../package.json';\nimport { hostAddress, publicUrl } from '../../../../helpers';\nexport const AWS = require('aws-sdk'); // Load the AWS SDK for Node.js\n\n// Initialize the Amazon Cognito credentials provider\nAWS.config.region = region;\nAWS.config.credentials = new AWS.CognitoIdentityCredentials({\n  IdentityPoolId: identityPoolIdUnauth\n});\n\nexport const sendInstructorInvite = ({\n  id,\n  email,\n  institution = 'Unknown',\n  title = 'Unknown',\n  role = 'Instructor',\n  onSuccess = undefined,\n  onError = undefined\n}) => {\n  console.log('Sending instructor invite to: ' + email);\n  const body = `You have been invited to the Doors Web Application:\n    <p>User Email: ${email}</p>  \n    <p>Role: ${role}</p>\n    <p>Role: ${title}</p>\n    <p>Institution: ${institution}</p>\n    \n    <h2><a href='${hostAddress(publicUrl(`/?i=${id}&t=i`))}'>Click here to accept the invite<a/></h2>\n    `;\n\n  // Create sendEmail params\n  var params = {\n    Destination: {\n      /* required */ CcAddresses: [],\n      ToAddresses: [email]\n    },\n    Message: {\n      /* required */\n      Body: {\n        /* required */\n        Html: {\n          Charset: 'UTF-8',\n          Data: body\n        },\n        Text: {\n          Charset: 'UTF-8',\n          Data: body\n        }\n      },\n      Subject: {\n        Charset: 'UTF-8',\n        Data: `${role} Invitation to Doors Web Application!`\n      }\n    },\n    Source: sourceEmailAddress /* required */,\n    ReplyToAddresses: [sourceEmailAddress]\n  };\n\n  // Create the promise and SES service object\n  var sendPromise = new AWS.SES({ apiVersion: '2010-12-01' }).sendEmail(params).promise();\n\n  // Handle promise's fulfilled/rejected states\n  sendPromise\n    .then(function (data) {\n      onSuccess && onSuccess(data);\n    })\n    .catch(function (err) {\n      console.error(err, err.stack);\n      onError && onError(err);\n    });\n};\n","import * as React from 'react';\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux';\nimport { AppState } from '../../../store';\nimport { updateSnackBar, SnackBarState } from './store';\n\nexport const useSnackBar = (): [SnackBarState, (SnackBarProps) => void] => {\n  const dispatch = useDispatch();\n  const state: SnackBarState = useSelector((state: AppState) => state.snackBar, shallowEqual);\n  const setState = React.useCallback((payload: SnackBarState) => dispatch(updateSnackBar(payload)), [dispatch]);\n  return [state, setState];\n};\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport Label from '../../DialogField/Label';\nimport MarginDivider from '../../DialogField/MarginDivider';\nimport { sendInstructorInvite } from './helpers';\nimport { useDialogState } from '../useDialogState';\nimport { useSnackBar } from '../../SnackBar/useSnackBar';\nimport useProcessData from '../../../../database/useProcessData';\nimport { tables } from '../../../../database/dbConfig';\nimport Instructor from '../../../../database/models/Instructor';\nimport { uuid } from '../../../../helpers';\nimport { useUserId } from '../../../layout/hooks';\n\nexport const title = 'Add Instructor';\n\nexport default function AddInstructorDialog({ id = title, onClose }) {\n  const [, setState] = useDialogState(id);\n  const [, setSnackbar] = useSnackBar();\n\n  const handleClose = React.useCallback(\n    (props = undefined) => {\n      props && setSnackbar(props);\n      setState(prev => ({ ...prev, open: false, loading: false }));\n      onClose && onClose();\n    },\n    [onClose, setState, setSnackbar]\n  );\n\n  const processData = useProcessData();\n  const parentId = useUserId();\n\n  const submitData = React.useCallback(\n    ({ values, OnSuccess }) => {\n      const { email, title, institution } = values;\n      const instructor: Instructor = {\n        id: uuid(),\n        email,\n        title,\n        institution,\n        parentId\n      };\n\n      setState(prev => ({ ...prev, loading: true }));\n\n      processData({\n        Model: tables.instructors,\n        Action: 'c',\n        Data: instructor,\n        onError: () => setState(prev => ({ ...prev, loading: false, error: 'Error submitting values' })),\n        onSuccess: OnSuccess(instructor)\n      });\n    },\n    [setState, processData, parentId]\n  );\n\n  const onError = React.useCallback(() => {\n    handleClose({ open: true, variant: 'error', message: 'Error sending invite' });\n  }, [handleClose]);\n\n  const onSuccess = React.useCallback(() => {\n    handleClose({ open: true, variant: 'success', message: 'Successfully sent invite' });\n  }, [handleClose]);\n\n  const onSubmitSuccess = React.useCallback(\n    values => ({ id }) => {\n      sendInstructorInvite({ id, email: values.email, title: values.title, institution: values.institution, onSuccess, onError });\n    },\n    [onError, onSuccess]\n  );\n\n  const handleSubmit = React.useCallback(values => submitData({ values, OnSuccess: onSubmitSuccess(values) }), [submitData, onSubmitSuccess]);\n\n  return (\n    <GenericDialog\n      id={id}\n      title={id}\n      submitLabel='Send Invite'\n      onSubmit={handleSubmit}\n      onClose={onClose}\n      fields={[\n        {\n          label: `Enter instructor's email and we will send a link to activate their account:`,\n          Field: Label\n        },\n        {\n          Field: MarginDivider\n        },\n        {\n          id: 'email',\n          label: 'Email',\n          required: true,\n          email: true\n        },\n        {\n          id: 'title',\n          label: 'Title',\n          required: true\n        },\n        {\n          id: 'institution',\n          label: 'Institution',\n          required: true\n        }\n      ]}\n    />\n  );\n}\n","import * as React from 'react';\nimport { tables } from './dbConfig';\nimport { isEmpty, minutesFrom } from '../helpers';\nimport useProcessData from './useProcessData';\nimport { inviteExpiration } from '../../package.json';\n\nexport const isExpired = item => minutesFrom(item?.created) > inviteExpiration;\n\nexport default function useTableRow({ Model = tables.instructors, id, state, setState }) {\n  const { open } = state ?? { open: undefined };\n  const processData = useProcessData();\n  const row = state?.response?.Item;\n  const row_str = JSON.stringify(row) ?? '{}'; // Default to empty object string if undefined\n\n  const handleRefresh = React.useCallback(\n    ({ onSuccess } = {}) => {\n      if (!isEmpty(id)) {\n        setState(prev => ({ ...prev, loading: true, error: undefined, response: undefined }));\n        processData({\n          Model,\n          Action: 'r',\n          Data: { id },\n          onError: response => setState(prev => ({ ...prev, loading: false, error: 'Error reading values', response })),\n          onSuccess: response => {\n            setState(prev => ({ ...prev, loading: false, error: undefined, response }));\n            onSuccess && onSuccess(response);\n          }\n        });\n      }\n    },\n    [id, Model, processData, setState]\n  );\n\n  React.useEffect(() => {\n    if (open !== undefined) {\n      open && handleRefresh(); // For use with dialogs, so we only request data on open\n    } else {\n      handleRefresh();\n    }\n  }, [handleRefresh, open]);\n\n  const setRow = React.useCallback(\n    ({ values, prev = undefined, onSuccess = undefined, onError = undefined }) => {\n      if (!isEmpty(id)) {\n        const prevValues = prev === undefined ? JSON.parse(row_str) : prev; // If user provides previous value, use that, otherwise use the values stored in local state\n        setState(prev => ({ ...prev, loading: true, error: undefined, response: undefined }));\n        processData({\n          Model,\n          Action: 'u',\n          Data: { ...prevValues, id, ...values },\n          onError: response => {\n            setState(prev => ({ ...prev, loading: false, error: 'Error reading values', response }));\n            onError && onError(response);\n          },\n          onSuccess: response => {\n            setState(prev => ({ ...prev, loading: false, error: undefined, response }));\n            onSuccess && onSuccess(response);\n          }\n        });\n      }\n    },\n    [id, Model, setState, processData, row_str]\n  );\n\n  // Reads the row from the database first, and then merges the new values into the existing data before saving back to the database\n  const readSetRow = React.useCallback(\n    ({ values, ...other }) => {\n      handleRefresh({ onSuccess: response => setRow({ values, prev: response?.Item, ...other }) });\n    },\n    [setRow, handleRefresh]\n  );\n\n  const expired = isExpired(row);\n\n  return { row, setRow, readSetRow, expired, handleRefresh };\n}\n","import * as React from 'react';\nimport * as Icons from '@material-ui/icons';\nimport { IconButton, Menu, MenuItem, Popover } from '@material-ui/core';\nimport useTableRow from '../../../../database/useTableRow';\nimport { tables } from '../../../../database/dbConfig';\n\nexport function RowActionsButton({ id, deleted, onUpdate }) {\n  const [anchorEl, setAnchorEl] = React.useState<HTMLButtonElement | null>(null);\n\n  const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    event.stopPropagation();\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = event => {\n    event?.stopPropagation();\n    setAnchorEl(null);\n  };\n\n  const open = Boolean(anchorEl);\n\n  const [state, setState] = React.useState({ loading: false, open: false }); // Set to false to prevent automatic data request on load\n  const { loading } = state;\n  const { readSetRow } = useTableRow({ Model: tables.instructors, id, state, setState });\n\n  const handleUpdate = React.useCallback(\n    values => () => {\n      setAnchorEl(null);\n      readSetRow({ values, onSuccess: onUpdate });\n    },\n    [readSetRow, onUpdate, setAnchorEl]\n  );\n\n  return (\n    <div>\n      <IconButton size='small' color='inherit' onClick={handleClick}>\n        <Icons.MoreVert />\n      </IconButton>\n      <Popover\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'left'\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'right'\n        }}\n      >\n        <Menu\n          anchorEl={anchorEl}\n          anchorOrigin={{\n            vertical: 'top',\n            horizontal: 'right'\n          }}\n          keepMounted\n          transformOrigin={{\n            vertical: 'top',\n            horizontal: 'right'\n          }}\n          open={open}\n          onClose={handleClose}\n        >\n          <MenuItem disabled={loading} onClick={() => alert('To be implemented')}>\n            Send Email\n          </MenuItem>\n          <MenuItem disabled={loading} onClick={() => alert('To be implemented')}>\n            Allow Permissions\n          </MenuItem>\n          <MenuItem disabled={loading} onClick={() => alert('To be implemented')}>\n            View Groups\n          </MenuItem>\n          {deleted === true ? (\n            <MenuItem disabled={loading} onClick={handleUpdate({ deleted: false })}>\n              Restore Instructor\n            </MenuItem>\n          ) : (\n            <MenuItem disabled={loading} onClick={handleUpdate({ deleted: true })}>\n              Archive Instructor\n            </MenuItem>\n          )}\n        </Menu>\n      </Popover>\n    </div>\n  );\n}\n","import * as React from 'react';\nimport GenericTableContainer from '../GenericTableContainer';\nimport { useInstructors } from './useInstructors';\nimport * as Icons from '@material-ui/icons';\nimport useTabSelector from '../../Selector/useTabSelector';\nimport DialogButton from '../../GenericDialog/DialogButton';\nimport * as AddInstructorDialog from '../../GenericDialog/AddInstructor';\nimport { RowActionsButton } from './buttons';\n\nconst tabs = [\n  {\n    id: 'Active',\n    icon: Icons.GroupOutlined,\n    filter: data => data.filter(r => r.deleted !== true) // Easier to filter on client end as AWS doesn't appear to support null filtering\n  },\n  {\n    id: 'Archived',\n    icon: Icons.Archive,\n    requestParams: {\n      FilterExpression: '#deleted = :deleted',\n      ExpressionAttributeNames: {\n        '#deleted': 'deleted'\n      },\n      ExpressionAttributeValues: {\n        ':deleted': true\n      }\n    }\n  }\n];\n\nexport default function Instructors({ name = 'Instructors', ...other }) {\n  const [{ value: tab = 'Active' }] = useTabSelector(name);\n  const selectedTab = tabs.find(t => t.id === tab);\n  const requestParams = selectedTab?.requestParams;\n\n  const { data, loading, handleRefresh } = useInstructors({ table: name, tab, requestParams });\n\n  return (\n    <GenericTableContainer\n      name={name}\n      loading={loading}\n      title={`${tab} ${name}`}\n      tabs={tabs}\n      columns={[\n        { name: 'email', header: 'Email' },\n        { name: 'title', header: 'Title' },\n        { name: 'institution', header: 'Institution' },\n        { name: 'Invite', header: 'Invite Status' },\n        {\n          name: 'actions',\n          header: 'Actions',\n          width: 88,\n          Cell: props => <RowActionsButton onUpdate={handleRefresh} {...props} />\n        }\n      ]}\n      toolbar={true}\n      footer={true}\n      search={true}\n      stacked={true}\n      data={selectedTab?.filter ? selectedTab.filter(data) : data}\n      checkbox={false}\n      select={false}      \n      buttons={[\n        <DialogButton Module={AddInstructorDialog} Icon={Icons.Add} onClose={handleRefresh} size='small' margin='dense' variant='styled' tooltip=''>\n          Add New\n        </DialogButton>\n      ]}\n      {...other}\n    />\n  );\n}\n","import * as React from 'react';\nimport { useTableFilter } from '../helpers';\nimport useTable from '../../../../database/useTable';\nimport { tables } from '../../../../database/dbConfig';\nimport { isExpired } from '../../../../database/useInstructor';\n\nexport const useInstructors = ({ table = undefined, tab = undefined, requestParams = undefined }) => {\n  const { state, handleRequest } = useTable({ TableName: tables.instructors });\n  const { data, loading, success } = state as any;\n\n  const handleRefresh = React.useCallback(() => {\n    handleRequest(requestParams);\n    // eslint-disable-next-line\n  }, [JSON.stringify(requestParams), handleRequest]);\n\n  React.useEffect(() => {\n    handleRefresh();\n  }, [handleRefresh, table, tab]);\n\n  const instructors = Object.keys(data).map(k => ({\n    ...data[k],\n    Invite: data[k].accepted ? 'Accepted' : isExpired(data[k]) ? 'Expired' : 'Pending'\n  }));\n\n  return {\n    data: useTableFilter(\n      instructors.map(i => ({\n        ...i,\n        getValues: () => i\n      })),\n      table\n    ),\n    handleRefresh,\n    loading,\n    success\n  };\n};\n","import * as React from 'react';\nimport InstructorsTable from '../application/GenericTable/Instructors/table';\n\nexport default function Instructors() {\n  return <InstructorsTable />;\n}\n","import * as React from 'react';\nimport clsx from 'clsx';\nimport { Grid, Box, Card, CardContent, makeStyles, Divider } from '@material-ui/core';\nimport StyledButton from '../../general/StyledButton';\nimport { useUserEmail } from '../../layout/hooks';\nimport { isEmpty } from '../../../helpers';\nimport { useValues } from '../../application/GenericDialog/helpers';\nimport Fields from '../../application/GenericDialog/Fields';\nimport { useDialogState } from '../../application/GenericDialog/useDialogState';\n\nconst useStyles = makeStyles(({ palette }) => ({\n  root: {},\n  header: {\n    background: palette.primary.main,\n    color: palette.common.white\n  }\n}));\n\nconst validate = values => {\n  const newErrors = {};\n  if (isEmpty(values['name'])) {\n    newErrors['name'] = 'Required';\n  }\n  return newErrors;\n};\n\nconst getFields = email => [\n  { id: 'name', label: 'Name' },\n  { id: 'city', label: 'City', xs: 8 },\n  { id: 'state', label: 'State', xs: 4 }\n];\n\nexport default function ProfileSettings({ className = undefined, profile = {}, setProfile, onSuccess, ...rest }) {\n  const classes = useStyles();\n  const email = useUserEmail(); // Email comes from the auth layer, not the profile layer\n  const fields = getFields(email);\n\n  const [state, setState] = useDialogState('My Profile');\n  const { loading, submitting } = state;\n\n  const { values, hasChanged, errorCount, errors, mapField } = useValues({\n    open: true,\n    fields,\n    InitialValues: profile,\n    state,\n    setState,\n    validate\n  });\n\n  const values_s = JSON.stringify(values);\n  const handleSubmit = React.useCallback(() => {\n    if (errorCount > 0) {\n      setState(prev => ({ ...prev, showErrors: true }));\n    } else {\n      setProfile && setProfile({ values: JSON.parse(values_s), onSuccess });\n      setState(prev => ({ ...prev, showErrors: false }));\n    }\n  }, [setState, setProfile, values_s, errorCount, onSuccess]);\n\n  const contentProps = {\n    fields,\n    mapField,\n    values\n  };\n\n  const inProgress = loading || submitting;\n  const disabled = inProgress || errors['loading'];\n\n  return (\n    <Card className={clsx(classes.root, className)} {...rest}>\n      <CardContent>\n        <Grid container alignItems='center' spacing={3}>\n          <Fields {...contentProps} />\n        </Grid>\n      </CardContent>\n      <Divider />\n      <Box p={2} display='flex' justifyContent='flex-end'>\n        <StyledButton disabled={disabled || !hasChanged} onClick={handleSubmit}>\n          Save\n        </StyledButton>\n      </Box>\n    </Card>\n  );\n}\n","/* eslint-disable */\n// WARNING: DO NOT EDIT. This file is automatically generated by AWS Amplify. It will be overwritten.\n\nconst awsmobile = {\n  aws_project_region: 'us-east-1',\n  aws_cognito_identity_pool_id: 'us-east-1:e3a43f57-52bb-4180-9332-95340a48a342',\n  aws_cognito_region: 'us-east-1',\n  aws_user_pools_id: 'us-east-1_96DJd1OvH',\n  aws_user_pools_web_client_id: '7iogdrst70l8avelgtgdgrl7b6',\n  oauth: {},\n  aws_user_files_s3_bucket: 'doors103432-dev',\n  aws_user_files_s3_bucket_region: 'us-east-1',\n  aws_dynamodb_all_tables_region: 'us-east-1'\n};\n\nexport default awsmobile;\n\nexport const getObjectUrl = filename => filename && `https://${awsmobile.aws_user_files_s3_bucket}.s3.amazonaws.com/public/${filename}`;\n","import * as React from 'react';\nimport awsconfig from '../aws-exports';\nimport Amplify, { Storage } from 'aws-amplify';\nimport { uuid } from '../helpers';\nAmplify.configure(awsconfig);\n\nexport default function useS3Bucket({ setState = undefined } = {}) {\n  const handleUpload = React.useCallback(\n    ({\n      id = `unknown_${uuid()}`,\n      content = undefined,\n      level = 'public', // public or private\n      contentType = 'text/plain',\n      onStart = undefined,\n      onSuccess = undefined,\n      onError = undefined\n    }) => {\n      console.log('Uploading file...');\n      onStart && onStart();\n      setState && setState(prev => ({ ...prev, loading: true, success: false }));\n      Storage.put(id, content, {\n        level,\n        contentType\n      })\n        .then(result => {\n          console.log({ status: 'Successfully uploaded file', result });\n          onSuccess && onSuccess(result);\n          setState && setState(prev => ({ ...prev, loading: false, success: true }));\n        })\n        .catch(err => {\n          console.error({ status: 'Error uploading file', err });\n          onError && onError(err);\n          setState && setState(prev => ({ ...prev, loading: false, success: false }));\n        });\n    },\n    [setState]\n  );\n\n  return { handleUpload };\n}\n","import * as React from 'react';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport { Typography } from '@material-ui/core';\nimport useS3Bucket from '../../../database/useS3Bucket';\nimport { uuid } from '../../../helpers';\nimport DialogButton from '../GenericDialog/DialogButton';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    hidden: {\n      display: 'none'\n    }\n  })\n);\n\nconst FileUploadButton = ({\n  value = '',\n  disabled = undefined,\n  label = 'Upload',\n  margin = 'dense',\n  variant = 'outlined',\n  forceErrorMargin = false,\n  initialValue = undefined,\n  onChange = undefined,\n  ...other\n}) => {\n  const classes = useStyles({});\n\n  const [{ loading, uploading, error }, setState] = React.useState({ loading: false, success: false, uploading: false, error: null });\n  const { handleUpload } = useS3Bucket({ setState });\n\n  const onSuccess = React.useCallback(\n    filename => {\n      onChange && onChange({ target: { value: filename } });\n    },\n    [onChange]\n  );\n\n  const onInput = React.useCallback(\n    e => {\n      const uploadFiles = e.target.files;\n      const arrFiles = Array.from(uploadFiles ?? []);\n      var file: any = arrFiles.length > 0 ? arrFiles[0] : undefined;\n      if (file) {\n        if ((file as any).size > 20 * 1024 * 1024) {\n          alert('File exceeds 20 MB upload limit.');\n        } else {\n          const id = `${file?.name ?? 'unknown'}_${uuid()}`;\n          handleUpload({\n            id,\n            content: file,\n            level: 'public', // public or private\n            contentType: `${file?.type ?? 'text/plain'}`,\n            onStart: () => {\n              setState(prev => ({ ...prev, uploading: true }));\n            },\n            onSuccess: () => {\n              console.log('success');\n              setState(prev => ({ ...prev, uploading: false }));\n\n              onSuccess && onSuccess(id);\n              // TODO update class with link to newly uploaded file\n            },\n            onError: () => {\n              console.log('error');\n              setState(prev => ({ ...prev, uploading: false }));\n              alert('Error uploading file');\n              //onError && onError('');\n            }\n          });\n        }\n      } else {\n        // Error: No file specified or user hit cancel\n      }\n    },\n    [handleUpload, onSuccess]\n  );\n\n  return (\n    <>\n      <input className={classes.hidden} name='fileselect' type='file' accept='*' id='fileselect' onChange={onInput} />\n      <label htmlFor='fileselect'>\n        <DialogButton disabled={loading || uploading || disabled} variant='link' underline='always' onClick={onInput} {...other}>\n          {label}\n        </DialogButton>\n      </label>\n      {error && <Typography color='error'>{error}</Typography>}\n    </>\n  );\n};\n\nexport default FileUploadButton;\n","import React from 'react';\nimport { Avatar, Box, Card, CardContent, Typography, makeStyles, Grid } from '@material-ui/core';\nimport { useUserType } from '../../../hooks';\nimport DialogButton from '../../application/GenericDialog/DialogButton';\nimport { useHandleChangeRoute, useUserEmail } from '../../layout/hooks';\nimport { useDialogState } from '../../application/GenericDialog/useDialogState';\nimport FileUploadButton from '../../application/DialogField/FileUploadButton';\nimport { getObjectUrl } from '../../../aws-exports';\n\nconst useStyles = makeStyles(theme => ({\n  root: {},\n  name: {\n    marginTop: theme.spacing(1)\n  },\n  avatar: {\n    height: 82,\n    width: 82\n  }\n}));\n\nconst ProfileDetails = ({ profile = {} as any, setProfile, onSuccess, ...rest }) => {\n  const classes = useStyles();\n  const userType = useUserType();\n  const email = useUserEmail();\n\n  const changeRoute = useHandleChangeRoute();\n\n  const [state, setState] = useDialogState('My Profile');\n  const { loading, submitting } = state;\n\n  const profile_s = JSON.stringify(profile);\n  const handleChange = React.useCallback(\n    key => event => {\n      const value = event?.target?.value;\n      var newProfile = JSON.parse(profile_s);\n      newProfile[key] = value;\n      setProfile && setProfile({ values: newProfile, onSuccess });\n      setState(prev => ({ ...prev }));\n    },\n    [setState, setProfile, profile_s, onSuccess]\n  );\n\n  const disabled = loading || submitting;\n\n  return (\n    <Card {...rest}>\n      <CardContent>\n        <Box display='flex' alignItems='center' flexDirection='column' textAlign='center'>\n          <Avatar className={classes.avatar} src={getObjectUrl(profile?.picture)} />\n          <FileUploadButton label='UPLOAD PICTURE' onChange={handleChange('picture')} />\n          <Box mt={1}>\n            <Typography className={classes.name} color='textPrimary' variant='h4'>\n              {profile?.name}\n            </Typography>\n            <Typography color='textPrimary' variant='h6'>\n              {userType}\n            </Typography>\n            <Typography color='textPrimary' variant='caption'>\n              {email}\n            </Typography>\n            <Box mt={1}>\n              <Grid container justify='space-between' spacing={1}>\n                <Grid item>\n                  <DialogButton disabled={disabled} variant='link' underline='always' onClick={changeRoute('/ForgotPassword')}>\n                    CHANGE PASSWORD\n                  </DialogButton>\n                </Grid>\n                <Grid item>\n                  <DialogButton disabled={disabled} variant='link' underline='always' onClick={() => alert('To be implemented')}>\n                    CHANGE EMAIL\n                  </DialogButton>\n                </Grid>\n              </Grid>\n            </Box>\n          </Box>\n        </Box>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default ProfileDetails;\n","import * as React from 'react';\nimport { Container, createStyles, makeStyles } from '@material-ui/core';\nimport Header from '../layout/Header';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    container: {\n      marginTop: 8,\n      marginBottom: 8\n    },\n    header: {\n      color: palette.primary.dark\n    }\n  } as any)\n);\n\nexport default function Page({ title = '', ActionButton = undefined, children = <></> }) {\n  const classes = useStyles();\n  return (\n    <>\n      <Header title={title} ActionButton={ActionButton} />\n      <Container disableGutters={true} className={classes.container} maxWidth={false}>\n        {children}\n      </Container>\n    </>\n  );\n}\n","import * as React from 'react';\nimport useTableRow from './useTableRow';\nimport { tables } from './dbConfig';\n\nexport function useProfile({ id, state: State = undefined, setState: SetState = undefined }) {\n  const [internalState, setInternalState] = React.useState();\n  const state = State ? State : internalState;\n  const setState = SetState ? SetState : setInternalState;\n\n  const { row, setRow, handleRefresh } = useTableRow({ Model: tables.profiles, id, state, setState });\n  return { profile: row, setProfile: setRow, state, setState, handleRefresh };\n}\n","import * as React from 'react';\nimport { Grid } from '@material-ui/core';\nimport ProfileSettings from './ProfileSettings';\nimport ProfileDetails from './ProfileDetails';\nimport Page from '../Page';\nimport { useProfile } from '../../../database/useProfile';\nimport { useUserId } from '../../layout/hooks';\n\nexport default function Profile() {\n  const id = useUserId();\n  const { profile, setProfile, handleRefresh } = useProfile({ id });\n  return (\n    <Page title='My Profile'>\n      <Grid container spacing={2}>\n        <Grid item lg={4} md={6} xl={3} xs={12}>\n          <ProfileDetails profile={profile} setProfile={setProfile} onSuccess={handleRefresh} />\n        </Grid>\n        <Grid item lg={8} md={6} xl={9} xs={12}>\n          <ProfileSettings profile={profile} setProfile={setProfile} onSuccess={handleRefresh} />\n        </Grid>\n      </Grid>\n    </Page>\n  );\n}\n","import * as React from 'react';\nimport Page from './Page';\n\nexport default function Calendar() {\n  return <Page title='Calendar Placeholder'></Page>;\n}\n","import calendar from '../../../images/calendar.png';\nimport wifi from '../../../images/wifi.png';\nimport picture from '../../../images/picture.png';\nimport contacts from '../../../images/contacts.png';\nimport musicplayer from '../../../images/musicplayer.png';\nimport newspaper from '../../../images/newspaper.png';\nimport checkbox from '../../../images/checkbox.png';\nimport video from '../../../images/video.png';\n\nexport const images = {\n  wifi,\n  calendar,\n  picture,\n  contacts,\n  musicplayer,\n  newspaper,\n  checkbox,\n  video\n};\n\nexport const getImage = key => images[key];\n","import React from 'react';\nimport clsx from 'clsx';\nimport { Box, Card, Typography, makeStyles, Grid } from '@material-ui/core';\nimport StyledButton from '../../general/StyledButton';\nimport { BlockListItem } from '../../general/BlockList';\nimport { getImage } from './helpers';\nimport { timeAgo } from '../../../helpers';\n\nconst useStyles = makeStyles(({ palette, spacing }) => ({\n  root: {},\n  header: {\n    color: palette.common.black,\n    padding: spacing(2),\n    minHeight: 96\n  },\n  imageContainer: {\n    marginTop: spacing(4),\n    textAlign: 'center',\n    marginBottom: spacing(4)\n  },\n  summary: {\n    minHeight: 100,\n    alignItems: 'center',\n    color: palette.common.white,\n    background: palette.primary.light,\n    padding: spacing(1, 2, 1, 2)\n  }\n}));\n\nexport default function Class({\n  buttonLabel = 'View',\n  headline = '',\n  name = '',\n  updated = undefined,\n  completed,\n  showUpdated = false,\n  image = 'calendar',\n  keySkills = [] as BlockListItem[],\n  className = undefined,\n  onClick = undefined,\n  rankingModel = [] as BlockListItem[],\n  surveyQuestions = [] as BlockListItem[],\n  classResources = [],\n  classPresentation = undefined,\n  ...rest\n}) {\n  const classes = useStyles();\n  return (\n    <Card className={clsx(classes.root, className)}>\n      <div className={classes.header}>\n        <Typography noWrap gutterBottom variant='subtitle1' color='textSecondary'>\n          {headline}\n        </Typography>\n        <Typography noWrap gutterBottom variant='h6' color='textPrimary'>\n          {name}\n        </Typography>\n      </div>\n      <div className={classes.imageContainer}>\n        <img src={getImage(image)} alt={headline} />\n      </div>\n      <Grid container className={classes.summary} alignItems='center'>\n        <Grid item>\n          {keySkills.map(({ id, name }) => (\n            <Typography key={id} component='h6' gutterBottom variant='subtitle1'>\n              {name}\n            </Typography>\n          ))}\n        </Grid>\n      </Grid>\n      <Box m={2} textAlign='center'>\n        <StyledButton onClick={onClick}>{buttonLabel}</StyledButton>\n      </Box>\n      {showUpdated && (\n        <Box pl={1} pr={1}>\n          <Typography noWrap align='right' variant='caption' color='textPrimary'>\n            {`Last updated ${timeAgo(updated)}`}\n          </Typography>\n        </Box>\n      )}\n      {completed && (\n        <Box pl={1} pr={1}>\n          <Typography noWrap align='right' variant='caption' color='textPrimary'>\n            {`Completed ${timeAgo(updated)}`}\n          </Typography>\n        </Box>\n      )}\n    </Card>\n  );\n}\n","import * as React from 'react';\nimport useTable from '../../../database/useTable';\nimport { tables } from '../../../database/dbConfig';\nimport { useTableFilter } from '../../application/GenericTable/helpers';\n\nexport default function useClasses({ Model = tables.classesAdmin, table = undefined, tab = undefined, requestParams = undefined }) {\n  const { state, handleRequest } = useTable({ TableName: Model });\n  const { data, loading, success } = state as any;\n\n  const handleRefresh = React.useCallback(() => {\n    handleRequest(requestParams);\n    // eslint-disable-next-line\n  }, [JSON.stringify(requestParams), handleRequest]);\n\n  React.useEffect(() => {\n    handleRefresh();\n  }, [handleRefresh, table, tab]);\n\n  const rows = Object.keys(data).map(k => ({ ...data[k] }));\n\n  return {\n    data: useTableFilter(\n      rows.map(i => ({ ...i })),\n      table\n    ),\n    handleRefresh,\n    loading,\n    success\n  };\n}\n","import * as React from 'react';\nimport { tables } from '../../../database/dbConfig';\nimport useClasses from './useClasses';\n\nconst mergeClass = (instructorData, adminData) => {\n  if (instructorData) {\n    // TODO add merge logic, for now just return instructorData\n    return instructorData;\n  } else {\n    return adminData;\n  }\n};\n\nexport default function useCombinedClasses({ requestParams = undefined } = {}) {\n  const { data: adminData, handleRefresh: handleAdminRefresh, loading, success } = useClasses({ Model: tables.classesAdmin });\n  const { data: instructorData, handleRefresh: handleInstructorRefresh, loading: loadingInstructor, success: successInstructor } = useClasses({\n    Model: tables.classesInstructor\n  });\n\n  const handleRefresh = React.useCallback(() => {\n    handleAdminRefresh();\n    handleInstructorRefresh();\n  }, [handleAdminRefresh, handleInstructorRefresh]);\n\n  // For each admin class, if an instructor class with matching key exists, then merge in instructor data\n  // Else include the admin class\n  // If any instructor classes exist that don't have an admin key, include those also\n\n  const data = adminData\n    .map(d1 =>\n      mergeClass(\n        d1,\n        instructorData.find(d2 => d2?.id === d1?.id)\n      )\n    )\n    .concat(instructorData.filter(d3 => !adminData.find(d4 => d4?.id === d3?.id)));\n\n  //console.log({ data, adminData, instructorData });\n\n  return {\n    data,\n    handleRefresh,\n    loading: loading || loadingInstructor,\n    success: success && successInstructor\n  };\n}\n","import * as React from 'react';\nimport useTable from './useTable';\nimport { tables } from './dbConfig';\n\nexport default function useSessions({ requestParams = undefined } = {}) {\n  const { state, handleRequest } = useTable({ TableName: tables.sessions });\n  const { data, loading, success } = state as any;\n\n  const handleRefresh = React.useCallback(() => {\n    handleRequest(requestParams);\n    // eslint-disable-next-line\n  }, [JSON.stringify(requestParams), handleRequest]);\n\n  React.useEffect(() => {\n    handleRefresh();\n  }, [handleRefresh]);\n\n  return {\n    sessions: Object.keys(data).map(k => ({ ...data[k] })),\n    handleRefresh,\n    loading,\n    success\n  };\n}\n\nexport const useSessionsByGroupId = ({ groupId }) => {\n  return useSessions({\n    requestParams: {\n      requestParams: {\n        FilterExpression: '#groupId = :groupId',\n        ExpressionAttributeNames: {\n          '#groupId': 'groupId'\n        },\n        ExpressionAttributeValues: {\n          ':groupId': groupId\n        }\n      }\n    }\n  });\n};\n","import * as React from 'react';\nimport useProcessData from '../../database/useProcessData';\nimport { useSnackBar } from '../application/SnackBar/useSnackBar';\n\nconst actions = {\n  c: 'creating',\n  r: 'reading',\n  u: 'updating',\n  d: 'deleting'\n};\n\nexport const actionText = action => actions[action];\n\nexport default function useProcessDataState({ validate = undefined, Model }) {\n  const [formState, setFormState] = React.useState({\n    loading: false,\n    error: undefined,\n    errors: {}\n  });\n  const processData = useProcessData();\n  const [, setSnackbar] = useSnackBar();\n\n  const handleSubmit = React.useCallback(\n    ({ Data, Action = 'c' as any, onSuccess = undefined, onError = undefined }) => {\n      setFormState(prev => ({ ...prev, loading: true, error: undefined, errors: {} }));\n      const errors = validate ? validate(Data) : {};\n      if (Object.keys(errors).length > 0) {\n        setFormState(prev => ({ ...prev, loading: false, errors }));\n        setSnackbar({ open: true, variant: 'error', message: 'Input validation error' });\n      } else {\n        processData({\n          Model,\n          Action,\n          Data,\n          onError: () => {\n            setFormState(prev => ({ ...prev, loading: false, error: `Error ${actionText(Action)}` }));\n            setSnackbar({ open: true, variant: 'error', message: `Error ${actionText(Action)}` });\n            onError && onError();\n          },\n          onSuccess: () => {\n            setFormState(prev => ({ ...prev, loading: false, error: undefined }));\n            onSuccess && onSuccess();\n          }\n        });\n      }\n    },\n    [setFormState, validate, Model, processData, setSnackbar]\n  );\n\n  const handleCreate = React.useCallback(({ Data, onSuccess = undefined }) => handleSubmit({ Data, Action: 'c', onSuccess }), [handleSubmit]);\n  const handleUpdate = React.useCallback(({ Data, onSuccess = undefined }) => handleSubmit({ Data, Action: 'u', onSuccess }), [handleSubmit]);\n  const handleDelete = React.useCallback(({ Data, onSuccess = undefined }) => handleSubmit({ Data, Action: 'd', onSuccess }), [handleSubmit]);\n\n  return {\n    handleCreate,\n    handleUpdate,\n    handleDelete,\n    formState\n  };\n}\n","import * as React from 'react';\nimport { Box, Divider, Grid } from '@material-ui/core';\nimport Class from './Class';\nimport Page from '../Page';\nimport { useChangeRouteLayout, useHandleChangeRouteLayout, useLayout } from '../../layout/hooks';\nimport { uuid } from '../../../helpers';\nimport useCombinedClasses from './useCombinedClasses';\nimport { useSessionsByGroupId } from '../../../database/useSessions';\nimport { tables } from '../../../database/dbConfig';\nimport useProcessDataState from '../../hooks/useProcessDataState';\n\nconst nextRoute = '/Pre-Survey';\n\nexport default function StudentClasses() {\n  const [{ student }] = useLayout();\n  const { id: studentId, groupId } = student;\n\n  const { data } = useCombinedClasses();\n  const { sessions } = useSessionsByGroupId({ groupId });\n\n  const completed = sessions.filter(c => c.completed === true && !c.deleted);\n  const inProgress = sessions.filter(c => c.completed !== true && !c.deleted);\n\n  // Get all student entries and find all associated groupId's\n  // For each group get all of the instructor id's\n  // For each instructor id get all associated classes (and admin classes if applicable)\n\n  const handleChangeRouteLayout = useHandleChangeRouteLayout();\n  const changeRouteLayout = useChangeRouteLayout();\n\n  const { handleUpdate } = useProcessDataState({ Model: tables.sessions });\n\n  const handleCreate = React.useCallback(\n    c => () => {\n      const session = {\n        ...c, // Copy class data\n        id: uuid(), // Create new session id\n        classId: c.id, // Link the class id\n        groupId,\n        studentId\n      };\n      handleUpdate({\n        Data: session,\n        onSuccess: () => {\n          changeRouteLayout(nextRoute, { session });\n        }\n      }); // insert into database and change route on success\n    },\n    [groupId, studentId, handleUpdate, changeRouteLayout]\n  );\n\n  const handleResume = React.useCallback(\n    session => () => {\n      // Restore the last route, if applicable\n      const route = ['/Pre-Survey', '/Lesson', '/Post-Survey', '/Resources'].find(r => r === session?.currentRoute) ?? nextRoute;\n      changeRouteLayout(route, { session });\n    },\n    [changeRouteLayout]\n  );\n\n  return (\n    <>\n      <Page title='Available Classes'>\n        <Grid container spacing={3}>\n          {[\n            data\n              .filter(c => !inProgress.find(s => s.classId === c.id && !s.completed)) // Don't show available class if one is currently in progress\n              .map(c => (\n                <Grid key={[c.id, c.title].join('-')} item lg={3} sm={6} xs={12}>\n                  <Class {...c} buttonLabel='Start' onClick={handleCreate(c)} />\n                </Grid>\n              ))\n          ]}\n        </Grid>\n      </Page>\n\n      {inProgress.length > 0 && (\n        <>\n          <Box mt={3} mb={3}>\n            <Divider />\n          </Box>\n          <Page title='In Progress'>\n            <Grid container spacing={3}>\n              {[\n                inProgress.map(s => (\n                  <Grid key={[s.id, s.title].join('-')} item lg={3} sm={6} xs={12}>\n                    <Class {...s} showUpdated={true} buttonLabel='Resume' onClick={handleResume(s)} />\n                  </Grid>\n                ))\n              ]}\n            </Grid>\n          </Page>\n        </>\n      )}\n      {completed.length > 0 && (\n        <>\n          <Box mt={3} mb={3}>\n            <Divider />\n          </Box>\n          <Page title='Completed'>\n            <Grid container spacing={3}>\n              {[\n                completed.map(s => (\n                  <Grid key={[s.id, s.title].join('-')} item lg={3} sm={6} xs={12}>\n                    <Class {...s} onClick={handleChangeRouteLayout('/Pre-Survey', { session: s })} />\n                  </Grid>\n                ))\n              ]}\n            </Grid>\n          </Page>\n        </>\n      )}\n    </>\n  );\n}\n","import * as React from 'react';\nimport { Grid } from '@material-ui/core';\nimport Class from './Class';\nimport Page from '../Page';\nimport { useHandleChangeRoute, useHandleChangeRouteLayout } from '../../layout/hooks';\nimport { useIsAdminMode, useIsInstructorMode, useIsStudentMode } from '../../../hooks';\nimport StyledButton from '../../general/StyledButton';\nimport useCombinedClasses from './useCombinedClasses';\nimport StudentClasses from './StudentClasses';\n\nconst ActionButton = () => {\n  const changeRoute = useHandleChangeRoute();\n  return <StyledButton onClick={changeRoute('/CreateClass')}>Create New Class</StyledButton>;\n};\n\nexport default function Classes() {\n  const isAdminMode = useIsAdminMode();\n  const isInstructorMode = useIsInstructorMode();\n  const isStudentMode = useIsStudentMode();\n\n  // Find all instructors\n  const { data } = useCombinedClasses();\n\n  const changeRouteLayout = useHandleChangeRouteLayout();\n\n  return isStudentMode ? (\n    <StudentClasses />\n  ) : (\n    <Page title='Available Classes' ActionButton={isAdminMode || isInstructorMode ? ActionButton : undefined}>\n      <Grid container spacing={3}>\n        {[\n          data.map(c => (\n            <Grid key={[c.id, c.title].join('-')} item lg={3} sm={6} xs={12}>\n              <Class\n                {...c}\n                buttonLabel='View'\n                onClick={changeRouteLayout('/ClassDashboard', {\n                  class: c\n                })}\n              />\n            </Grid>\n          ))\n        ]}\n      </Grid>\n    </Page>\n  );\n}\n","import * as React from 'react';\nimport clsx from 'clsx';\nimport { Box, Card, Typography, makeStyles, CardActions, Grid } from '@material-ui/core';\nimport StyledButton from './StyledButton';\nimport { bool } from '../../helpers';\nimport * as Icons from '@material-ui/icons';\nimport { useIsAdminMode } from '../../hooks';\n\nconst useStyles = makeStyles(({ palette, spacing }) => ({\n  root: {},\n  header: ({ minHeight = 116 }: any) => ({\n    minHeight,\n    color: palette.common.black,\n    padding: spacing(2)\n  }),\n  actions: {\n    display: 'flex',\n    alignItems: 'flex-end',\n    justifyContent: 'flex-end'\n  },\n  circle: {\n    borderRadius: 50,\n    width: 36,\n    height: 36,\n    border: `2px solid ${palette.primary.main}`\n  },\n  circleText: {\n    textAlign: 'center',\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n}));\n\nexport default function ActionCard({\n  title = undefined,\n  item = {} as any,\n  index = undefined,\n  description = undefined,\n  actionLabel = 'View',\n  onClick = undefined,\n  className = undefined,\n  titleProps = undefined,\n  minHeight = undefined,\n  disabled = undefined,\n  onLock = undefined,\n  onRemove = undefined,\n  onEdit = undefined,\n  children = undefined,  \n}) {\n  const classes = useStyles({ minHeight });\n  const { name, locked, canLock } = item;\n  const handleLock = React.useCallback(item => () => onLock && onLock(item), [onLock]);\n  const handleRemove = React.useCallback(item => () => onRemove && onRemove(item), [onRemove]);\n  const handleEdit = React.useCallback(item => () => onEdit && onEdit(item), [onEdit]);\n  const Title = title ? title : name ?? '';  \n\n  const isAdminMode = useIsAdminMode();\n  const canEdit = !bool(canLock) || (bool(canLock) && bool(!locked)); // Can edit if the user is an admin or an instructor and the object is not locked\n  const canDelete = canEdit;\n  return (\n    <Card className={clsx(classes.root, className)}>\n      <div className={classes.header}>\n        {Title && (\n          <Grid container spacing={1}>\n            {index !== undefined && (\n              <Grid item>\n                <div className={classes.circle}>\n                  <Typography variant='h5' align='center' color='primary'>\n                    {index + 1}\n                  </Typography>\n                </div>\n              </Grid>\n            )}\n            <Grid item xs>\n              {Title && (\n                <Typography noWrap gutterBottom variant='h5' color='primary' {...titleProps}>\n                  {Title}\n                </Typography>\n              )}\n            </Grid>\n          </Grid>\n        )}\n        {description && (\n          <Typography gutterBottom variant='subtitle1' color='textPrimary'>\n            {description}\n          </Typography>\n        )}\n      </div>\n      {children}\n      {onClick && (\n        <Box m={2} textAlign='center'>\n          <StyledButton disabled={disabled} onClick={onClick}>\n            {actionLabel}\n          </StyledButton>\n        </Box>\n      )}\n      <CardActions className={classes.actions}>\n        {onEdit && bool(canEdit) && (\n          <StyledButton variant='text' onClick={handleEdit(item)}>\n            Edit\n          </StyledButton>\n        )}\n        <div>\n          <Grid container justify='flex-end' alignItems='flex-end'>\n            {onRemove && bool(canDelete) && (\n              <Grid item>\n                <StyledButton variant='text' onClick={handleRemove(item)}>\n                  Remove\n                </StyledButton>\n              </Grid>\n            )}\n            {isAdminMode && bool(canLock) && (\n              <Grid item>\n                <StyledButton Icon={bool(locked) ? Icons.Lock : Icons.LockOpen} variant='text' width={140} onClick={handleLock(item)}>\n                  {bool(locked) ? 'Locked' : 'Un-locked'}\n                </StyledButton>\n              </Grid>\n            )}\n          </Grid>\n        </div>\n      </CardActions>\n    </Card>\n  );\n}\n","import * as React from 'react';\nimport { Box, Container, createStyles, makeStyles } from '@material-ui/core';\nimport Header from '../layout/Header';\nimport DialogButton from '../application/GenericDialog/DialogButton';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    container: {\n      marginTop: 8,\n      marginBottom: 8\n    },\n    header: {\n      color: palette.primary.dark\n    }\n  } as any)\n);\n\nexport default function ChildPage({\n  backLabel = 'Back',\n  onBack = undefined,\n  supertitle = undefined,\n  title = undefined,\n  subtitle = undefined,\n  TitleButton = undefined,\n  children = <></>\n}) {\n  const classes = useStyles();\n  return (\n    <>\n      {onBack && (\n        <DialogButton variant='link' linkVariant='subtitle1' onClick={onBack}>\n          {`<  ${backLabel}`}\n        </DialogButton>\n      )}\n      <Box mt={2}>\n        <Header supertitle={supertitle} title={title} subtitle={subtitle} TitleButton={TitleButton} />\n        <Container disableGutters={true} className={classes.container} maxWidth={false}>\n          {children}\n        </Container>\n      </Box>\n    </>\n  );\n}\n","import * as React from 'react';\nimport { evalFunc, isEmpty } from '../helpers';\nimport { tables } from './dbConfig';\nimport useProcessData from './useProcessData';\n\nconst defaultState = { loading: false, error: undefined, response: undefined, data: undefined };\n\nexport default function useData({ id, active = true, Model = tables.classesAdmin, initialState = undefined }) {\n  const processData = useProcessData();\n  const [state, setState] = React.useState({ ...defaultState, ...initialState });\n  const { data = {}, index, loading, error } = state;\n  const data_str = JSON.stringify(data);\n\n  const setData = React.useCallback(data => setState(prev => ({ ...prev, data: evalFunc(data, prev?.data) })), [setState]);\n\n  const handleChange = React.useCallback(\n    key => ({ target }) => {\n      const { value } = target;\n      setData(prev => ({ ...prev, [`${key}`]: value }));\n    },\n    [setData]\n  );\n\n  const handleRefresh = React.useCallback(() => {\n    if (!isEmpty(id)) {\n      setState(prev => ({ ...prev, loading: true, error: undefined, response: undefined }));\n      processData({\n        Model,\n        Action: 'r',\n        Data: { id },\n        onError: response => setState(prev => ({ ...prev, loading: false, error: 'Error reading values', response, data: undefined })),\n        onSuccess: response => setState(prev => ({ ...prev, loading: false, error: undefined, response, data: response?.Item }))\n      });\n    }\n  }, [id, Model, processData, setState]);\n\n  React.useEffect(() => {\n    setState({ ...defaultState, ...initialState });\n    active === true && handleRefresh();\n    // eslint-disable-next-line\n  }, [id, active, handleRefresh, setState, JSON.stringify(initialState)]);\n\n  // Save the newValues data to the back-end\n  const updateData = React.useCallback(\n    (newValues, OnSuccess = undefined, OnError = undefined) => {\n      if (!isEmpty(id)) {\n        setState(prev => ({ ...prev, loading: true, error: undefined, response: undefined }));\n        const Data = { ...JSON.parse(data_str), id, ...newValues };\n        processData({\n          Model,\n          Action: 'u',\n          Data,\n          onError: response => {\n            setState(prev => ({ ...prev, loading: false, error: 'Error reading values', response }));\n            OnError && OnError(response);\n          },\n          onSuccess: response => {\n            setState(prev => ({ ...prev, loading: false, error: undefined, response, data: Data }));\n            OnSuccess && OnSuccess(response);\n          }\n        });\n      }\n    },\n    [id, Model, setState, processData, data_str]\n  );\n\n  // Save the values in state.data to the back-end\n  const saveData = React.useCallback(({ onSuccess = undefined, onError = undefined }) => updateData(JSON.parse(data_str), onSuccess, onError), [\n    data_str,\n    updateData\n  ]);\n\n  const handleSaveData = React.useCallback(props => () => saveData(props), [saveData]);\n\n  return { loading, index, error, data, setData, handleChange, saveData, handleSaveData, updateData };\n}\n","import { useLayoutKey } from '../components/layout/hooks';\nimport useData from './useData';\n\nexport const useClassData = ({ Model }) => {\n  const data = useLayoutKey('class');\n  return useData({ id: data?.id, Model, initialState: { data } });\n};\n","import * as React from 'react';\nimport { Box, Grid, Typography } from '@material-ui/core';\nimport ActionCard from '../../general/ActionCard';\nimport ChildPage from '../ChildPage';\nimport { useHandleChangeRouteLayout } from '../../layout/hooks';\nimport { useUserType } from '../../../hooks';\nimport { isEmpty, uuid } from '../../../helpers';\nimport { tables } from '../../../database/dbConfig';\nimport { useClassData } from '../../../database/useClassData';\n\nconst actionCards = [\n  {\n    title: 'Class Mode',\n    description: 'View the class materials the way your students will',\n    route: '/Pre-Survey',\n    disabled: false,\n    data: data => ({ ...data, deleted: true, id: [data?.id, uuid()].join(':') }) // Generate a new session id to simulate class mode, also default to deleted so it doesn't show up in the class list if the instructor happens to be a student as well\n  },\n  { title: 'Edit Materials', description: 'Review and edit class materials', route: '/ClassMaterials' },\n  { title: 'Class Roster', description: 'View current participants and new members', route: '/ClassRoster' }\n];\n\nconst Model = tables.classesAdmin;\n\nexport default function ClassDashboard() {\n  const { data } = useClassData({ Model });\n  const { name, headline, keySkills = [] } = data;\n\n  const userType = useUserType();\n  const handleChangeRouteLayout = useHandleChangeRouteLayout();\n\n  return (\n    <ChildPage\n      backLabel='Back to Classes'\n      onBack={handleChangeRouteLayout('/Classes')}\n      supertitle={name}\n      title={headline}\n      subtitle={`Your are signed in as ${userType === 'Student' ? 'a' : 'an'} ${userType}`}\n    >\n      <Box mt={2}>\n        <Typography variant='h6' style={{ fontWeight: 'bold' }}>\n          Key Skills:\n        </Typography>\n        <Box mt={1} ml={1} mb={3}>\n          {keySkills\n            .filter(s => !isEmpty(s))\n            .map(({ id, name }, i) => (\n              <Typography key={`${name}-${id}`} variant='subtitle1'>\n                • {name}\n              </Typography>\n            ))}\n        </Box>\n        <Grid container spacing={3}>\n          {actionCards.map(ac => (\n            <Grid key={ac.title} item lg={4} sm={4} xs={12}>\n              <ActionCard {...ac} minHeight={150} onClick={handleChangeRouteLayout(ac.route, { class: ac.data ? ac.data(data) : data })} />\n            </Grid>\n          ))}\n        </Grid>\n      </Box>\n    </ChildPage>\n  );\n}\n","import * as React from 'react';\nimport { FormControl, FormControlLabel, Checkbox, FormHelperText } from '@material-ui/core';\nimport { bool, isError } from '../../../helpers';\n\nconst Check = ({\n  label = '',\n  variant = undefined,\n  error = undefined,\n  value = undefined,\n  margin = 'dense' as 'dense',\n  onChange = undefined,\n  forceErrorMargin = false,\n  type = undefined, // Don't pass an undefined type to Checkbox.  This filters the prop out\n  initialValue = undefined,\n  ...other\n}) => {\n  const handleChange = React.useCallback(\n    event => {\n      event.target.value = event.target.checked === true ? 1 : 0; // Inject checked value to mimic behavior of other input on change events\n      onChange && onChange(event);\n    },\n    [onChange]\n  );\n\n  return (\n    <FormControl variant={variant} error={isError(error)} fullWidth margin={margin}>\n      <FormControlLabel label={label} control={<Checkbox checked={bool(value)} onChange={handleChange} {...other} />} />\n      {(forceErrorMargin || error) && <FormHelperText>{error}</FormHelperText>}\n    </FormControl>\n  );\n};\n\nexport default Check;\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport { useDialogState } from '../useDialogState';\nimport Check from '../../DialogField/Check';\nimport { bool, uuid } from '../../../../helpers';\n\nexport const title = 'Block List';\n\nexport default function BlockListDialog({ id = title, onClose = undefined, onSubmit, anchorEl = undefined, setValues = undefined, ...other }) {\n  const [{ type }, setState] = useDialogState(id);\n\n  const handleClose = React.useCallback(() => {\n    setState(prev => ({ ...prev, open: false, loading: false }));\n    onClose && onClose();\n  }, [onClose, setState]);\n\n  const handleSubmit = React.useCallback(\n    (values, setValues) => {\n      onSubmit && onSubmit({ values, setValues, type });\n      handleClose();\n    },\n    [onSubmit, type, handleClose]\n  );\n\n  return (\n    <GenericDialog\n      id={id}\n      title={id}\n      onClose={onClose}\n      submitLabel={'Done'}\n      onSubmit={handleSubmit}\n      fields={[\n        {\n          id: 'id',\n          hidden: true,\n          initialValue: type === 'Add' ? uuid() : undefined\n        },\n        {\n          id: 'name',\n          label: 'Name',\n          placeholder: 'Enter name'\n        },\n        /*\n        {\n          id: 'canDelete',\n          label: 'Can remove?',\n          Field: Check\n        },\n        {\n          id: 'canEdit',\n          label: 'Can edit?',\n          Field: Check\n        },*/\n        {\n          id: 'canLock',\n          label: 'Can lock for editing?',\n          Field: Check\n        },\n        {\n          id: 'locked',\n          label: 'Is locked for editing?',\n          Field: Check,\n          active: vals => bool(vals?.canLock)\n        }\n      ]}\n      {...other}\n    />\n  );\n}\n","import * as React from 'react';\nimport { Grid, Box, Typography } from '@material-ui/core';\nimport ActionCard from '../general/ActionCard';\nimport * as BlockListDialog from '../application/GenericDialog/BlockList';\nimport DialogButton from '../application/GenericDialog/DialogButton';\nimport { bool } from '../../helpers';\nimport { useDialogState } from '../application/GenericDialog/useDialogState';\n\nexport interface BlockListItem {\n  id: string;\n  name: string;\n  rankingValue?: number;\n  canEdit?: boolean;\n  canLock?: boolean;\n  canDelete?: boolean;\n  locked?: boolean;\n  deleted?: boolean;\n}\n\nexport function BlockList({\n  title = undefined,\n  subtitle = undefined,\n  value = [],\n  showIndexBadges = undefined,\n  add = undefined,\n  edit = undefined,\n  remove = undefined,\n  DialogModule = BlockListDialog,\n  onChange\n}) {\n  const value_str = JSON.stringify(value);\n\n  // Replace or remove (set item to undefined when removing)\n  const handleReplace = React.useCallback(\n    (id: string, item: BlockListItem = undefined) => {\n      var value = JSON.parse(value_str);\n      if (item === undefined) {\n        value = value.filter(i => i.id !== id); // Remove item without replacement\n      } else {\n        const index = value.findIndex(i => i?.id === id);\n        if (index >= 0) {\n          value[index] = item; // Found item in array, update with new value\n        } else {\n          value.push(item); // Item does not exist, so add it to the end\n        }\n      }\n      onChange && onChange({ target: { value } });\n    },\n    [onChange, value_str]\n  );\n  const [, setDialogState] = useDialogState(title);\n\n  const handleSubmit = React.useCallback(\n    ({ values: item, type }) => {\n      type === 'Add' && onChange({ target: { value: [...JSON.parse(value_str), item] } });\n      type === 'Edit' && handleReplace(item?.id, item);\n    },\n    [onChange, handleReplace, value_str]\n  );\n  const onLock = React.useCallback(item => handleReplace(item?.id, { ...item, locked: !bool(item?.locked) }), [handleReplace]);\n  const onRemove = React.useCallback(item => handleReplace(item?.id), [handleReplace]);\n  const onEdit = React.useCallback(\n    item => {\n      setDialogState({\n        type: 'Edit',\n        open: true,\n        initialValues: item\n      });\n    },\n    [setDialogState]\n  );\n\n  return (\n    <>\n      {title && (\n        <Typography variant='h5' color='textPrimary' style={{ fontWeight: 'bold' }}>\n          {title}\n        </Typography>\n      )}\n      {subtitle && (\n        <Typography variant='subtitle1' color='textPrimary'>\n          {subtitle}\n        </Typography>\n      )}\n      <Box mt={1}>\n        <Grid container spacing={2}>\n          {value.map((item, i) => (\n            <Grid key={i} item lg={4} sm={6} xs={12}>\n              <ActionCard\n                item={item}\n                index={showIndexBadges && i}\n                onLock={onLock}\n                onRemove={remove && onRemove}\n                onEdit={edit && onEdit}\n                minHeight={112}\n                titleProps={{ noWrap: false, variant: 'h6', color: 'textPrimary' }}\n              />\n            </Grid>\n          ))}\n\n          <Grid style={{ display: add ? 'flex' : 'none' }} key={'add'} item lg={4} sm={6} xs={12}>\n            <DialogButton Module={{ ...DialogModule, id: title, title }} variant='styled' styledVariant='secondary' onSubmit={handleSubmit}>\n              Add New\n            </DialogButton>\n          </Grid>\n        </Grid>\n      </Box>\n    </>\n  );\n}\n\n/*\n <Grid item style={{ display: 'inline-flex', width: 175 }}>\n                <Icons.Lock color='primary' />\n                <Typography variant='subtitle1' color='primary'>\n                  You can't remove any locked items\n                </Typography>\n              </Grid>\n              */\n","import * as React from 'react';\nimport useProcessData from '../../database/useProcessData';\nimport { useSnackBar } from '../application/SnackBar/useSnackBar';\n\nconst actions = {\n  c: 'creating',\n  r: 'reading',\n  u: 'updating',\n  d: 'deleting'\n};\n\nexport const actionText = action => actions[action];\n\nexport default function useFormState({ validate = undefined, Model, onError: OnError = undefined, onSuccess: OnSuccess = undefined }) {\n  const [formState, setFormState] = React.useState({\n    loading: false,\n    error: undefined,\n    errors: {}\n  });\n  const processData = useProcessData();\n  const [, setSnackbar] = useSnackBar();\n\n  const handleSubmit = React.useCallback(\n    (Data, Action = 'c' as any) => () => {\n      setFormState(prev => ({ ...prev, loading: true, error: undefined, errors: {} }));\n      const errors = validate ? validate(Data) : {};      \n      if (Object.keys(errors).length > 0) {\n        setFormState(prev => ({ ...prev, loading: false, errors }));\n        setSnackbar({ open: true, variant: 'error', message: 'Input validation error' });\n      } else {\n        processData({\n          Model,\n          Action,\n          Data,\n          onError: () => {\n            setFormState(prev => ({ ...prev, loading: false, error: `Error ${actionText(Action)}` }));\n            setSnackbar({ open: true, variant: 'error', message: `Error ${actionText(Action)}` });\n            OnError && OnError();\n          },\n          onSuccess: () => {\n            setFormState(prev => ({ ...prev, loading: false, error: undefined }));\n            //setSnackbar({ open: true, variant: 'success', message: `Success ${actionText(Action)}` });\n            OnSuccess && OnSuccess();\n          }\n        });\n      }\n    },\n    [setFormState, validate, Model, OnError, OnSuccess, processData, setSnackbar]\n  );\n\n  const handleCreate = React.useCallback(Data => handleSubmit(Data, 'c'), [handleSubmit]);\n  const handleUpdate = React.useCallback(Data => handleSubmit(Data, 'u'), [handleSubmit]);\n  const handleDelete = React.useCallback(Data => handleSubmit(Data, 'd'), [handleSubmit]);\n\n  return {\n    handleCreate,\n    handleUpdate,\n    handleDelete,\n    formState\n  };\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Grid, InputLabel, makeStyles, createStyles } from '@material-ui/core';\nimport NotchedOutline from '@material-ui/core/OutlinedInput/NotchedOutline';\nimport { isError } from '../../../helpers';\n\nconst useStyles = makeStyles(({ palette, shadows }: any) =>\n  createStyles({\n    root: {\n      position: 'relative',\n      width: '100%'\n    },\n    container: {\n      position: 'relative'\n    },\n    content: {\n      minHeight: 40,\n      paddingLeft: 16,\n      paddingRight: 16,\n      paddingTop: 8,\n      paddingBottom: 8,\n      borderRadius: 30,\n      borderColor: palette.type === 'light' ? 'rgba(0, 0, 0, 0.23)' : 'rgba(255, 255, 255, 0.23)',\n      '&:hover': {\n        borderColor: palette.text.primary\n      }\n    },\n    inputLabel: {\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      // slight alteration to spec spacing to match visual spec result\n      transform: 'translate(0, 24px) scale(1)'\n    },\n    notchedOutline: ({ error, active }: any) => ({\n      borderColor: isError(error) ? palette.error.main : active ? palette.primary.main : 'inherit',\n      borderWidth: isError(error) || active ? 4 : 1,\n      color: palette.text.primary,\n      boxShadow: shadows[1]\n    })\n  })\n);\n\n// Needs some work to handle focused state.  It should use FormControl and formControlState.\nexport default function OutlinedDivActive({\n  label = '',\n  active = false,\n  error = undefined,\n  width = undefined,\n  maxWidth = undefined,\n  margin = undefined,\n  marginTop = undefined,\n  marginBottom = undefined,\n  height = undefined,\n  children = undefined\n}) {\n  const classes = useStyles({ active, error });\n  const [labelWidth, setLabelWidth] = React.useState(0);\n  const labelRef = React.useRef(null);\n  React.useEffect(() => {\n    const labelNode: any = ReactDOM.findDOMNode(labelRef.current);\n    setLabelWidth(labelNode != null ? labelNode.offsetWidth : 0);\n  }, [label]);\n\n  return (\n    <div className={classes.root} style={{ width, maxWidth, margin, marginTop, marginBottom, height }}>\n      <InputLabel ref={labelRef} htmlFor={label} variant='outlined' className={classes.inputLabel} shrink>\n        {label}\n      </InputLabel>\n      <div className={classes.container}>\n        <Grid container id={label} className={classes.content} alignItems='center'>\n          <Grid item xs={12}>\n            {children}\n          </Grid>\n          <NotchedOutline className={classes.notchedOutline} notched labelWidth={labelWidth} />\n        </Grid>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { makeStyles, Grid, Box, Typography } from '@material-ui/core';\nimport { getImage, images } from '../../pages/Class/helpers';\nimport OutlinedDivActive from '../../general/OutlinedDiv/OutlinedDivActive';\n\nconst useStyles = makeStyles(({ spacing }) => ({\n  root: {},\n  imageContainer: {\n    marginTop: spacing(4),\n    textAlign: 'center',\n    marginBottom: spacing(4)\n  },\n  item: {\n    cursor: 'pointer'\n  },\n  image: {\n    height: 72,\n    width: 72\n  }\n}));\n\nexport default function ImageSelector({ value = 'calendar', label, className = undefined, onChange, ...rest }) {\n  const classes = useStyles();\n  const handleChange = React.useCallback(\n    value => () => {\n      onChange && onChange({ target: { value } });\n    },\n    [onChange]\n  );\n\n  return (\n    <Box>\n      <Typography variant='h5' color='textPrimary' style={{ fontWeight: 'bold' }}>\n        {label}\n      </Typography>\n      <Box mt={1}>\n        <Grid container spacing={2}>\n          {Object.keys(images).map(key => (\n            <Grid key={key} item className={classes.item} onClick={handleChange(key)}>\n              <OutlinedDivActive active={key === value}>\n                <Box width={72} height={72}>\n                  <Typography align='center'>\n                    <img draggable='false' className={classes.image} src={getImage(key)} alt={key} />\n                  </Typography>\n                </Box>\n              </OutlinedDivActive>\n            </Grid>\n          ))}\n        </Grid>\n      </Box>\n    </Box>\n  );\n}\n","import * as React from 'react';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport Text from './Text';\n\nconst getLabel = option => ((typeof option === 'object' && option ? option.label : option) ?? '').toString();\nconst getValue = option => (typeof option === 'object' && option ? option.value : option) ?? '';\nconst getSelectedOption = (value, options) =>\n  Array.isArray(options) ? options.find(o => (typeof o === 'object' ? o.value === value : o === value)) ?? undefined : undefined;\n\n// Accepts either an option array of strings, numbers, or { value, label } objects. Reports only the value (not the object) to parent onChange\nexport default function AutoCompleteSelect({\n  items: options = [],\n  value = undefined,\n  onChange = undefined,\n  size = 'small' as 'small',\n  disableClearable = undefined,\n  freeSolo = true,\n  ...other\n}) {\n  const handleChange = React.useCallback(\n    (e, option) => {\n      onChange && onChange({ target: { value: getValue(option) } }); // Inject value to mimic behavior of other input on change events\n    },\n    [onChange]\n  );\n\n  return (\n    <Autocomplete\n      value={getSelectedOption(value, options)} // convert value to ption\n      options={options}\n      autoHighlight\n      getOptionLabel={option => getLabel(option)}\n      renderOption={option => getLabel(option)}\n      onChange={handleChange}\n      disableClearable={disableClearable}\n      renderInput={params => (\n        <Text\n          {...params}\n          inputProps={{\n            ...params.inputProps,\n            autoComplete: 'new-password' // disable autocomplete and autofill\n          }}\n          InputLabelProps={{\n            shrink: true\n          }}\n          {...other}\n        />\n      )}\n    />\n  );\n}\n","import * as React from 'react';\nimport { TextField } from '@material-ui/core';\nimport { isEmpty, isError } from '../../../helpers';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport { blue } from '@material-ui/core/colors';\nimport * as Icons from '@material-ui/icons';\nimport { Menu, MenuItem, Typography } from '@material-ui/core';\nimport useS3Bucket from '../../../database/useS3Bucket';\nimport { uuid } from '../../../helpers';\nimport { getObjectUrl } from '../../../aws-exports';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      maxWidth: 345\n    },\n    avatar: {\n      backgroundColor: blue[500]\n    },\n    hidden: {\n      display: 'none'\n    }\n  })\n);\n\nexport const FileActions = ({ onSuccess = undefined, onError = undefined }) => {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n  const open = Boolean(anchorEl);\n\n  const [{ loading, uploading, error }, setState] = React.useState({ loading: false, success: false, uploading: false, error: null });\n\n  const { handleUpload } = useS3Bucket({ setState });\n\n  const handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = React.useCallback(() => {\n    setAnchorEl(null);\n  }, [setAnchorEl]);\n\n  const onInput = React.useCallback(\n    e => {\n      handleClose();\n      const uploadFiles = e.target.files;\n      const arrFiles = Array.from(uploadFiles ?? []);\n      var file: any = arrFiles.length > 0 ? arrFiles[0] : undefined;\n      if (file) {\n        if ((file as any).size > 20 * 1024 * 1024) {\n          alert('File exceeds 20 MB upload limit.');\n        } else {\n          const id = `${file?.name ?? 'unknown'}_${uuid()}`;\n          handleUpload({\n            id,\n            content: file,\n            level: 'public', // public or private\n            contentType: `${file?.type ?? 'text/plain'}`,\n            onStart: () => {\n              setState(prev => ({ ...prev, uploading: true }));\n            },\n            onSuccess: () => {\n              console.log('success');\n              setState(prev => ({ ...prev, uploading: false }));\n\n              onSuccess && onSuccess(id);\n              // TODO update class with link to newly uploaded file\n            },\n            onError: () => {\n              console.log('error');\n              setState(prev => ({ ...prev, uploading: false }));\n              onError && onError('');\n            }\n          });\n        }\n      } else {\n        // Error: No file specified or user hit cancel\n      }\n    },\n    [handleClose, handleUpload, onSuccess, onError]\n  );\n  return (\n    <div>\n      <IconButton size='small' disabled={loading || uploading} aria-label='settings' onClick={handleClick}>\n        <Icons.MoreVert />\n      </IconButton>\n      <Menu id='long-menu' anchorEl={anchorEl} keepMounted open={open} onClose={handleClose}>\n        <div>\n          <input className={classes.hidden} name='fileselect' type='file' accept='*' id='fileselect' onChange={onInput} />\n          <label htmlFor='fileselect'>\n            <MenuItem key={'replace'} onClick={onInput} component='span'>\n              Upload New File\n            </MenuItem>\n          </label>\n        </div>\n        {error && <Typography color='error'>{error}</Typography>}\n      </Menu>\n    </div>\n  );\n};\n\nconst FileUploadLink = ({\n  value = '',\n  margin = 'dense',\n  variant = 'outlined',\n  forceErrorMargin = false,\n  error = undefined,\n  initialValue = undefined,\n  onChange = undefined,\n  ...other\n}) => {\n  const onSuccess = React.useCallback(\n    filename => {\n      onChange && onChange({ target: { value: isEmpty(filename) ? '' : getObjectUrl(filename) } });\n    },\n    [onChange]\n  );\n  return (\n    <TextField\n      value={value}\n      onChange={onChange}\n      error={isError(error)}\n      helperText={forceErrorMargin ? error || ' ' : error} // Forces a constant helper text margin\n      margin={margin as any}\n      variant={variant as any}\n      fullWidth\n      InputProps={{ endAdornment: <FileActions onSuccess={onSuccess} onError={onSuccess} /> }}\n      InputLabelProps={{\n        shrink: true\n      }}\n      {...other}\n    />\n  );\n};\n\nexport default FileUploadLink;\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport { useDialogState } from '../useDialogState';\nimport Check from '../../DialogField/Check';\nimport { bool, uuid } from '../../../../helpers';\nimport AutoCompleteSelect from '../../DialogField/AutoCompleteSelect';\nimport FileUploadLink from '../../DialogField/FileUploadLink';\n\nexport const title = 'Class Resource';\n\nexport default function ClassResourceDialog({ id = title, onClose = undefined, onSubmit, anchorEl = undefined, setValues = undefined, ...other }) {\n  const [{ type }, setState] = useDialogState(id);\n\n  const handleClose = React.useCallback(() => {\n    setState(prev => ({ ...prev, open: false, loading: false }));\n    onClose && onClose();\n  }, [onClose, setState]);\n\n  const handleSubmit = React.useCallback(\n    (values, setValues) => {\n      const id = type === 'Add' ? uuid() : values?.id;\n      onSubmit && onSubmit({ values: { ...values, id }, setValues, type });\n      handleClose();\n    },\n    [onSubmit, type, handleClose]\n  );\n\n  return (\n    <GenericDialog\n      id={id}\n      title={id}\n      onClose={onClose}\n      submitLabel={'Done'}\n      onSubmit={handleSubmit}\n      fields={[\n        {\n          id: 'id',\n          hidden: true\n        },\n        {\n          id: 'name',\n          label: 'Resource Name',\n          placeholder: 'Enter name',\n          required: true,\n          xs: 8\n        },\n\n        {\n          id: 'type',\n          label: 'Type',\n          Field: AutoCompleteSelect,\n          items: [\n            { label: 'PDF', value: 'PDF' },\n            //{ label: 'Video', value: 'Video' },\n            { label: 'Link', value: 'Link' }\n          ],\n          disableClearable: true,\n          required: true,          \n          xs: 4\n        },\n\n        {\n          id: 'link',\n          label: 'Resource Link',\n          Field: FileUploadLink,\n          placeholder: 'Enter link to resource or upload file',\n          required: true,\n          xs: 12\n        },\n        {\n          id: 'canLock',\n          label: 'Can lock for editing?',\n          Field: Check\n        },\n        {\n          id: 'locked',\n          label: 'Is locked for editing?',\n          Field: Check,\n          active: vals => bool(vals?.canLock)\n        }\n      ]}\n      {...other}\n    />\n  );\n}\n","import * as React from 'react';\nimport clsx from 'clsx';\nimport { Box, Card, Typography, makeStyles, CardActions, Grid } from '@material-ui/core';\nimport StyledButton from './StyledButton';\nimport { bool } from '../../helpers';\nimport * as Icons from '@material-ui/icons';\nimport { useHandleLink, useIsAdminMode } from '../../hooks';\n\nconst useStyles = makeStyles(({ palette, spacing }) => ({\n  root: {},\n  header: {\n    color: palette.common.black,\n    paddingTop: spacing(2),\n    paddingLeft: spacing(2),\n    paddingRight: spacing(2)\n  },\n  actions: {\n    display: 'flex',\n    alignItems: 'flex-end',\n    justifyContent: 'flex-end'\n  },\n  circle: {\n    borderRadius: 50,\n    width: 36,\n    height: 36,\n    border: `2px solid ${palette.primary.main}`\n  },\n  circleText: {\n    textAlign: 'center',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  icon: {\n    width: 128,\n    height: 128\n  },\n  iconContainer: {\n    background: palette.primary.light,\n    color: palette.common.white,\n    cursor: 'pointer'\n  }\n}));\n\nexport default function ActionCardClassResource({\n  title = undefined,\n  item,\n  label = 'View Resource',\n  actionLabel = 'View',\n  onClick = undefined,\n  className = undefined,\n  disabled = undefined,\n  onLock = undefined,\n  onRemove = undefined,\n  onEdit = undefined,\n  children = undefined,\n  ...rest\n}) {\n  const classes = useStyles();\n  const { name, type, link, locked, canLock } = item;\n  const handleLock = React.useCallback(item => () => onLock && onLock(item), [onLock]);\n  const handleRemove = React.useCallback(item => () => onRemove && onRemove(item), [onRemove]);\n  const handleEdit = React.useCallback(item => () => onEdit && onEdit(item), [onEdit]);\n\n  const isAdminMode = useIsAdminMode();\n  const canEdit = !bool(canLock) || (bool(canLock) && bool(!locked)); // Can edit if the user is an admin or an instructor and the object is not locked\n  const canDelete = canEdit;\n\n  const Icon = type === 'PDF' ? Icons.PictureAsPdf : type === 'Video' ? Icons.YouTube : Icons.Http;\n\n  const handleLink = useHandleLink(link);\n\n  return (\n    <Card className={clsx(classes.root, className)} {...rest}>\n      <Box textAlign='center' pt={1} className={classes.iconContainer} onClick={handleLink}>\n        <Icon className={classes.icon} />\n        <StyledButton color='inherit' variant='whiteText' onClick={handleLink}>\n          {label}\n        </StyledButton>\n      </Box>\n      <div className={classes.header}>\n        <Grid container spacing={1}>\n          <Grid item xs>\n            {name && (\n              <Typography noWrap gutterBottom variant='h5'>\n                {name}\n              </Typography>\n            )}\n          </Grid>\n        </Grid>\n\n        {type && (\n          <Typography gutterBottom variant='subtitle1' color='textPrimary'>\n            {type}\n          </Typography>\n        )}\n      </div>\n      {children}\n\n      {onClick && (\n        <Box m={2} textAlign='center'>\n          <StyledButton disabled={disabled} onClick={onClick}>\n            {actionLabel}\n          </StyledButton>\n        </Box>\n      )}\n      <CardActions className={classes.actions}>\n        {onEdit && bool(canEdit) && (\n          <StyledButton variant='text' onClick={handleEdit(item)}>\n            Edit\n          </StyledButton>\n        )}\n        <div>\n          <Grid container justify='flex-end' alignItems='flex-end'>\n            {onRemove && bool(canDelete) && (\n              <Grid item>\n                <StyledButton variant='text' onClick={handleRemove(item)}>\n                  Remove\n                </StyledButton>\n              </Grid>\n            )}\n            {isAdminMode && bool(canLock) && (\n              <Grid item>\n                <StyledButton Icon={bool(locked) ? Icons.Lock : Icons.LockOpen} variant='text' width={140} onClick={handleLock(item)}>\n                  {bool(locked) ? 'Locked' : 'Un-locked'}\n                </StyledButton>\n              </Grid>\n            )}\n          </Grid>\n        </div>\n      </CardActions>\n    </Card>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Box, Typography } from '@material-ui/core';\nimport * as ClassResourceDialog from '../application/GenericDialog/ClassResource';\nimport DialogButton from '../application/GenericDialog/DialogButton';\nimport { bool } from '../../helpers';\nimport { useDialogState } from '../application/GenericDialog/useDialogState';\nimport { BlockListItem } from './BlockList';\nimport ActionCardClassResource from './ActionCardClassResource';\n\nexport interface BlockListClassResourceItem extends BlockListItem {\n  type: string;\n  link: string;\n}\n\nexport function BlockListClassResource({\n  title = undefined,\n  subtitle = undefined,\n  value = [],  \n  add = undefined,\n  edit = undefined,\n  remove = undefined,\n  DialogModule = ClassResourceDialog,\n  onChange = undefined\n}) {\n  const value_str = JSON.stringify(value);\n\n  // Replace or remove (set item to undefined when removing)\n  const handleReplace = React.useCallback(\n    (id: string, item: BlockListItem = undefined) => {\n      var value = JSON.parse(value_str);\n      if (item === undefined) {\n        value = value.filter(i => i.id !== id); // Remove item without replacement\n      } else {\n        const index = value.findIndex(i => i?.id === id);\n        if (index >= 0) {\n          value[index] = item; // Found item in array, update with new value\n        } else {\n          value.push(item); // Item does not exist, so add it to the end\n        }\n      }\n      onChange && onChange({ target: { value } });\n    },\n    [onChange, value_str]\n  );\n  const [, setDialogState] = useDialogState(title);\n\n  const handleSubmit = React.useCallback(\n    ({ values: item, type }) => {\n      type === 'Add' && onChange({ target: { value: [...JSON.parse(value_str), item] } });\n      type === 'Edit' && handleReplace(item?.id, item);\n    },\n    [onChange, handleReplace, value_str]\n  );\n  const onLock = React.useCallback(item => handleReplace(item?.id, { ...item, locked: !bool(item?.locked) }), [handleReplace]);\n  const onRemove = React.useCallback(item => handleReplace(item?.id), [handleReplace]);\n  const onEdit = React.useCallback(\n    item => {\n      setDialogState({\n        type: 'Edit',\n        open: true,\n        initialValues: item\n      });\n    },\n    [setDialogState]\n  );\n\n  return (\n    <>\n      {title && (\n        <Typography variant='h5' color='textPrimary' style={{ fontWeight: 'bold' }}>\n          {title}\n        </Typography>\n      )}\n      {subtitle && (\n        <Typography variant='subtitle1' color='textPrimary'>\n          {subtitle}\n        </Typography>\n      )}\n      <Box mt={1}>\n        <Grid container spacing={2}>\n          {value.map((item, i) => (\n            <Grid key={i} item xs={12} sm={6} md={3} lg={2}>\n              <ActionCardClassResource\n                item={item}                \n                onLock={onLock}\n                onRemove={remove && onRemove}\n                onEdit={edit && onEdit}\n                minHeight={112}\n                titleProps={{ noWrap: false, variant: 'h6', color: 'textPrimary' }}\n              />\n            </Grid>\n          ))}\n\n          <Grid style={{ display: add ? 'flex' : 'none' }} key={'add'} item lg={4} sm={6} xs={12}>\n            <DialogButton Module={{ ...DialogModule, id: title, title }} variant='styled' styledVariant='secondary' onSubmit={handleSubmit}>\n              Add New\n            </DialogButton>\n          </Grid>\n        </Grid>\n      </Box>\n    </>\n  );\n}\n","import React from 'react';\nimport Text from '../../application/DialogField/Text';\nimport { IconButton, InputAdornment } from '@material-ui/core';\nimport * as Icons from '@material-ui/icons';\nimport { isEmpty } from '../../../helpers';\nimport { useHandleLink } from '../../../hooks';\n\nconst YouTubeAdornment = ({ disabled = undefined, onClick = undefined }) => (\n  <InputAdornment position='end'>\n    <IconButton disabled={disabled} onClick={onClick} color='primary' aria-label='open link'>\n      <Icons.YouTube />\n    </IconButton>\n  </InputAdornment>\n);\n\nexport default function ClassPresentationLink({ value, label = 'Class Presenation Link', onChange, ...other }) {\n  const handleLink = useHandleLink(value);\n\n  return (\n    <Text\n      label={label}\n      value={value}\n      onChange={onChange}\n      InputProps={{ endAdornment: <YouTubeAdornment onClick={handleLink} disabled={isEmpty(value)} /> }}\n      {...other}\n    />\n  );\n}\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport { useDialogState } from '../useDialogState';\nimport { uuid } from '../../../../helpers';\nimport AutoCompleteSelect from '../../DialogField/AutoCompleteSelect';\nimport ClassPresentationLink from '../../../pages/Class/ClassPresentationLink';\n\nexport const title = 'Class Presentation';\n\nexport default function ClassPresenationDialog({ id = title, onClose = undefined, onSubmit, anchorEl = undefined, setValues = undefined, ...other }) {\n  const [{ type }, setState] = useDialogState(id);\n\n  const handleClose = React.useCallback(() => {\n    setState(prev => ({ ...prev, open: false, loading: false }));\n    onClose && onClose();\n  }, [onClose, setState]);\n\n  const handleSubmit = React.useCallback(\n    (values, setValues) => {\n      const id = type === 'Add' ? uuid() : values?.id;\n      onSubmit && onSubmit({ values: { ...values, id }, setValues, type });\n      handleClose();\n    },\n    [onSubmit, type, handleClose]\n  );\n\n  return (\n    <GenericDialog\n      id={id}\n      title={id}\n      onClose={onClose}\n      submitLabel={'Save'}\n      onSubmit={handleSubmit}\n      fields={[\n        {\n          id: 'id',\n          hidden: true\n        },\n        {\n          id: 'name',\n          label: 'Presentation Name',\n          placeholder: 'Enter name',\n          required: true\n        },\n        {\n          id: 'type',\n          label: 'Type',\n          Field: AutoCompleteSelect,\n          items: [\n            //{ label: 'PDF', value: 'PDF' },\n            { label: 'Video', value: 'Video' }\n            //{ label: 'Link', value: 'Link' }\n          ],\n          hidden: true,\n          initialValue: 'Video'\n        },\n        {\n          id: 'link',\n          label: 'Presentation Link',\n          Field: ClassPresentationLink,\n          placeholder: 'Enter link to video presentation',\n          required: true,\n          xs: 12\n        }\n      ]}\n      {...other}\n    />\n  );\n}\n","import * as React from 'react';\nimport { Grid, Box, Typography } from '@material-ui/core';\nimport * as ClassPresentationDialog from '../application/GenericDialog/ClassPresentation';\nimport DialogButton from '../application/GenericDialog/DialogButton';\nimport { bool } from '../../helpers';\nimport { useDialogState } from '../application/GenericDialog/useDialogState';\nimport { BlockListItem } from './BlockList';\nimport ActionCardClassResource from './ActionCardClassResource';\n\nexport interface BlockListClassResourceItem extends BlockListItem {\n  type: string;\n  link: string;\n}\n\nexport function BlockListClassPresentation({\n  title = undefined,\n  subtitle = undefined,\n  value = [],\n  add = undefined,\n  edit = undefined,\n  remove = undefined,\n  DialogModule = ClassPresentationDialog,\n  onChange = undefined\n}) {\n  const value_str = JSON.stringify(value);\n\n  // Replace or remove (set item to undefined when removing)\n  const handleReplace = React.useCallback(\n    (id: string, item: BlockListItem = undefined) => {\n      var value = JSON.parse(value_str);\n      if (item === undefined) {\n        value = value.filter(i => i.id !== id); // Remove item without replacement\n      } else {\n        const index = value.findIndex(i => i?.id === id);\n        if (index >= 0) {\n          value[index] = item; // Found item in array, update with new value\n        } else {\n          value.push(item); // Item does not exist, so add it to the end\n        }\n      }\n      onChange && onChange({ target: { value } });\n    },\n    [onChange, value_str]\n  );\n  const [, setDialogState] = useDialogState(title);\n\n  const handleSubmit = React.useCallback(\n    ({ values: item, type }) => {\n      type === 'Add' && onChange({ target: { value: [...JSON.parse(value_str), item] } });\n      type === 'Edit' && handleReplace(item?.id, item);\n    },\n    [onChange, handleReplace, value_str]\n  );\n  const onLock = React.useCallback(item => handleReplace(item?.id, { ...item, locked: !bool(item?.locked) }), [handleReplace]);\n  const onRemove = React.useCallback(item => handleReplace(item?.id), [handleReplace]);\n  const onEdit = React.useCallback(\n    item => {\n      setDialogState({\n        type: 'Edit',\n        open: true,\n        initialValues: item\n      });\n    },\n    [setDialogState]\n  );\n\n  return (\n    <>\n      {title && (\n        <Typography variant='h5' color='textPrimary' style={{ fontWeight: 'bold' }}>\n          {title}\n        </Typography>\n      )}\n      {subtitle && (\n        <Typography variant='subtitle1' color='textPrimary'>\n          {subtitle}\n        </Typography>\n      )}\n      <Box mt={1}>\n        <Grid container spacing={2}>\n          {value.map((item, i) => (\n            <Grid key={i} item xs={12} sm={6} md={3} lg={2}>\n              <ActionCardClassResource\n                item={item}\n                onLock={onLock}\n                label='View Presentation'\n                onRemove={remove && onRemove}\n                onEdit={edit && onEdit}\n                minHeight={112}\n                titleProps={{ noWrap: false, variant: 'h6', color: 'textPrimary' }}\n              />\n            </Grid>\n          ))}\n\n          <Grid style={{ display: add ? 'flex' : 'none' }} key={'add'} item lg={4} sm={6} xs={12}>\n            <DialogButton Module={{ ...DialogModule, id: title, title }} variant='styled' styledVariant='secondary' onSubmit={handleSubmit}>\n              Add New\n            </DialogButton>\n          </Grid>\n        </Grid>\n      </Box>\n    </>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Box, Divider } from '@material-ui/core';\nimport ChildPage from '../ChildPage';\nimport { useHandleChangeRouteLayout } from '../../layout/hooks';\nimport StyledButton from '../../general/StyledButton';\nimport { BlockList } from '../../general/BlockList';\nimport { tables } from '../../../database/dbConfig';\nimport { getClassTitle, isEmpty } from '../../../helpers';\nimport useFormState from '../../hooks/useFormState';\nimport Text from '../../application/DialogField/Text';\nimport ImageSelector from '../../application/DialogField/ImageSelector';\nimport { useClassData } from '../../../database/useClassData';\nimport { BlockListClassResource } from '../../general/BlockListClassResource';\nimport { BlockListClassPresentation } from '../../general/BlockListClassPresentation';\n\nconst Model = tables.classesAdmin;\nconst validate = ({ name }) => {\n  const newErrors = {};\n  if (isEmpty(name)) {\n    newErrors['name'] = 'Required';\n  }\n  return newErrors;\n};\n\nconst TitleButton = ({ onClick }) => <StyledButton onClick={onClick}>Save Changes</StyledButton>;\n\nexport default function ClassMaterials() {\n  const { data, handleChange }: any = useClassData({ Model });\n  const { name, headline, image, keySkills = [], rankingModel = [], classResources = [], surveyQuestions = [], classPresentations = [] } = data;\n\n  const handleChangeRouteLayout = useHandleChangeRouteLayout();\n\n  const { formState, handleUpdate } = useFormState({ Model, validate, onSuccess: handleChangeRouteLayout('/Classes') });\n  const { loading, errors } = formState;\n\n  return (\n    <ChildPage\n      backLabel='Back to Class'\n      onBack={handleChangeRouteLayout('/ClassDashboard', { class: data })}\n      title={getClassTitle({ headline, name })}\n      subtitle='Edit Class Materials'\n      TitleButton={props => <TitleButton onClick={handleUpdate(data)} {...props} />}\n    >\n      <Box mt={2}>\n        <Divider />\n\n        <Grid container style={{ marginTop: 16 }} spacing={3}>\n          <Grid item>\n            <Text\n              error={errors['headline']}\n              autoFocus\n              disabled={loading}\n              placeholder='Enter Class Headline'\n              value={headline}\n              onChange={handleChange('headline')}\n              label='Class Headline'\n              fullWidth={false}\n            />\n          </Grid>\n          <Grid item>\n            <Text\n              error={errors['name']}\n              disabled={loading}\n              placeholder='Enter Class Name'\n              value={name}\n              onChange={handleChange('name')}\n              label='Class Name'\n              fullWidth={false}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <ImageSelector error={errors['image']} disabled={loading} value={image} onChange={handleChange('image')} label='Associated Image' />\n          </Grid>\n\n          <Grid item xs={12}>\n            <BlockList title='Key Skills' value={keySkills} add={true} edit={true} remove={true} onChange={handleChange('keySkills')} />\n          </Grid>\n          <Grid item xs={12}>\n            <BlockList title='Ranking Model' value={rankingModel} add={false} edit={true} remove={false} onChange={handleChange('rankingModel')} />\n          </Grid>\n          <Grid item xs={12}>\n            <BlockList\n              title='Survey Questions'\n              subtitle='Questions are related to the class materials and will be rated by students from 1 to 5 based on the Ranking Model'\n              value={surveyQuestions}\n              add={true}\n              edit={true}\n              remove={true}\n              onChange={handleChange('surveyQuestions')}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <BlockListClassPresentation\n              title='Class Presentation Videos'\n              subtitle='Add links to the class presentation videos that are relevant to the lesson'\n              value={classPresentations}\n              add={true}\n              edit={true}\n              onChange={handleChange('classPresentations')}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <BlockListClassResource\n              title='Class Resources'\n              subtitle='Add links to resources that are relevant to the lesson'\n              value={classResources}\n              add={true}\n              edit={true}\n              onChange={handleChange('classResources')}\n            />\n          </Grid>\n        </Grid>\n      </Box>\n    </ChildPage>\n  );\n}\n\n/*\n<Grid item xs={12}>\n<BlockList\n  title='Survey Questions'\n  subtitle='Questions are related to the class materials and will be rated by students from 1 to 5 based on the Ranking Model'\n  value={surveyQuestions}\n  add={true}\n  edit={true}\n  remove={true}\n  onChange={handleChange('surveyQuestions')}\n/>\n</Grid>\n<Grid item xs={12}>\n<BlockList\n  title='Ranking Model'\n  showIndexBadges={true}\n  value={rankingModel}\n  add={false}\n  edit={true}\n  remove={false}\n  onChange={handleChange('rankingModel')}\n/>\n</Grid>\n<Grid item xs={12}>\n\n*/\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Grid, InputLabel, makeStyles, createStyles } from '@material-ui/core';\nimport NotchedOutline from '@material-ui/core/OutlinedInput/NotchedOutline';\nimport { isError } from '../../../helpers';\n\nconst useStyles = makeStyles(({ palette, shape }: any) =>\n  createStyles({\n    root: {\n      position: 'relative',\n      width: '100%'\n    },\n    container: {\n      position: 'relative'\n    },\n    content: {\n      minHeight: 40,\n      paddingLeft: 16,\n      paddingRight: 16,\n      paddingTop: 8,\n      paddingBottom: 8,\n      borderRadius: shape.borderRadius,\n      borderColor: palette.type === 'light' ? 'rgba(0, 0, 0, 0.23)' : 'rgba(255, 255, 255, 0.23)',\n      '&:hover': {\n        borderColor: palette.text.primary\n      }\n    },\n    inputLabel: {\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      // slight alteration to spec spacing to match visual spec result\n      transform: 'translate(0, 24px) scale(1)'\n    },\n    notchedOutline: ({ error }: any) => ({\n      borderColor: isError(error) ? palette.error.main : 'inherit'\n    })\n  })\n);\n\n// Needs some work to handle focused state.  It should use FormControl and formControlState.\nexport default function OutlinedDiv({\n  label = '',\n  error = undefined,\n  width = undefined,\n  maxWidth = undefined,\n  margin = undefined,\n  marginTop = undefined,\n  marginBottom = undefined,\n  height = undefined,\n  children = undefined\n}) {\n  const classes = useStyles({ error });\n  const [labelWidth, setLabelWidth] = React.useState(0);\n  const labelRef = React.useRef(null);\n  React.useEffect(() => {\n    const labelNode: any = ReactDOM.findDOMNode(labelRef.current);\n    setLabelWidth(labelNode != null ? labelNode.offsetWidth : 0);\n  }, [label]);\n\n  return (\n    <div className={classes.root} style={{ width, maxWidth, margin, marginTop, marginBottom, height }}>\n      <InputLabel ref={labelRef} htmlFor={label} variant='outlined' className={classes.inputLabel} shrink>\n        {label}\n      </InputLabel>\n      <div className={classes.container}>\n        <Grid container id={label} className={classes.content} alignItems='center'>\n          <Grid item xs={12}>\n            {children}\n          </Grid>\n          <NotchedOutline className={classes.notchedOutline} notched labelWidth={labelWidth} />\n        </Grid>\n      </div>\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { FormControl, FormControlLabel, FormHelperText, Radio as MuiRadio, RadioGroup, Typography } from '@material-ui/core';\nimport { isError } from '../../../helpers';\nimport OutlinedDiv from '../../general/OutlinedDiv/OutlinedDiv';\n\nconst Radio = ({ items, value = '', label, variant, error, margin = 'dense' as 'dense', onChange, forceErrorMargin, initialValue = undefined, ...other }) => (\n  <FormControl component='fieldset' variant={variant} error={isError(error)} fullWidth margin={margin}>\n    <OutlinedDiv label={label}>\n      <RadioGroup onChange={onChange} value={value} {...other}>\n        {items.map(i => (\n          <FormControlLabel\n            key={i.value}\n            value={i.value}\n            control={<MuiRadio color='default' size='small' />}\n            label={<Typography variant='body2'>{i.label}</Typography>}\n          />\n        ))}\n      </RadioGroup>\n      {(forceErrorMargin || error) && <FormHelperText>{error}</FormHelperText>}\n    </OutlinedDiv>\n  </FormControl>\n);\n\nexport default Radio;\n","import { region, identityPoolIdUnauth, sourceEmailAddress } from '../../../../../package.json';\nimport { hostAddress, publicUrl } from '../../../../helpers';\nexport const AWS = require('aws-sdk'); // Load the AWS SDK for Node.js\n\n// Initialize the Amazon Cognito credentials provider\nAWS.config.region = region;\nAWS.config.credentials = new AWS.CognitoIdentityCredentials({\n  IdentityPoolId: identityPoolIdUnauth\n});\n\nexport const sendStudentInvite = ({\n  email,\n  role = 'Student',\n  id,\n  name = 'Unknown Group Name',\n  type = 'Unknown Group Type',\n  location = 'Unknown Location',\n  onSuccess = undefined,\n  onError = undefined\n}) => {\n  console.log('Sending student invite to: ' + email);\n  const body = `You have been invited to the Doors Web Application:\n    <p>User Email: ${email}</p>  \n    <p>Role: ${role}</p>\n    <p>Group Name: ${name}</p>\n    <p>Group Type: ${type}</p>    \n    <p>Group Location: ${location}</p>    \n    \n    <h2><a href='${hostAddress(publicUrl(`/?i=${id}&t=s`))}'>Click here to accept the invite<a/></h2>\n    `;\n\n  // Create sendEmail params\n  var params = {\n    Destination: {\n      /* required */ CcAddresses: [],\n      ToAddresses: [email]\n    },\n    Message: {\n      /* required */\n      Body: {\n        /* required */\n        Html: {\n          Charset: 'UTF-8',\n          Data: body\n        },\n        Text: {\n          Charset: 'UTF-8',\n          Data: body\n        }\n      },\n      Subject: {\n        Charset: 'UTF-8',\n        Data: `${role} Invitation to Doors Web Application!`\n      }\n    },\n    Source: sourceEmailAddress /* required */,\n    ReplyToAddresses: [sourceEmailAddress]\n  };\n\n  // Create the promise and SES service object\n  var sendPromise = new AWS.SES({ apiVersion: '2010-12-01' }).sendEmail(params).promise();\n\n  // Handle promise's fulfilled/rejected states\n  sendPromise\n    .then(function (data) {\n      onSuccess && onSuccess(data);\n    })\n    .catch(function (err) {\n      console.error(err, err.stack);\n      onError && onError(err);\n    });\n};\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport Label from '../../DialogField/Label';\nimport Radio from '../../DialogField/Radio';\nimport MarginDivider from '../../DialogField/MarginDivider';\nimport { sendStudentInvite } from './helpers';\nimport { useDialogState } from '../useDialogState';\nimport { useSnackBar } from '../../SnackBar/useSnackBar';\nimport { isEmpty, parseEmails, uuid, validateEmail } from '../../../../helpers';\nimport { tables } from '../../../../database/dbConfig';\nimport { useSubmitDialogData } from '../useSubmitDialogData';\nimport { useUserId } from '../../../layout/hooks';\nimport useProcessData from '../../../../database/useProcessData';\nimport Student from '../../../../database/models/Student';\nimport Group from '../../../../database/models/Group';\n\nexport const title = 'Create New Group';\n\nconst validate = ({ participants }) => {\n  const newErrors = {};\n  if (!isEmpty(participants)) {\n    parseEmails(participants).forEach(e => {\n      if (!validateEmail(e)) {\n        newErrors['participants'] = 'Invalid email format';\n      }\n    });\n  }\n  return newErrors;\n};\n\nexport default function CreateGroupDialog({ id = title, onClose = undefined }) {\n  const [state, setState] = useDialogState(id);\n  const { initialValues, subtitle = 'Unknown Class' } = state;\n  const classId = initialValues['class']?.id;\n\n  const [, setSnackbar] = useSnackBar();\n  const submitData = useSubmitDialogData({ id });\n  const userId = useUserId();\n\n  const handleClose = React.useCallback(\n    (props = undefined, isLast = true) => {\n      props && setSnackbar(props);\n      if (isLast) {\n        setState(prev => ({ ...prev, open: false, loading: false }));\n        onClose && onClose();\n      }\n    },\n    [onClose, setState, setSnackbar]\n  );\n\n  const onSuccess = React.useCallback(() => {\n    handleClose({ open: true, variant: 'success', message: 'Successfully sent invite' });\n  }, [handleClose]);\n\n  const onError = React.useCallback(\n    isLast => () => {\n      handleClose({ open: true, variant: 'error', message: 'Error sending invite' }, isLast);\n    },\n    [handleClose]\n  );\n\n  const processData = useProcessData();\n  const parentId = useUserId();\n\n  const onSubmitSuccess = React.useCallback(\n    ({ id: groupId, participants, name, type, location }) => () => {\n      const invitesToSend = parseEmails(participants);\n      if (invitesToSend.length === 0) {\n        handleClose({ open: true, variant: 'success', message: 'Successfully created group' });\n      } else {\n        invitesToSend.forEach((email, i) => {\n          // Create the student invite rows and also send the individual invites\n          const isLast = i === parseEmails(participants).length - 1;\n          const id = uuid();\n\n          const Data: Student = {\n            id,\n            groupId,\n            parentId,\n            email\n          };\n\n          setState(prev => ({ ...prev, loading: true }));\n\n          processData({\n            Model: tables.students,\n            Action: 'c',\n            Data,\n            onError: onError(isLast),\n            onSuccess: () => {\n              sendStudentInvite({ id, email, name, type, location, onError: onError(isLast), onSuccess: isLast && onSuccess });\n            }\n          });\n        });\n      }\n    },\n    [onSuccess, onError, parentId, setState, processData, handleClose]\n  );\n\n  const handleSubmit = React.useCallback(\n    ({ name, location, type, participants }) => {\n      // First create the group in the database\n      const group: Group = {\n        id: uuid(),\n        userId, // id of user that created the group\n        instructorId: userId,\n        classId,\n        name,\n        location,\n        type,\n        participants\n      };\n\n      submitData({\n        Data: group,\n        Model: tables.groups,\n        Action: 'c',\n        OnSuccess: onSubmitSuccess(group) // Next create the student invites\n      });\n    },\n    [userId, classId, submitData, onSubmitSuccess]\n  );\n\n  return (\n    <GenericDialog\n      id={id}\n      title={id}\n      onClose={onClose}\n      submitLabel={'Create Group'}\n      initialValues={initialValues}\n      validate={validate}\n      onSubmit={handleSubmit}\n      fields={[\n        {\n          label: subtitle,\n          Field: Label\n        },\n        {\n          label: 'Group Information',\n          Field: Label\n        },\n        {\n          Field: MarginDivider\n        },\n        {\n          id: 'name',\n          label: 'Group Name',\n          placeholder: 'Enter Group Name',\n          required: true\n        },\n        {\n          id: 'location',\n          label: 'Location',\n          placeholder: 'Enter Group Location',\n          required: true\n        },\n        {\n          id: 'type',\n          label: 'Group Type',\n          Field: Radio,\n          variant: 'outlined',\n          items: [\n            { value: 'On Site', label: 'On Site' },\n            { value: 'On Line', label: 'On Line' }\n          ],\n          initialValue: 'On Line'\n        },\n        {\n          id: 'participants',\n          label: 'Group Participats',\n          placeholder: 'Enter email addressess to give acces to this class',\n          required: false,\n          multiline: true,\n          rows: 6\n        }\n      ]}\n    />\n  );\n}\n","import React from 'react';\nimport { useDialogState } from './useDialogState';\nimport useProcessData from '../../../database/useProcessData';\n\nexport const useSubmitDialogData = ({ id, onClose = undefined }) => {\n  const [, setState] = useDialogState(id);\n  const processData = useProcessData();\n\n  const handleClose = React.useCallback(() => {\n    setState(prev => ({ ...prev, open: false, loading: false }));\n    onClose && onClose();\n  }, [onClose, setState]);\n\n  const submitData = React.useCallback(\n    ({ Data, Model, Action = 'c', OnSuccess = undefined, OnError = undefined }) => {\n      setState(prev => ({ ...prev, loading: true }));\n      processData({\n        Model,\n        Action,\n        Data,\n        onError: OnError ? OnError : () => setState(prev => ({ ...prev, loading: false, error: 'Error submitting values' })),\n        onSuccess: OnSuccess ? OnSuccess(Data) : handleClose() // If OnSuccess is provided, then that function should handle closing of the dialog, otherwise automatically close\n      });\n    },\n    [setState, processData, handleClose]\n  );\n\n  return submitData;\n};\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport Label from '../../DialogField/Label';\nimport MarginDivider from '../../DialogField/MarginDivider';\nimport { useDialogState } from '../useDialogState';\nimport { useSnackBar } from '../../SnackBar/useSnackBar';\nimport useProcessData from '../../../../database/useProcessData';\nimport { tables } from '../../../../database/dbConfig';\nimport Student from '../../../../database/models/Student';\nimport { isEmpty, parseEmails, uuid, validateEmail } from '../../../../helpers';\nimport { useUserId } from '../../../layout/hooks';\nimport { sendStudentInvite } from '../CreateGroup/helpers';\n\nexport const title = 'Add New Student';\n\nconst validate = ({ emails }) => {\n  const newErrors = {};\n  if (isEmpty(emails)) {\n    newErrors['emails'] = 'Required';\n  } else {\n    parseEmails(emails).forEach(e => {\n      if (!validateEmail(e)) {\n        newErrors['emails'] = 'Invalid email format';\n      }\n    });\n  }\n  return newErrors;\n};\n\nexport default function AddStudentDialog({ id = title, onClose }) {\n  const [{ initialValues }, setState] = useDialogState(id);\n  const { group = {} } = initialValues;\n  const { id: groupId, name, type, location } = group;\n  const [, setSnackbar] = useSnackBar();\n\n  const handleClose = React.useCallback(\n    (props = undefined, isLast = true) => {\n      props && setSnackbar(props);\n      if (isLast) {\n        setState(prev => ({ ...prev, open: false, loading: false }));\n        onClose && onClose();\n      }\n    },\n    [onClose, setState, setSnackbar]\n  );\n\n  const processData = useProcessData();\n  const parentId = useUserId();\n\n  const onSuccess = React.useCallback(() => {    \n    handleClose({ open: true, variant: 'success', message: 'Successfully sent invite' });\n  }, [handleClose]);\n\n  const onError = React.useCallback(\n    isLast => () => {\n      handleClose({ open: true, variant: 'error', message: 'Error sending invite' }, isLast);\n    },\n    [handleClose]\n  );\n\n  const handleSubmit = React.useCallback(\n    values => {\n      const { emails } = values;\n      parseEmails(emails).forEach((email, i) => {\n        const id = uuid();\n        const isLast = i === parseEmails(emails).length - 1;\n\n        const Data: Student = {\n          id,\n          groupId,\n          parentId,\n          email\n        };\n\n        setState(prev => ({ ...prev, loading: true }));\n\n        processData({\n          Model: tables.students,\n          Action: 'c',\n          Data,\n          onError: onError(isLast),\n          onSuccess: () => {\n            sendStudentInvite({ id, email, name, type, location, onError: onError(isLast), onSuccess: isLast && onSuccess });\n          }\n        });\n      });\n    },\n    [setState, processData, parentId, onSuccess, onError, name, type, location, groupId]\n  );\n\n  return (\n    <GenericDialog\n      id={id}\n      maxWidth='sm'\n      title={id}\n      submitLabel='Send Invite'\n      onSubmit={handleSubmit}\n      onClose={onClose}\n      validate={validate}\n      fields={[\n        {\n          label: `Students will receive an invitation via their email address, if the student is already registered they will see the class available on their main dashboard.  You can add multiple email addresses at the same time, just enter a space or comma between different email addresses.`,\n          Field: Label\n        },\n        {\n          Field: MarginDivider\n        },\n        {\n          id: 'emails',\n          label: 'Emails to Add',\n          autoFocus: true,\n          placeholder: 'Enter email address to give access to this class',\n          required: true,\n          multiline: true,\n          rows: 4\n        }\n      ]}\n    />\n  );\n}\n","import { getDayMonthYear } from '../../helpers';\n\nexport const createAttendanceKey = (classId = '', groupId = '', date = getDayMonthYear()) => [classId, groupId, date].join(':');\n\nexport const getAttendanceKeys = (key = '') => {\n  const parts = key.split(':');\n  return {\n    classId: parts[0],\n    groupId: parts[1],\n    date: parts[2]\n  };\n};\n\nexport default interface Attendance {\n  id: string; // unique identifier, format: classId:groupId:date\n  students: string; // array of students that attended\n  created?: number;\n  updated?: number;\n  deleted?: boolean;\n}\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport { useDialogState } from '../useDialogState';\nimport { useSnackBar } from '../../SnackBar/useSnackBar';\nimport { useProfile } from '../../../../database/useProfile';\n\nexport const title = 'Profile';\n\nexport default function ProfileDialog({ id = title, onClose = undefined, ...other }) {\n  const [state, setState] = useDialogState(id);\n  const { initialValues } = state;\n  const [, setSnackbar] = useSnackBar();\n\n  const { profile, setProfile } = useProfile({ id: initialValues?.id, state, setState });\n\n  const handleClose = React.useCallback(\n    (props = undefined) => {\n      props && setSnackbar(props);\n      setState(prev => ({ ...prev, open: false, loading: false }));\n      onClose && onClose();\n    },\n    [onClose, setState, setSnackbar]\n  );\n\n  const onError = React.useCallback(() => handleClose({ open: true, variant: 'success', message: 'Error saving profile' }), [handleClose]);\n  const onSuccess = React.useCallback(() => handleClose({ open: true, variant: 'success', message: 'Successfully saved profile' }), [handleClose]);\n  const handleSubmit = React.useCallback((values, setValues) => setProfile({ values, onSuccess, onError }), [\n    setProfile,\n    onSuccess,\n    onError\n  ]);\n\n  return (\n    <GenericDialog\n      id={id}\n      title={id}\n      onClose={onClose}\n      cancelLabel='Done'\n      submitLabel={null}\n      initialValues={profile}\n      onSubmit={handleSubmit}\n      fields={[\n        {\n          id: 'name',\n          label: 'Name',\n          InputProps: {\n            readOnly: true\n          }\n        },\n        {\n          id: 'city',\n          label: 'City',\n          InputProps: {\n            readOnly: true\n          },\n          xs: 8\n        },\n        {\n          id: 'state',\n          label: 'State',\n          InputProps: {\n            readOnly: true\n          },\n          xs: 4\n        }\n      ]}\n      {...other}\n    />\n  );\n}\n","import * as React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles, Grid, Avatar, Typography } from '@material-ui/core';\nimport DialogButton from '../../application/GenericDialog/DialogButton';\nimport { getStudentName, isEmpty, minutesFrom, minutesToTimeAgo } from '../../../helpers';\nimport { useProfile } from '../../../database/useProfile';\nimport * as ProfileDialog from '../../application/GenericDialog/Profile';\nimport { tables } from '../../../database/dbConfig';\nimport useTableRow from '../../../database/useTableRow';\nimport { useSnackBar } from '../../application/SnackBar/useSnackBar';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    display: 'flex',\n    width: 148\n  }\n}));\n\nexport default function Participant({\n  student,\n  className = undefined,\n  view = true,\n  viewReport = false,\n  remove = true,\n  mount = true,\n  onRefresh = undefined,\n  ...rest\n}) {\n  const classes = useStyles();\n  const { profile } = useProfile({ id: student?.userId });\n  const [state, setState] = React.useState();\n  const { readSetRow } = useTableRow({ Model: tables.students, id: student?.id, state, setState });\n  const [, setSnackbar] = useSnackBar();\n\n  const handleRemove = React.useCallback(\n    deleted => () => {\n      readSetRow({\n        values: { deleted: !deleted },\n        onSuccess: () => {\n          onRefresh && onRefresh();\n          setSnackbar({ open: true, variant: 'success', message: `Successfully ${deleted ? 'restored' : 'deleted'} participant` });\n        }\n      });\n    },\n    [readSetRow, setSnackbar, onRefresh]\n  );\n\n  return (\n    <div className={clsx(classes.root, className)} {...rest}>\n      <Grid container alignItems='center' justify='center' spacing={0}>\n        <Grid item>\n          <Avatar src='/broken-image.jpg' />\n        </Grid>\n        <Grid item xs={12}>\n          <Typography noWrap align='center' variant='subtitle2'>\n            {getStudentName({ student, profile })}\n          </Typography>\n        </Grid>\n        {view && !isEmpty(student?.userId) && (\n          <Grid item xs={12} style={{ textAlign: 'center' }}>\n            <DialogButton\n              Module={ProfileDialog}\n              mount={mount}\n              initialValues={{ id: student?.userId }}\n              variant='link'\n              underline='always'\n              linkVariant='body2'\n              fullWidth\n            >\n              View Profile\n            </DialogButton>\n          </Grid>\n        )}\n        {viewReport && !isEmpty(student?.userId) && (\n          <Grid item xs={12} style={{ textAlign: 'center' }}>\n            <DialogButton\n              Module={ProfileDialog}\n              mount={mount}\n              initialValues={{ id: student?.userId }}\n              variant='link'\n              underline='always'\n              linkVariant='body2'\n              fullWidth\n            >\n              View Report\n            </DialogButton>\n          </Grid>\n        )}\n        {student.accepted === true\n          ? remove && (\n              <Grid item xs={12} style={{ textAlign: 'center' }}>\n                <DialogButton onClick={handleRemove(student?.deleted)} variant='link' underline='always' linkVariant='body2' fullWidth>\n                  {student?.deleted ? 'Restore' : 'Remove'}\n                </DialogButton>\n              </Grid>\n            )\n          : view && <Typography variant='caption'>Sent {minutesToTimeAgo(minutesFrom(student?.created))}</Typography>}\n      </Grid>\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { Grid } from '@material-ui/core';\nimport Participant from '../../pages/Class/Participant';\nimport Check from './Check';\nimport { bool } from '../../../helpers';\n\nexport default function StudentAttendance({\n  value = {},\n  margin = 'dense',\n  variant = 'outlined',\n  forceErrorMargin = false,\n  error = undefined,\n  initialValue = undefined,\n  onChange = undefined,\n  ...other\n}) {\n  const value_str = JSON.stringify(value);\n  const handleCheck = React.useCallback(\n    student => event => {\n      const newStudents = JSON.parse(value_str);\n      newStudents[student.id] = { ...student, present: !bool(student.present) };\n      onChange && onChange({ target: { value: newStudents } });\n    },\n    [value_str, onChange]\n  );\n  return (\n    <Grid container spacing={2}>\n      <Grid item xs={12}>\n        <Grid container justify='space-between' spacing={1}>\n          <Grid item xs>\n            Student\n          </Grid>\n          <Grid item style={{ width: 64 }}>\n            Present\n          </Grid>\n        </Grid>\n      </Grid>\n      {Object.keys(value).map((k, i) => {\n        const student = value[k];\n        return (\n          <Grid item xs={12}>\n            <Grid container justify='space-between' spacing={1}>\n              <Grid item xs>\n                <Participant student={student} mount={false} view={false} remove={false} />\n              </Grid>\n              <Grid item style={{ width: 64 }}>\n                <Check value={student.present} color='primary' onChange={handleCheck(student)} />\n              </Grid>\n            </Grid>\n            {/*<TextField\n            value={value}\n            error={isError(error)}\n            helperText={forceErrorMargin ? error || ' ' : error} // Forces a constant helper text margin\n            margin={margin as any}\n            variant={variant as any}\n            fullWidth\n            InputLabelProps={{\n              shrink: true\n            }}\n            {...other}\n          />\n        */}\n          </Grid>\n        );\n      })}\n    </Grid>\n  );\n}\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport Label from '../../DialogField/Label';\nimport MarginDivider from '../../DialogField/MarginDivider';\nimport { useDialogState } from '../useDialogState';\nimport { getAttendanceKeys } from '../../../../database/models/Attendance';\nimport { useAttendanceRow } from '../../../../database/useAttendanceRow';\nimport StudentAttendance from '../../DialogField/StudentAttendance';\nimport deepmerge from 'deepmerge';\n\nexport const title = 'Mark Attendance';\n\nexport default function MarkAttendanceDialog({ onClose }) {\n  const [{ initialValues, open }, setState] = useDialogState(title);\n  // initialValues should contain\n  // id: attendeance row id\n  // students: object array of students participating in the class\n\n  const { id } = initialValues;\n  const { data: attendanceData, updateData } = useAttendanceRow({ id, active: open });\n  const data = deepmerge(initialValues, attendanceData); // Ensure any new students are merged with existing attendance data\n\n  const handleClose = React.useCallback(() => {\n    setState(prev => ({ ...prev, open: false, loading: false }));\n    onClose && onClose();\n  }, [onClose, setState]);\n\n  const handleSubmit = React.useCallback(values => updateData(values, handleClose), [updateData, handleClose]);\n\n  return (\n    <GenericDialog\n      id={title}\n      title={title}\n      submitLabel='Save'\n      onSubmit={handleSubmit}\n      onClose={onClose}\n      initialValues={data}\n      fields={[\n        {\n          id,\n          hidden: true\n        },\n        {\n          label: `Today is ${getAttendanceKeys(id).date}`,\n          Field: Label\n        },\n        {\n          Field: MarginDivider\n        },\n        {\n          id: 'students',\n          label: 'Students',\n          autoFocus: true,\n          Field: StudentAttendance\n        }\n      ]}\n    />\n  );\n}\n","import { tables } from './dbConfig';\nimport useData from './useData';\n\nexport const useAttendanceRow = ({ id, active }) => {\n  // The student table uses the concatenated key, while the instructor and admin tables use the main key\n  // Format of id = id:sessionId\n  return useData({ id, Model: tables.attendance, active });\n};\n","import * as React from 'react';\nimport { tables } from './dbConfig';\nimport useTable from './useTable';\nimport { isExpired } from './useInstructor';\n\nexport default function useGroupStudents({ groupId }) {\n  const { state, handleRequest } = useTable({ TableName: tables.students });\n\n  const handleRefresh = React.useCallback(() => {\n    handleRequest({\n      FilterExpression: '#groupId = :groupId',\n      ExpressionAttributeNames: {\n        '#groupId': 'groupId'\n      },\n      ExpressionAttributeValues: {\n        ':groupId': groupId\n      }\n    });\n    // eslint-disable-next-line\n  }, [groupId, handleRequest]);\n\n  React.useEffect(() => {\n    handleRefresh();\n  }, [handleRefresh]);\n\n  const students = Object.keys(state?.data).map(k => ({ ...state?.data[k] }));\n  const activeStudents = students.filter(s => s.accepted && s.deleted !== true);\n  const pendingStudents = students.filter(s => !s.accepted && !isExpired(s) && s.deleted !== true);\n  const expiredStudents = students.filter(s => !s.accepted && isExpired(s) && s.deleted !== true);\n  const deletedStudents = students.filter(s => s.deleted);\n\n  return { state, students, activeStudents, pendingStudents, expiredStudents, deletedStudents, handleRequest, handleRefresh };\n}\n","import * as React from 'react';\nimport { Typography, makeStyles, Grid } from '@material-ui/core';\nimport Participant from './Participant';\n\nconst useStyles = makeStyles(({ palette, spacing }) => ({\n  bold: {\n    fontWeight: 'bold'\n  }\n}));\n\nexport const Participants = ({ students, label, ...other }) => {\n  const classes = useStyles();\n  return (\n    <Grid container justify='flex-start' spacing={2}>\n      <Grid item xs={12}>\n        <Typography variant='subtitle1' className={classes.bold}>\n          {students.length} {label}\n        </Typography>\n      </Grid>\n      {students.map((s, i) => (\n        <Grid item key={s?.id}>\n          <Participant student={s} mount={i === 0} {...other} />\n        </Grid>\n      ))}\n    </Grid>\n  );\n};\n","import * as React from 'react';\nimport clsx from 'clsx';\nimport { Card, Typography, makeStyles, Grid, Box } from '@material-ui/core';\nimport StyledButton from '../../general/StyledButton';\nimport { getDateFromTimestamp } from '../../../helpers';\nimport DialogButton from '../../application/GenericDialog/DialogButton';\nimport * as AddStudentDialog from '../../application/GenericDialog/AddStudent';\nimport * as MarkAttendanceDialog from '../../application/GenericDialog/MarkAttendance';\nimport useGroupStudents from '../../../database/useGroupStudents';\nimport { Participants } from './Participants';\nimport { useClassData } from '../../../database/useLocationData';\nimport { tables } from '../../../database/dbConfig';\nimport { createAttendanceKey } from '../../../database/models/Attendance';\nimport { useHandleChangeRouteLayout } from '../../layout/hooks';\nimport MarginDivider from '../../application/DialogField/MarginDivider';\n\nconst useStyles = makeStyles(({ palette, spacing }) => ({\n  root: {},\n  summary: {\n    padding: spacing(1),\n    background: palette.primary.light,\n    color: palette.common.white\n  },\n  actions: {\n    padding: spacing(1),\n    display: 'flex',\n    alignItems: 'flex-start'\n  },\n  details: {\n    padding: spacing(1),\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  bold: {\n    fontWeight: 'bold'\n  },\n  semibold: {\n    fontWeight: 500\n  },\n  createdOn: {\n    marginTop: 12,\n    fontWeight: 500\n  }\n}));\n\nexport default function Group({\n  mount = false,\n  id = undefined,\n  userId = undefined,\n  instructorId = undefined,\n  sessionId = undefined,\n  name = 'Group Name',\n  location = 'Unknown Location',\n  type = 'Unknown Type',\n  created = undefined,\n  className = undefined\n}) {\n  const classes = useStyles();\n  const { data } = useClassData({ Model: tables.classesAdmin });\n\n  const { pendingStudents, deletedStudents, activeStudents, handleRefresh } = useGroupStudents({ groupId: id });\n  const changeRouteLayout = useHandleChangeRouteLayout();\n\n  return (\n    <Card className={clsx(classes.root, className)}>\n      <Grid container>\n        <Grid item xs={12} sm={12} md={4} lg={3} xl={2} className={classes.summary}>\n          <Grid container spacing={0}>\n            <Grid item xs={12}>\n              <Typography variant='h6' className={classes.semibold}>\n                {name}\n              </Typography>\n            </Grid>\n            <Grid item xs={12}>\n              <Typography variant='body2' className={classes.semibold}>\n                Group Location: {location}\n              </Typography>\n            </Grid>\n            <Grid item xs={12}>\n              <Typography variant='body2' className={classes.semibold}>\n                Group Type: {type}\n              </Typography>\n            </Grid>\n            {created && (\n              <Grid item xs={12}>\n                <Typography variant='body2' className={classes.createdOn}>\n                  Created on {getDateFromTimestamp(created)}\n                </Typography>\n              </Grid>\n            )}\n          </Grid>\n        </Grid>\n        <Grid item xs={12} sm={12} md={8} lg={9} xl={10} className={classes.details}>\n          <Grid container justify='space-between' spacing={2}>\n            <Grid item xs>\n              {[\n                { students: activeStudents, label: 'Class Participants' },\n                { students: pendingStudents, label: 'Pending Invites (Not Accepted)' },\n                { students: deletedStudents, label: 'Archived Students' }\n              ]\n                .filter(i => i.students.length > 0)\n                .map((props, i) => (\n                  <Box key={i} mb={1}>\n                    {i !== 0 && <MarginDivider />}\n                    <Participants onRefresh={handleRefresh} {...props} />\n                  </Box>\n                ))}\n            </Grid>\n            <Grid item xs={12} sm={12} md={7} lg={4} xl={3} className={classes.actions}>\n              <Grid container spacing={1}>\n                <Grid item xs={12}>\n                  <DialogButton\n                    Module={AddStudentDialog}\n                    mount={mount}\n                    fullWidth={true}\n                    onClose={handleRefresh}\n                    variant='styled'\n                    size='large'\n                    tooltip=''\n                    initialValues={{\n                      group: {\n                        id,\n                        name,\n                        type,\n                        location\n                      }\n                    }}\n                  >\n                    Add New Student\n                  </DialogButton>\n                </Grid>\n                <Grid item xs={12}>\n                  <DialogButton\n                    Module={MarkAttendanceDialog}\n                    mount={mount}\n                    fullWidth={true}\n                    onClose={handleRefresh}\n                    variant='styled'\n                    size='large'\n                    tooltip=''\n                    initialValues={{\n                      id: createAttendanceKey(data?.class?.id, id),\n                      students: activeStudents.reduce((f, c) => {\n                        f[c.id] = c;\n                        return f;\n                      }, {})\n                    }}\n                  >\n                    Mark Attendance\n                  </DialogButton>\n                </Grid>\n                <Grid item xs={12}>\n                  <StyledButton variant='secondary' fullWidth={true} onClick={() => alert('To be completed')}>\n                    View Attendance History\n                  </StyledButton>\n                </Grid>\n                <Grid item xs={12}>\n                  <StyledButton\n                    variant='secondary'\n                    fullWidth={true}\n                    onClick={changeRouteLayout('/ClassReport', {\n                      groupId: id\n                    })}\n                  >\n                    View Class Report\n                  </StyledButton>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Card>\n  );\n}\n","import { useLocation } from 'react-router';\nimport useData from './useData';\n\nexport const useClassData = ({ Model }) => {\n  const { state = {} }: any = useLocation();\n  const { id } = state;\n  return useData({ id, Model, initialState: { data: state } });\n};\n","import * as React from 'react';\nimport { useTableFilter } from '../components/application/GenericTable/helpers';\nimport { tables } from './dbConfig';\nimport useTable from './useTable';\n\nexport const useGroups = ({ table = undefined, tab = undefined, requestParams = undefined } = {}) => {\n  const { state, handleRequest } = useTable({ TableName: tables.groups });\n  const { data, loading, success } = state as any;\n\n  const handleRefresh = React.useCallback(() => {\n    handleRequest(requestParams);\n    // eslint-disable-next-line\n  }, [JSON.stringify(requestParams), handleRequest]);\n\n  React.useEffect(() => {\n    handleRefresh();\n  }, [handleRefresh, table, tab]);\n\n  const rows = Object.keys(data).map(k => ({ ...data[k] }));\n\n  return {\n    data: useTableFilter(rows, table),\n    handleRefresh,\n    loading,\n    success\n  };\n};\n","import * as React from 'react';\nimport { Grid, Box, Divider } from '@material-ui/core';\nimport ChildPage from '../ChildPage';\nimport { useHandleChangeRouteLayout } from '../../layout/hooks';\nimport { tables } from '../../../database/dbConfig';\nimport { getClassTitle, isEmpty } from '../../../helpers';\nimport useFormState from '../../hooks/useFormState';\nimport DialogButton from '../../application/GenericDialog/DialogButton';\nimport * as CreateGroupDialog from '../../application/GenericDialog/CreateGroup';\nimport Group from './Group';\nimport { useFullScreen } from '../../../hooks';\nimport { useGroups } from '../../../database/useGroups';\nimport { useClassData } from '../../../database/useClassData';\n\nconst Model = tables.classesAdmin;\nconst validate = ({ name }) => {\n  const newErrors = {};\n  if (isEmpty(name)) {\n    newErrors['name'] = 'Required';\n  }\n  return newErrors;\n};\n\nconst TitleButton = ({ subtitle = undefined, initialValues = undefined, onClose, disabled }) => (\n  <Grid container style={{ width: 270 }} spacing={1} justify='center'>\n    <Grid item xs={12}>\n      <DialogButton\n        Module={CreateGroupDialog}\n        onClose={onClose}\n        subtitle={subtitle}\n        variant='styled'\n        size='large'\n        fullWidth\n        disabled={disabled}\n        initialValues={initialValues}\n      >\n        Create Group\n      </DialogButton>\n    </Grid>\n    {/* No longer needed as groups will have access to all class content, so all groups will always be displayed and also always linked to all class content\n    <Grid item xs={12}>\n      <DialogButton\n        onClick={() => alert('To be implemented')}\n        subtitle={subtitle}\n        variant='styled'\n        styledVariant='secondary'\n        size='large'\n        fullWidth\n        disabled={disabled}\n      >\n        Add Existing Group\n      </DialogButton>\n    </Grid>\n    <Grid item xs={12}>\n      <DialogButton\n        onClick={() => alert('To be implemented')}\n        subtitle={subtitle}\n        variant='styled'\n        styledVariant='text'\n        size='large'\n        fullWidth\n        disabled={disabled}\n      >\n        View All Groups\n      </DialogButton>\n    </Grid>\n*/}\n  </Grid>\n);\n\nexport default function ClassRoster() {\n  const { data }: any = useClassData({ Model });\n  const { name, headline } = data;\n\n  // TODO: Add logic to retreive class, if no class found, then automatically create the class for the instructor, disable everything until this is done.\n  const handleChangeRouteLayout = useHandleChangeRouteLayout();\n  const { formState, handleUpdate } = useFormState({ Model, validate, onSuccess: handleChangeRouteLayout('/Classes') });\n  const { loading } = formState;\n  const fullScreen = useFullScreen();\n  const { data: groups, handleRefresh } = useGroups();\n\n  return (\n    <ChildPage\n      backLabel='Back to Class'\n      onBack={handleChangeRouteLayout('/ClassDashboard', { class: data })}\n      title={getClassTitle({ headline, name })}\n      subtitle='Class Roster'\n      TitleButton={props => (\n        <TitleButton\n          subtitle={getClassTitle({ headline, name })}\n          initialValues={{ class: data }}\n          disabled={loading}\n          onClose={handleRefresh}\n          onClick={handleUpdate(data)}\n          {...props}\n        />\n      )}\n    >\n      <Box mt={2}>\n        <Divider />\n        <Grid container style={{ padding: !fullScreen ? 24 : 8 }} spacing={3}>\n          {groups.map((g, i) => (\n            <Grid item key={g?.id} xs={12}>\n              <Group {...g} mount={i === 0} />\n            </Grid>\n          ))}\n        </Grid>\n      </Box>\n    </ChildPage>\n  );\n}\n","import * as React from 'react';\nimport { Container, Grid, Typography } from '@material-ui/core';\nimport Page from './Page';\n\nexport default function TermsAndConditions() {\n  return (\n    <Container maxWidth='md'>\n      <Page title='Terms and Conditions'>\n        <Grid container spacing={2}>\n          <Grid item>\n            <Typography>\n              DOORS offers materials for educational purposes. We are not a health care or medical device provider, and our materials should be interpreted as\n              medical advice. We make no claims, representations or guarantees that the teaching materials we provide offer physical or therapeutic benefit.\n            </Typography>\n          </Grid>\n          <Grid item>\n            <Typography>\n              Materials are intended for general information purposes only. They are not intended to be relied upon and are not a substitute for professional\n              medical advice based on an individual’s condition or unique circumstances. Educational materials we offer are not intended to replace medical\n              treatment or advice.\n            </Typography>\n          </Grid>\n          <Grid item>\n            <Typography>\n              You assume full responsibility for your decisions and actions. We make no representation or warranties about the accuracy, completeness, or\n              suitability for any purpose of the advice, other materials and information published as part of our educational materials.​\n            </Typography>\n          </Grid>\n        </Grid>\n      </Page>\n    </Container>\n  );\n}\n","import * as React from 'react';\nimport { Container, Grid } from '@material-ui/core';\nimport Page from './Page';\nimport StyledButton from '../general/StyledButton';\nimport DialogButton from '../application/GenericDialog/DialogButton';\nimport * as AddStudentDialog from '../application/GenericDialog/AddStudent';\nimport * as Icons from '@material-ui/icons';\n\nexport default function StyleGuide() {\n  return (\n    <Container maxWidth='md'>\n      <Page title='Style Guide'>\n        <Grid container spacing={2}>\n          <Grid item>\n            <StyledButton variant='primary'>Primary</StyledButton>\n            <StyledButton variant='primary' pressed={true}>\n              Primary Pressed\n            </StyledButton>\n            <StyledButton variant='primary' disabled={true}>\n              Primary Disabled\n            </StyledButton>\n          </Grid>\n          <Grid item>\n            <StyledButton variant='secondary'>Secondary</StyledButton>\n            <StyledButton variant='secondary' pressed={true}>\n              Secondary Pressed\n            </StyledButton>\n            <StyledButton variant='secondary' disabled={true}>\n              Secondary Disabled\n            </StyledButton>\n          </Grid>\n          <Grid>\n            <StyledButton variant='text'>Text</StyledButton>\n            <StyledButton variant='text' pressed={true}>\n              Text Pressed\n            </StyledButton>\n            <StyledButton variant='text' disabled={true}>\n              Text Disabled\n            </StyledButton>\n          </Grid>\n          <Grid item xs={12}>\n            <DialogButton maxWidth='xl' fullWidth Module={AddStudentDialog} Icon={Icons.Add} size='large' variant='styled' tooltip=''>\n              Add Student\n            </DialogButton>\n          </Grid>\n        </Grid>\n      </Page>\n    </Container>\n  );\n}\n","import * as React from 'react';\nimport clsx from 'clsx';\nimport { Card, Typography, makeStyles, Grid, Tooltip } from '@material-ui/core';\nimport { grey } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles(({ palette, spacing }) => ({\n  root: {},\n  header: ({ minHeight = 116 }: any) => ({\n    minHeight,\n    color: palette.common.black,\n    padding: spacing(2)\n  }),\n  actions: {\n    display: 'flex',\n    alignItems: 'flex-end',\n    justifyContent: 'flex-end'\n  },\n  circle: {\n    borderRadius: 50,\n    width: 36,\n    height: 36,\n    color: palette.primary.main,\n    border: `2px solid ${palette.primary.main}`,\n    cursor: 'pointer',\n    '&:hover': {\n      color: palette.common.white,\n      background: palette.primary.light\n    }\n  },\n  circleSelected: {\n    borderRadius: 50,\n    width: 36,\n    height: 36,\n    color: palette.common.white,\n    border: `2px solid ${palette.primary.light}`,\n    background: palette.primary.main,\n    cursor: 'pointer'\n  },\n  circleLast: {\n    borderRadius: 50,\n    width: 36,\n    height: 36,\n    color: grey[600],\n    border: `2px solid ${grey[600]}`,\n    cursor: 'pointer',\n    '&:hover': {\n      color: palette.common.white,\n      background: palette.primary.light\n    }\n  },\n  circleLastSelected: {\n    borderRadius: 50,\n    width: 36,\n    height: 36,\n    color: palette.common.white,\n    border: `2px solid ${grey[600]}`,\n    background: palette.primary.main,\n    cursor: 'pointer'\n  }\n}));\n\nexport default function SurveyQuestionCard({\n  title = undefined,\n  item = {} as any,\n  index = undefined,\n  className = undefined,\n  titleProps = undefined,\n  minHeight = undefined,\n  rankingModel = [],\n  onChange = undefined,\n  answerKey,\n  lastAnswerKey = undefined,\n  children = undefined,\n  ...rest\n}) {\n  const classes = useStyles({ minHeight });\n  const { name } = item;\n  const Title = title ? title : name ?? '';\n\n  return (\n    <Card className={clsx(classes.root, className)} {...rest}>\n      <div className={classes.header}>\n        {Title && (\n          <Grid container spacing={1}>\n            <Grid item xs>\n              {Title && (\n                <Typography noWrap gutterBottom variant='h5' color='primary' {...titleProps}>\n                  {Title}\n                </Typography>\n              )}\n            </Grid>\n          </Grid>\n        )}\n        <Grid container spacing={2}>\n          {rankingModel.map(rm => {\n            const { id } = rm;\n\n            const answer = item[answerKey] ?? {};\n            const { id: selectedId } = answer;\n\n            const lastAnswer = selectedId ? item[lastAnswerKey] ?? {} : {}; // Only show last answer if answer is selected\n            const { id: lastSelectedId } = lastAnswer;\n\n            return (\n              <Grid item key={id}>\n                <>\n                  <div\n                    className={\n                      id === selectedId && id === lastSelectedId\n                        ? classes.circleLastSelected\n                        : id === selectedId && id !== lastSelectedId\n                        ? classes.circleSelected\n                        : id !== selectedId && id === lastSelectedId\n                        ? classes.circleLast\n                        : classes.circle\n                    }\n                    onClick={onChange && onChange({ ...item, [`${answerKey}`]: rm })}\n                  >\n                    <Tooltip open={lastSelectedId === id} title={'Last Answer'}>\n                      <Typography variant='h5' align='center' color='inherit'>\n                        {Number(id) + 1}\n                      </Typography>\n                    </Tooltip>\n                  </div>\n                </>\n              </Grid>\n            );\n          })}\n        </Grid>\n      </div>\n    </Card>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Box } from '@material-ui/core';\nimport { BlockListItem } from './BlockList';\nimport SurveyQuestionCard from './SurveyQuestionCard';\n\nexport interface SurveyQuestionItem extends BlockListItem {\n  id: string;\n  name: string;\n  preSurveyAnswer: any;\n  postSurveyAnswer: any;\n}\n\nexport default function SurveyQuestions({\n  readonly = true,\n  value = [],\n  rankingModel = [],\n  showIndexBadges = undefined,\n  answerKey,\n  lastAnswerKey = undefined,\n  onChange\n}) {\n  const value_str = JSON.stringify(value);\n\n  const handleChange = React.useCallback(\n    item => () => {\n      const value = JSON.parse(value_str);\n      const index = value.findIndex(v => v.id === item.id);\n      if (index >= 0) {\n        value[index] = item;\n      }\n      onChange({ target: { value } });\n    },\n    [value_str, onChange]\n  );\n\n  return (\n    <>\n      <Box mt={1}>\n        <Grid container spacing={2}>\n          {value.map((item, i) => (\n            <Grid key={i} item lg={4} sm={6} xs={12}>\n              <SurveyQuestionCard\n                answerKey={answerKey}\n                lastAnswerKey={lastAnswerKey}\n                item={item}\n                index={showIndexBadges && i}\n                minHeight={112}\n                titleProps={{ noWrap: false, variant: 'h6', color: 'textPrimary' }}\n                rankingModel={rankingModel}\n                onChange={readonly !== true && handleChange}\n              />\n            </Grid>\n          ))}\n        </Grid>\n      </Box>\n    </>\n  );\n}\n","import React from 'react';\nimport { makeStyles, createStyles, withStyles, Theme } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nconst StyledLinearProgress = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      height: 10,\n      borderRadius: 5\n    },\n    colorPrimary: {\n      backgroundColor: theme.palette.grey[theme.palette.type === 'light' ? 200 : 700]\n    },\n    bar: {\n      borderRadius: 5,\n      backgroundColor: '#F1C30A'\n    }\n  })\n)(LinearProgress);\n\nconst useStyles = makeStyles({\n  root: {\n    flexGrow: 1\n  }\n});\n\nexport default function BorderedLinearProgress({ value, ...other }) {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <StyledLinearProgress variant='determinate' value={value} {...other} />\n    </div>\n  );\n}\n","import React from 'react';\nimport { Box, Typography } from '@material-ui/core';\nimport BorderLinearProgress from './BorderLinearProgress';\n\nexport default function ({ value }) {\n  return (\n    <Box mt={1} mb={1}>\n      <Typography>Your Progress</Typography>\n      <Box mt={1} mb={1}>\n        <BorderLinearProgress value={value} style={{ minWidth: 160 }} />\n      </Box>\n    </Box>\n  );\n}\n","import * as React from 'react';\nimport { Typography, makeStyles, Tooltip } from '@material-ui/core';\n\nconst useStyles = makeStyles(({ palette, spacing }) => ({\n  circle: ({ width }: any) => ({\n    borderRadius: 50,\n    width,\n    height: 36,\n    border: `2px solid ${palette.primary.main}`\n  }),\n  circleText: {\n    textAlign: 'center',\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n}));\n\nexport default function CircleText({ text = undefined, width = 36, tooltip = undefined, placement = 'left' as any, children = undefined, ...rest }) {\n  const classes = useStyles({ width });\n\n  const Content = (\n    <Typography variant='h5' align='center' color='primary'>\n      {text}\n    </Typography>\n  );\n\n  return (\n    <div className={classes.circle} {...rest}>\n      {tooltip ? (\n        <Tooltip placement={placement} title={tooltip}>\n          {Content}\n        </Tooltip>\n      ) : (\n        Content\n      )}\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { Box, Grid } from '@material-ui/core';\nimport ActionCard from '../../general/ActionCard';\nimport CircleText from '../../general/CircleText';\n\nexport default function RankingModel({ rankingModel = [] }) {\n  return (\n    <ActionCard title='Ranking Model' minHeight={0}>\n      <Box pl={2} pr={2}>\n        <Grid container spacing={1}>\n          {rankingModel.map(({ id, name }) => (\n            <Grid item xs={12} key={id}>\n              <Grid container spacing={1} alignItems='center'>\n                <Grid item>\n                  <CircleText text={Number(id) + 1} />\n                </Grid>\n                <Grid item xs>\n                  {name}\n                </Grid>\n              </Grid>\n            </Grid>\n          ))}\n        </Grid>\n      </Box>\n    </ActionCard>\n  );\n}\n","import * as React from 'react';\nimport { useHandleChangeRouteLayout, useLayoutKey } from '../components/layout/hooks';\nimport { tables } from './dbConfig';\nimport useData from './useData';\n\nexport const useSessionData = () => {\n  const session = useLayoutKey('session');\n\n  // Set active to false to use the session in the layout and prevent reading from the server everytime.\n  // There is currently no need to read the session everytime for a single student\n  const { data, updateData, setData, ...other } = useData({ active: false, id: session?.id, Model: tables.sessions, initialState: { data: session } });\n\n  const handleChangeRouteLayout = useHandleChangeRouteLayout();\n\n  const session_str = JSON.stringify(data);\n\n  const handleSaveSession = React.useCallback(\n    nextRoute => () => {\n      updateData({ currentRoute: nextRoute }, handleChangeRouteLayout(nextRoute, { session: JSON.parse(session_str) }));\n    },\n    [updateData, handleChangeRouteLayout, session_str]\n  );\n\n  const handleSaveCompleteSession = React.useCallback(\n    nextRoute => () => {\n      updateData({ completed: true, currentRoute: nextRoute }, handleChangeRouteLayout(nextRoute, { session: JSON.parse(session_str) }));\n    },\n    [updateData, handleChangeRouteLayout, session_str]\n  );\n\n  return { session: data, handleSaveSession, handleSaveCompleteSession, updateData, setData, ...other };\n};\n","import * as React from 'react';\nimport { Box, Grid, Typography } from '@material-ui/core';\nimport Page from '../Page';\nimport SurveyQuestions from '../../general/SurveyQuestions';\nimport { useHandleChangeRoute } from '../../layout/hooks';\nimport StyledButton from '../../general/StyledButton';\nimport { useFullScreen } from '../../../hooks';\nimport YourProgress from '../../general/YourProgress';\nimport RankingModel from './RankingModel';\nimport { useSessionData } from '../../../database/useSessionData';\n\nconst nextRoute = '/Resources';\n\nexport default function PostSurvey() {\n  const { session, handleChange, handleSaveSession } = useSessionData();\n  const { completed, rankingModel = [], surveyQuestions = [] } = session;\n\n  const handleChangeRoute = useHandleChangeRoute();\n\n  const fs = useFullScreen();\n\n  // Only allow continue if all questions have been answered\n  const disabled = surveyQuestions.filter(sq => sq.postSurveyAnswer === undefined).length > 0;\n\n  return (\n    <Page title='Post-Survey' ActionButton={() => <YourProgress value={90} />}>\n      <Grid container spacing={fs ? 2 : 4}>\n        <Grid item xs={12} md={9}>\n          <Typography>Complete the following survey again and see how you've improved.</Typography>\n\n          <Typography>Don't worry if you don't see a big change, you can always take a lesson again!</Typography>\n          <Box mt={4}>\n            <SurveyQuestions\n              readonly={completed === true}\n              answerKey='postSurveyAnswer'\n              lastAnswerKey='preSurveyAnswer'\n              value={surveyQuestions}\n              rankingModel={rankingModel}\n              onChange={handleChange('surveyQuestions')}\n            />\n          </Box>\n          <Box mt={4}>\n            <Grid container spacing={2}>\n              <Grid item>\n                <StyledButton width={148} variant='secondary' onClick={handleChangeRoute('/Lesson')}>\n                  Back\n                </StyledButton>\n              </Grid>\n              <Grid item>\n                {completed === true ? (\n                  <StyledButton width={148} onClick={handleChangeRoute(nextRoute)}>\n                    Next\n                  </StyledButton>\n                ) : (\n                  <StyledButton disabled={disabled} width={148} onClick={handleSaveSession(nextRoute)}>\n                    Continue\n                  </StyledButton>\n                )}\n              </Grid>\n            </Grid>\n          </Box>\n        </Grid>\n        <Grid item xs={12} md={3}>\n          <RankingModel rankingModel={rankingModel} />\n        </Grid>\n      </Grid>\n    </Page>\n  );\n}\n","import * as React from 'react';\nimport clsx from 'clsx';\nimport { Card, Typography, makeStyles, Grid, Tooltip } from '@material-ui/core';\n\nconst useStyles = makeStyles(({ palette, spacing }) => ({\n  root: {},\n  header: ({ minHeight = 116 }: any) => ({\n    minHeight,\n    color: palette.common.black,\n    padding: spacing(2)\n  }),\n  actions: {\n    display: 'flex',\n    alignItems: 'flex-end',\n    justifyContent: 'flex-end'\n  },\n  circle: {\n    borderRadius: 50,\n    width: 156,\n    height: 36,\n    color: palette.primary.main,\n    border: `2px solid ${palette.primary.main}`,\n    cursor: 'pointer',\n    '&:hover': {\n      color: palette.common.white,\n      background: palette.primary.light\n    }\n  },\n  circleSelected: {\n    borderRadius: 50,\n    width: 156,\n    height: 36,\n    color: palette.common.white,\n    border: `2px solid ${palette.primary.light}`,\n    background: palette.primary.main,\n    cursor: 'pointer'\n  }\n}));\n\nexport default function AgeQuestionCard({\n  title = undefined,\n  readonly = undefined,\n  item = {} as any,\n  index = undefined,\n  className = undefined,\n  titleProps = undefined,\n  minHeight = undefined,\n  rankingModel = [],\n  onChange = undefined,\n  children = undefined,\n  ...rest\n}) {\n  const classes = useStyles({ minHeight });\n  const { name } = item;\n  const Title = title ? title : name ?? '';\n\n  return (\n    <Card className={clsx(classes.root, className)} {...rest}>\n      <div className={classes.header}>\n        {Title && (\n          <Grid container spacing={1}>\n            <Grid item xs>\n              {Title && (\n                <Typography noWrap gutterBottom variant='h5' color='primary' {...titleProps}>\n                  {Title}\n                </Typography>\n              )}\n            </Grid>\n          </Grid>\n        )}\n        <Grid container spacing={2}>\n          {rankingModel.map(rm => {\n            const { id } = rm;\n            const { preSurveyAnswer = {} } = item;\n            const { id: selectedId } = preSurveyAnswer;\n            return (\n              <Grid item key={id}>\n                <div\n                  className={id === selectedId ? classes.circleSelected : classes.circle}\n                  onClick={readonly !== true && onChange({ ...item, preSurveyAnswer: rm })}\n                >\n                  <Tooltip title={name}>\n                    <Typography variant='h5' align='center' color='inherit'>\n                      {id}\n                    </Typography>\n                  </Tooltip>\n                </div>\n              </Grid>\n            );\n          })}\n        </Grid>\n      </div>\n    </Card>\n  );\n}\n","import { SurveyQuestionItem } from '../../components/general/SurveyQuestions';\nimport { BlockListItem } from './../../components/general/BlockList';\n\nexport const defaultAgeRankingModels = [\n  {\n    id: 'Under 21'\n  },\n  {\n    id: '21-24'\n  },\n  {\n    id: '25-34'\n  },\n  {\n    id: '35-44'\n  },\n  {\n    id: '45-54'\n  },\n  {\n    id: '56-64'\n  },\n  {\n    id: '65 or older'\n  }\n];\n\nexport const defaultRankingModels: BlockListItem[] = [\n  {\n    id: '0',\n    rankingValue: 1,\n    name: 'I cannot do it on my own'\n  },\n  {\n    id: '1',\n    rankingValue: 2,\n    name: 'I can do it on my own, but with step by step directions'\n  },\n  {\n    id: '2',\n    rankingValue: 3,\n    name: 'I can do it mostly on my own, but may have a few questions'\n  },\n  {\n    id: '3',\n    rankingValue: 4,\n    name: 'I can do it on my own with ease'\n  },\n  {\n    id: '4',\n    rankingValue: 5,\n    name: 'I can do it and can teach someone else'\n  }\n].map(i => ({ ...i, canEdit: false, canLock: false, canDelete: false }));\n\nexport interface ClassData {\n  userId?: string; // user id of the admin or instructor user which created the class\n  headline?: string;\n  name?: string;\n  image?: string;\n  ageQuestion?: any;\n  keySkills?: BlockListItem[];\n  rankingModel?: BlockListItem[];\n  surveyQuestions?: SurveyQuestionItem[];\n  classPresentations?: any[];\n  classResources?: any[];\n  created?: number;\n  updated?: number;\n  deleted?: boolean;\n}\n\nexport default interface Class extends ClassData {\n  id?: string; // unique class id\n}\n","import * as React from 'react';\nimport { Box, Grid, Typography } from '@material-ui/core';\nimport Page from '../Page';\nimport SurveyQuestions from '../../general/SurveyQuestions';\nimport { useHandleChangeRoute } from '../../layout/hooks';\nimport StyledButton from '../../general/StyledButton';\nimport AgeQuestionCard from '../../general/AgeQuestionCard';\nimport { defaultAgeRankingModels } from '../../../database/models/Class';\nimport { useFullScreen } from '../../../hooks';\nimport YourProgress from '../../general/YourProgress';\nimport RankingModel from './RankingModel';\nimport { ageQuestionLabel } from '../../../constants';\nimport { useSessionData } from '../../../database/useSessionData';\n\nconst nextRoute = '/Lesson';\n\nexport default function PreSurvey() {\n  const { session, handleChange, handleSaveSession } = useSessionData();\n  const { ageQuestion = { name: ageQuestionLabel }, rankingModel = [], surveyQuestions = [] } = session;\n  const readonly = session?.completed === true;\n\n  const handleChangeRoute = useHandleChangeRoute();\n\n  const handleAgeChange = React.useCallback(value => () => handleChange('ageQuestion')({ target: { value } }), [handleChange]);\n\n  const fs = useFullScreen();\n\n  // Only allow continue if all questions have been answered\n  const disabled = [...surveyQuestions, ageQuestion].filter(sq => sq.preSurveyAnswer === undefined).length > 0;\n\n  return (\n    <Page title='Pre-Survey' ActionButton={() => <YourProgress value={20} />}>\n      <Grid container spacing={fs ? 2 : 4}>\n        <Grid item xs={12} md={9}>\n          <Typography>Before you start your lesson, please complete the following survey.</Typography>\n\n          <Typography>This will help you keep track of all of the new things you will learn!</Typography>\n          <Box mt={4}>\n            <AgeQuestionCard\n              readonly={readonly}\n              item={ageQuestion}\n              minHeight={112}\n              titleProps={{ noWrap: false, variant: 'h6', color: 'textPrimary' }}\n              rankingModel={defaultAgeRankingModels}\n              onChange={handleAgeChange}\n            />\n          </Box>\n          <Box mt={4}>\n            <SurveyQuestions\n              readonly={readonly}\n              answerKey='preSurveyAnswer'\n              value={surveyQuestions}\n              rankingModel={rankingModel}\n              onChange={handleChange('surveyQuestions')}\n            />\n          </Box>\n          <Box mt={4}>\n            {readonly ? (\n              <StyledButton width={148} disabled={disabled} onClick={handleChangeRoute(nextRoute)}>\n                Next\n              </StyledButton>\n            ) : (\n              <StyledButton width={148} disabled={disabled} onClick={handleSaveSession(nextRoute)}>\n                Continue\n              </StyledButton>\n            )}\n          </Box>\n        </Grid>\n        <Grid item xs={12} md={3}>\n          <RankingModel rankingModel={rankingModel} />\n        </Grid>\n      </Grid>\n    </Page>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Typography } from '@material-ui/core';\nimport Page from '../Page';\nimport ReactPlayer from 'react-player';\nimport { useHandleChangeRoute, useWidth } from '../../layout/hooks';\nimport StyledButton from '../../general/StyledButton';\nimport YourProgress from '../../general/YourProgress';\nimport { isEmpty } from '../../../helpers';\nimport { useSessionData } from '../../../database/useSessionData';\nimport useCombinedClasses from './useCombinedClasses';\n\nconst nextRoute = '/Post-Survey';\n\nexport default function Lesson() {\n  const { data } = useCombinedClasses();\n  const { session, handleSaveSession } = useSessionData();\n  const completed = session?.completed;\n\n  const contentPath = data?.classPresentation; // Class presentation always comes from the admin/instructor class data\n  const width = useWidth();\n  const handleChangeRoute = useHandleChangeRoute();\n  return (\n    <Page title='Lesson' ActionButton={() => <YourProgress value={75} />}>\n      <Grid container justify='center' spacing={3}>\n        <Grid item>\n          {isEmpty(contentPath) ? (\n            <Typography>Lesson has not been added. Please contact your administrator or instructor to setup the lesson.</Typography>\n          ) : (\n            <ReactPlayer url={contentPath} controls={true} width={Math.min(width - 32, 640)} />\n          )}\n        </Grid>\n        <Grid item xs={12}>\n          <Grid container spacing={2}>\n            <Grid item>\n              <StyledButton width={148} variant='secondary' onClick={handleChangeRoute('/Pre-Survey')}>\n                Back\n              </StyledButton>\n            </Grid>\n            <Grid item>\n              {completed ? (\n                <StyledButton width={148} onClick={handleChangeRoute(nextRoute)}>\n                  Next\n                </StyledButton>\n              ) : (\n                <StyledButton width={148} onClick={handleSaveSession(nextRoute)}>\n                  Continue\n                </StyledButton>\n              )}\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Page>\n  );\n}\n","import * as React from 'react';\nimport { Box, Grid, Typography } from '@material-ui/core';\nimport Page from '../Page';\nimport YourProgress from '../../general/YourProgress';\nimport StyledButton from '../../general/StyledButton';\nimport { useHandleChangeRoute } from '../../layout/hooks';\nimport { BlockListClassResource } from '../../general/BlockListClassResource';\nimport useCombinedClasses from './useCombinedClasses';\nimport { useSessionData } from '../../../database/useSessionData';\n\nconst nextRoute = '/Congratulations';\n\nexport default function Resources() {\n  const handleChangeRoute = useHandleChangeRoute();\n  const { data } = useCombinedClasses();\n  const { classResources = [] } = data;\n\n  const { session, handleSaveCompleteSession } = useSessionData();\n  const { completed } = session;\n\n  return (\n    <Page title='Resources' ActionButton={() => <YourProgress value={100} />}>\n      <>\n        <Typography>You can visit the following resources to complement your learning and practice your skills.</Typography>\n        <BlockListClassResource value={classResources} />\n        <Box mt={4}>\n          <Grid container spacing={2}>\n            <Grid item>\n              <StyledButton width={148} variant='secondary' onClick={handleChangeRoute('/Post-Survey')}>\n                Back\n              </StyledButton>\n            </Grid>\n\n            <Grid item>\n              {completed !== true ? (\n                <StyledButton width={148} onClick={handleSaveCompleteSession(nextRoute)}>\n                  End Session\n                </StyledButton>\n              ) : (\n                <StyledButton width={148} onClick={handleChangeRoute('/Classes')}>\n                  My Classes\n                </StyledButton>\n              )}\n            </Grid>\n          </Grid>\n        </Box>\n      </>\n    </Page>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Typography } from '@material-ui/core';\nimport Page from '../Page';\nimport YourProgress from '../../general/YourProgress';\nimport { useHandleChangeRoute, useWidth } from '../../layout/hooks';\nimport StyledButton from '../../general/StyledButton';\nimport { tables } from '../../../database/dbConfig';\nimport { useClassData } from '../../../database/useClassData';\nimport { isEmpty } from '../../../helpers';\nimport group from '../../../images/group.png';\n\nexport default function Congratulations() {\n  const changeRoute = useHandleChangeRoute();\n  const { data } = useClassData({ Model: tables.classesAdmin });\n  const { headline, name } = data;\n  const width = useWidth();\n\n  const displayText = [headline, name].filter(x => !isEmpty(x)).join(' - ');\n\n  return (\n    <Page title='Congratulations' ActionButton={() => <YourProgress value={100} />}>\n      <Grid container spacing={2}>\n        <Grid item xs={12}>\n          <Typography>{`You completed ${displayText}`}</Typography>\n        </Grid>\n        <Grid item xs>\n          <img src={group} alt='logo' style={{ width: Math.min(width - 32, 400) }} />\n        </Grid>\n        <Grid item xs={12}>\n          <StyledButton onClick={changeRoute('/Classes')}>Go to My Classes</StyledButton>\n        </Grid>\n      </Grid>\n    </Page>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Box, Typography, Divider } from '@material-ui/core';\nimport ChildPage from '../ChildPage';\nimport { useHandleChangeRoute, useUserId } from '../../layout/hooks';\nimport StyledButton from '../../general/StyledButton';\nimport Text from '../../application/DialogField/Text';\nimport { BlockList } from '../../general/BlockList';\nimport { isEmpty, uuid } from '../../../helpers';\nimport { tables } from '../../../database/dbConfig';\nimport ImageSelector from '../../application/DialogField/ImageSelector';\nimport useFormState from '../../hooks/useFormState';\nimport Class, { defaultRankingModels } from '../../../database/models/Class';\nimport { BlockListClassResource } from '../../general/BlockListClassResource';\nimport { useIsAdminMode } from '../../../hooks';\nimport { BlockListClassPresentation } from '../../general/BlockListClassPresentation';\n\nconst validate = ({ name }) => {\n  const newErrors = {};\n  if (isEmpty(name)) {\n    newErrors['name'] = 'Required';\n  }\n  return newErrors;\n};\n\nexport default function CreateClass() {\n  const userId = useUserId();\n  const isAdminMode = useIsAdminMode();\n  const Model = isAdminMode ? tables.classesAdmin : tables.classesInstructor;\n\n  const handleChangeRoute = useHandleChangeRoute();\n  const { formState, handleCreate } = useFormState({ Model, validate, onSuccess: handleChangeRoute('/Classes') });\n  const { loading, errors } = formState;\n\n  const [state, setState] = React.useState({\n    id: uuid(),\n    userId,\n    name: '',\n    image: 'wifi',\n    headline: '',\n    keySkills: [],\n    surveyQuestions: [],\n    rankingModel: defaultRankingModels,\n    classResources: [],\n    classPresentation: ''\n  } as Class);\n\n  const { name, headline, image, keySkills, rankingModel, surveyQuestions, classResources, classPresentations } = state;\n\n  const handleChange = React.useCallback(\n    key => ({ target }) => {\n      const { value } = target;\n      setState(prev => ({ ...prev, [`${key}`]: value }));\n    },\n    [setState]\n  );\n\n  return (\n    <ChildPage backLabel='Back to Classes' onBack={handleChangeRoute('/Classes')} title='Create New Class'>\n      <Box mt={2}>\n        <Divider />\n        <Grid container style={{ marginTop: 16 }} spacing={3}>\n          <Grid item xs={12}>\n            <Text\n              error={errors['headline']}\n              autoFocus\n              disabled={loading}\n              placeholder='Enter Class Headline'\n              value={headline}\n              onChange={handleChange('headline')}\n              label='Class Headline'\n              fullWidth={false}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <Text\n              error={errors['name']}\n              disabled={loading}\n              placeholder='Enter Class Name'\n              value={name}\n              onChange={handleChange('name')}\n              label='Class Name'\n              fullWidth={false}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <ImageSelector error={errors['image']} disabled={loading} value={image} onChange={handleChange('image')} label='Associated Image' />\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant='caption' color='textPrimary'>\n              Edit Class Materials\n            </Typography>\n            <BlockList title='Key Skills' value={keySkills} add={true} edit={true} remove={true} onChange={handleChange('keySkills')} />\n          </Grid>\n          <Grid item xs={12}>\n            <BlockList\n              title='Survey Questions'\n              subtitle='Questions are related to the class materials and will be rated by students from 1 to 5 based on the Ranking Model'\n              value={surveyQuestions}\n              add={true}\n              edit={true}\n              remove={true}\n              onChange={handleChange('surveyQuestions')}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <BlockList\n              title='Ranking Model'\n              showIndexBadges={true}\n              value={rankingModel}\n              add={false}\n              edit={true}\n              remove={false}\n              onChange={handleChange('rankingModel')}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <BlockListClassPresentation\n              title='Class Presentation Videos'\n              subtitle='Add links to the class presentation videos that are relevant to the lesson'\n              value={classPresentations}\n              add={true}\n              edit={true}\n              onChange={handleChange('classPresentations')}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <BlockListClassResource\n              title='Class Resources'\n              subtitle='Add links to resources that are relevant to the lesson'\n              value={classResources}\n              add={true}\n              onChange={handleChange('classResources')}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <StyledButton onClick={handleCreate(state)}>Create New Class</StyledButton>\n          </Grid>\n        </Grid>\n      </Box>\n    </ChildPage>\n  );\n}\n","import * as React from 'react';\nimport { makeStyles, Grid, Paper, Typography, Divider, TextField, CircularProgress, Link } from '@material-ui/core';\nimport { createStyles } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport BrandLogoImage from '../../images/logo.svg';\nimport { isEmpty } from '../../helpers';\nimport { useLogin, useHeight } from './hooks';\nimport { getUrlParamater } from '../../hooks';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    root: ({ height }: any) => ({\n      background: palette.common.white,\n      color: palette.primary.main,\n      height,\n      overflowY: 'auto'\n    }),\n    paper: {\n      marginTop: 32,\n      width: 300\n    },\n    disclaimer: {\n      marginTop: 32,\n      paddingLeft: 16,\n      paddingRight: 16,\n      maxWidth: 650\n    },\n    panelarea: {\n      background: '#F5F5F5'\n    },\n    button: {\n      background: palette.primary.main,\n      color: palette.common.white,\n      '&:hover': {\n        background: palette.primary.dark,\n        color: palette.common.white\n      }\n    },\n    wrapper: {\n      marginTop: 8,\n      width: 224\n    },\n    buttonProgress: {\n      position: 'absolute',\n      top: '25%',\n      left: '50%',\n      marginTop: -8,\n      marginLeft: -12\n    }\n  })\n);\n\nexport default function ForgotPassword({ email: Email = '', onBack, onSuccess = undefined }) {\n  const id = getUrlParamater('i');\n  const BannerMsg = isEmpty(id) ? '' : 'You must log in prior to accepting an invite.  If you do not have an account yet, please create a new account.';\n\n  const height = useHeight();\n  const classes = useStyles({ height });\n  const noAutoComplete = true;\n  var buttonRef = React.useRef(null);\n\n  const [state, setState] = React.useState({\n    loading: false,\n    errors: {},\n    forgotPassword: true,\n    email: Email,\n    newPassword: '',\n    confirmNewPassword: '',\n    confirmationCode: '',\n    enterNewPassword: false\n  });\n\n  const { loading, errors, forgotPassword, email, newPassword, enterNewPassword, confirmNewPassword, confirmationCode } = state;\n\n  const { handleLogin } = useLogin({ state, setState, onSuccess });\n\n  const handleReset = React.useCallback(() => {\n    handleLogin({ forgotPassword, email, enterNewPassword, confirmationCode, newPassword });\n  }, [forgotPassword, confirmationCode, handleLogin, email, enterNewPassword, newPassword]);\n\n  const handleChange = React.useCallback(\n    (name: string) => (event: any) => {\n      const value = event.target.value;\n      setState(prev => ({ ...prev, errors: {}, [name]: value }));\n    },\n    [setState]\n  );\n\n  const handleEnterReset = React.useCallback(() => {\n    setState(prev => ({ ...prev, enterNewPassword: true }));\n  }, [setState]);\n\n  const handleBack = React.useCallback(() => {\n    if (enterNewPassword) {\n      setState(prev => ({ ...prev, enterNewPassword: false }));\n    } else {\n      onBack && onBack();\n    }\n  }, [enterNewPassword, onBack]);\n\n  // Per https://stackoverflow.com/questions/50604671/programmatically-disabling-chrome-auto-fill\n  // The only way to prevent auto fill is autocomplete=newpassword\n  // Note this only prevents the browser from auto populating the fields, it does not prevent chromes new password manager\n  return (\n    <div\n      className={classes.root}\n      onKeyUp={(e: any) => {\n        if (e.keyCode === 13) {\n          // Enter key\n          buttonRef.current && buttonRef.current.click();\n        }\n      }}\n    >\n      <form autoComplete='off'>\n        <Grid container direction='column' justify='center' alignItems='center'>\n          <Grid item>\n            <Typography color='error' align='center' className={classes.disclaimer}>\n              {BannerMsg}\n            </Typography>\n          </Grid>\n          <Grid item xs={12}>\n            <Paper className={classes.paper}>\n              <Typography align='center' className={classes.panelarea}>\n                <img src={BrandLogoImage} alt='logo' style={{ height: 124 }} />\n              </Typography>\n              <Divider />\n              <Grid container spacing={1} direction='column' justify='center' alignItems='center' style={{ padding: 16 }}>\n                <Grid item>\n                  <TextField\n                    autoComplete={noAutoComplete ? 'new-password' : undefined}\n                    id='email'\n                    label='Email'\n                    disabled={loading}\n                    value={email}\n                    onChange={handleChange('email')}\n                    margin='dense'\n                    variant='outlined'\n                    error={isEmpty(errors['email']) ? false : true}\n                    helperText={errors['email']}\n                    autoFocus={!enterNewPassword || isEmpty(Email) ? true : false}\n                    InputLabelProps={{\n                      shrink: true\n                    }}\n                  />\n                </Grid>\n                {enterNewPassword && (\n                  <>\n                    <Grid item>\n                      <TextField\n                        id='confirmationCode'\n                        label='Confirmation Code'\n                        disabled={loading}\n                        value={confirmationCode}\n                        onChange={handleChange('confirmationCode')}\n                        margin='dense'\n                        variant='outlined'\n                        autoFocus={isEmpty(Email) ? false : true}\n                        error={isEmpty(errors['confirmationCode']) ? false : true}\n                        helperText={errors['confirmationCode']}\n                        InputLabelProps={{\n                          shrink: true\n                        }}\n                      />\n                    </Grid>\n                    <Grid item>\n                      <TextField\n                        autoComplete={noAutoComplete ? 'new-password' : undefined}\n                        id='newPassword'\n                        type='password'\n                        label='New Password'\n                        disabled={loading}\n                        value={newPassword}\n                        onChange={handleChange('newPassword')}\n                        margin='dense'\n                        variant='outlined'\n                        error={isEmpty(errors['newPassword']) ? false : true}\n                        helperText={errors['newPassword']}\n                        InputLabelProps={{\n                          shrink: true\n                        }}\n                      />\n                    </Grid>\n                    <Grid item>\n                      <TextField\n                        autoComplete={noAutoComplete ? 'new-password' : undefined}\n                        id='confirmNewPassword'\n                        type='password'\n                        label='Confirm New Password'\n                        disabled={loading}\n                        value={confirmNewPassword}\n                        onChange={handleChange('confirmNewPassword')}\n                        margin='dense'\n                        variant='outlined'\n                        error={isEmpty(errors['confirmNewPassword']) ? false : true}\n                        helperText={errors['confirmNewPassword']}\n                        InputLabelProps={{\n                          shrink: true\n                        }}\n                      />\n                    </Grid>\n                  </>\n                )}\n                <Grid item>\n                  <div className={classes.wrapper}>\n                    <Button ref={buttonRef} fullWidth={true} disabled={loading} variant='contained' className={classes.button} onClick={handleReset}>\n                      Reset Password\n                    </Button>\n                    {loading && <CircularProgress size={24} className={classes.buttonProgress} />}\n                  </div>\n                </Grid>\n                <Grid item>\n                  <div className={classes.wrapper}>\n                    <Button ref={buttonRef} fullWidth={true} disabled={loading} variant='contained' onClick={handleBack}>\n                      Back\n                    </Button>\n                  </div>\n                </Grid>\n                {!enterNewPassword && (\n                  <Grid item>\n                    <div style={{ marginTop: 16 }}>\n                      <Link style={{ marginLeft: 8, cursor: 'pointer' }} underline='always' color='inherit' onClick={handleEnterReset}>\n                        Enter Reset Confirmation Code\n                      </Link>\n                    </div>\n                  </Grid>\n                )}\n              </Grid>\n            </Paper>\n          </Grid>\n        </Grid>\n      </form>\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { useUserType } from '../../hooks';\nimport { useHandleChangeRoute } from '../layout/hooks';\nimport ChildPage from './ChildPage';\n\nexport default function AccessDenied() {\n  const userType = useUserType();\n  const changeRoute = useHandleChangeRoute();\n  return (\n    <ChildPage\n      backLabel='Back to Classes'\n      onBack={changeRoute('/Classes')}\n      title={'Access Denied'}\n      subtitle={`You are not authorized to view this page.  Your are signed in as ${userType === 'Student' ? 'a' : 'an'} ${userType}`}\n    ></ChildPage>\n  );\n}\n","import React from 'react';\nimport Chart from 'react-apexcharts';\nimport { Card, CardContent, Typography, useTheme } from '@material-ui/core';\nimport { ageQuestionLabel } from '../../../constants';\nimport { defaultAgeRankingModels } from '../../../database/models/Class';\n\nexport default function AgeChart({ data = [] }) {\n  const theme = useTheme();\n\n  const chartData = {\n    options: {\n      chart: {\n        background: theme.palette.background.paper,\n        toolbar: {\n          show: false\n        }\n      },\n      colors: ['#13affe', '#fbab49'],\n      dataLabels: {\n        enabled: false\n      },\n      grid: {\n        borderColor: theme.palette.divider,\n        yaxis: {\n          lines: {\n            show: false\n          }\n        }\n      },\n      legend: {\n        show: true,\n        labels: {\n          colors: theme.palette.text.secondary\n        }\n      },\n      plotOptions: {\n        bar: {\n          columnWidth: '40%'\n        }\n      },\n      stroke: {\n        show: true,\n        width: 2,\n        colors: ['transparent']\n      },\n      theme: {\n        mode: theme.palette.type\n      },\n      tooltip: {\n        theme: theme.palette.type\n      },\n      xaxis: {\n        axisBorder: {\n          show: true,\n          color: theme.palette.divider\n        },\n        axisTicks: {\n          show: true,\n          color: theme.palette.divider\n        },\n        categories: defaultAgeRankingModels.map(m => m.id),\n        labels: {\n          style: {\n            colors: theme.palette.text.secondary\n          }\n        }\n      },\n      yaxis: {\n        axisBorder: {\n          show: true,\n          color: theme.palette.divider\n        },\n        axisTicks: {\n          show: true,\n          color: theme.palette.divider\n        },\n        labels: {\n          style: {\n            colors: theme.palette.text.secondary\n          }\n        }\n      }\n    },\n    series: [\n      {\n        name: 'Participants',\n        data\n      }\n    ]\n  };\n\n  return (\n    <Card>\n      <CardContent>\n        <Typography variant='subtitle1' color='textPrimary'>\n          {ageQuestionLabel}\n        </Typography>\n        <Chart options={chartData.options} series={chartData.series} type='bar' height='300' />\n      </CardContent>\n    </Card>\n  );\n}\n","import * as React from 'react';\nimport { Box, Divider, Grid, Typography } from '@material-ui/core';\nimport ActionCard from '../../general/ActionCard';\nimport CircleText from '../../general/CircleText';\n\nconst ResultSummary = ({ answers = [] }) => {\n  return (\n    <>\n      <Typography>\n        {answers.length} answer{answers.length === 1 ? '' : 's'} provided\n      </Typography>\n      {answers.length > 0 && <Divider style={{ background: 'white', marginBottom: 8 }} />}\n      <Grid container>\n        {answers.map(answer => (\n          <Grid item xs={12}>\n            <Grid container justify='space-between'>\n              <Grid item>{answer.studentId ?? 'Unknown student'}</Grid>\n              <Grid item>{answer.value}</Grid>\n            </Grid>\n          </Grid>\n        ))}\n      </Grid>\n    </>\n  );\n};\n\nexport default function SurveyResults({ title = 'Pre-Survey', valueKey = 'pre', surveyResults = [] }) {\n  return (\n    <ActionCard title={title} minHeight={0}>\n      <Box pl={2} pr={2}>\n        <Grid container spacing={1}>\n          {surveyResults.map((sr, i) => {\n            const { question } = sr;\n            const value = sr[`${valueKey}AnswersAverage`];\n            const answers = sr[`${valueKey}Answers`];\n            return (\n              <Grid item xs={12} key={i}>\n                <Grid container spacing={1} alignItems='center'>\n                  <Grid item xs>\n                    {question}\n                  </Grid>\n                  <Grid item>\n                    <CircleText text={value} width={64} tooltip={<ResultSummary answers={answers} />} />\n                  </Grid>\n                </Grid>\n              </Grid>\n            );\n          })}\n        </Grid>\n      </Box>\n    </ActionCard>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Box, Divider, Typography } from '@material-ui/core';\nimport ChildPage from '../ChildPage';\nimport { useHandleChangeRouteLayout, useLayout } from '../../layout/hooks';\nimport { tables } from '../../../database/dbConfig';\nimport { getClassTitle, getDateFromTimestamp, isEmpty, onlyUnique } from '../../../helpers';\nimport { useFullScreen } from '../../../hooks';\nimport { useClassData } from '../../../database/useClassData';\nimport useTableRow from '../../../database/useTableRow';\nimport useGroupStudents from '../../../database/useGroupStudents';\nimport RankingModel from './RankingModel';\nimport { Participants } from './Participants';\nimport MarginDivider from '../../application/DialogField/MarginDivider';\nimport AgeChart from './AgeChart';\nimport SurveyResults from './SurveyResults';\nimport useSessions from '../../../database/useSessions';\nimport { defaultAgeRankingModels, defaultRankingModels } from '../../../database/models/Class';\nimport Session from '../../../database/models/Session';\nimport Decimal from 'decimal.js-light';\n\nconst Model = tables.classesAdmin;\n\nconst getRankingValue = id => {\n  return defaultRankingModels.find(rm => rm.id === id)?.rankingValue;\n};\n\nconst getReportData = (sessions: Session[]) => {\n  const surveyQuestions = sessions.map(s => s.surveyQuestions).reduce((f, c) => f.concat(c), []);\n  const surveyQuestionNames = surveyQuestions.map(sq => sq.name).filter(onlyUnique);\n\n  var results = [];\n\n  // For each question create an array of the ranking model and the number of answers for each ranking model\n  surveyQuestionNames.forEach(question => {\n    var preAnswers = [];\n    var postAnswers = [];\n    sessions.forEach(session => {\n      session.surveyQuestions.forEach(sq => {\n        if (sq.name === question) {\n          if (!isEmpty(sq.preSurveyAnswer)) {\n            preAnswers = [\n              ...preAnswers,\n              {\n                studentId: session.studentId,\n                value: getRankingValue(sq.preSurveyAnswer.id)\n              }\n            ];\n          }\n          if (!isEmpty(sq.postSurveyAnswer)) {\n            postAnswers = [\n              ...postAnswers,\n              {\n                studentId: session.studentId,\n                value: getRankingValue(sq.postSurveyAnswer.id)\n              }\n            ];\n          }\n        }\n      });\n    });\n\n    results.push({\n      question,\n      preAnswers,\n      postAnswers,\n      preAnswersAverage: new Decimal(preAnswers.reduce((t, c) => t + c.value, 0)).dividedBy(preAnswers.length).toDecimalPlaces(2).toNumber(),\n      postAnswersAverage: new Decimal(postAnswers.reduce((t, c) => t + c.value, 0)).dividedBy(postAnswers.length).toDecimalPlaces(2).toNumber()\n    });\n  });\n\n  return {\n    ageQuestionData: defaultAgeRankingModels.map(rm => sessions.filter(s => s.ageQuestion.preSurveyAnswer.id === rm.id).length),\n    results\n  };\n};\n\nexport default function ClassReport() {\n  const [state, setState] = React.useState({ loading: false });\n  const [{ groupId }] = useLayout();\n  const { row: group } = useTableRow({ Model: tables.groups, id: groupId, state, setState });\n  const { activeStudents } = useGroupStudents({ groupId });\n\n  const { sessions } = useSessions();\n  const completed = sessions.filter(c => c.completed === true);\n  //const inProgress = sessions.filter(c => c.completed !== true);\n\n  const { results, ageQuestionData } = getReportData(completed);\n\n  const { data }: any = useClassData({ Model });\n  const { rankingModel } = data;\n  const { name, headline } = data;\n\n  const handleChangeRouteLayout = useHandleChangeRouteLayout();\n  const fs = useFullScreen();\n\n  // TODO filter sessions that only apply to the associated group\n  // Retreive all student rows for the associated groupiD and classId\n  // Show the average answer for the age group question\n  // For each pre-survey question, show the averaged answer\n  // For each post-survey question, show the averaged answer\n\n  return (\n    <ChildPage\n      backLabel='Back to Class Roster'\n      onBack={handleChangeRouteLayout('/ClassRoster', { class: data })}\n      title={getClassTitle({ headline, name })}\n      subtitle='Class Report'\n    >\n      <Box mt={2}>\n        <Divider />\n        <Grid container style={{ padding: !fs ? 24 : 8 }} spacing={fs ? 2 : 4}>\n          <Grid item xs={12} md={6}>\n            <Typography variant='h5'>{group?.name}</Typography>\n            {!isEmpty(group?.location) && <Typography variant='body2'>Location: {group?.location}</Typography>}\n            {!isEmpty(group?.type) && <Typography variant='body2'>Type: {group?.location}</Typography>}\n            {!isEmpty(group?.created) && (\n              <Box mt={1}>\n                <Typography variant='caption'>Created on {getDateFromTimestamp(group?.created)}</Typography>\n              </Box>\n            )}\n          </Grid>\n          <Grid item xs={12} md={6}>\n            <RankingModel rankingModel={rankingModel} />\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant='h6'>Average Group Answers</Typography>\n            <MarginDivider />\n            <Grid container spacing={3}>\n              <Grid item xs={12} md={4}>\n                <AgeChart data={ageQuestionData} />\n              </Grid>\n              <Grid item xs={12} md={4}>\n                <SurveyResults title='Pre-Survey (Averages)' surveyResults={results} valueKey='pre' />\n              </Grid>\n              <Grid item xs={12} md={4}>\n                <SurveyResults title='Post-Survey (Averages)' surveyResults={results} valueKey='post' />\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant='h6'>View Individual Answers</Typography>\n            <MarginDivider />\n            <Box mt={2}>\n              <Grid container>\n                <Grid item xs>\n                  {[{ students: activeStudents, label: 'Class Participants', view: false, viewReport: true, remove: false }]\n                    .filter(i => i.students.length > 0)\n                    .map((props, i) => (\n                      <Participants key={i} {...props} />\n                    ))}\n                </Grid>\n              </Grid>\n            </Box>\n          </Grid>\n        </Grid>\n      </Box>\n    </ChildPage>\n  );\n}\n","import * as React from 'react';\nimport { Route, Switch } from 'react-router';\nimport { publicUrl } from '../../helpers';\nimport PlayGround from './PlayGround';\nimport Instructors from '../pages/Instructors';\nimport Profile from '../pages/Profile/Profile';\nimport Calendar from '../pages/Calendar';\nimport Classes from '../pages/Class/Classes';\nimport ClassDashboard from '../pages/Class/ClassDashboard';\nimport ClassMaterials from '../pages/Class/ClassMaterials';\nimport ClassRoster from '../pages/Class/ClassRoster';\nimport TermsAndConditions from '../pages/TermsAndConditions';\nimport StyleGuide from '../pages/StyleGuide';\nimport PostSurvey from '../pages/Class/PostSurvey';\nimport PreSurvey from '../pages/Class/PreSurvey';\nimport Lesson from '../pages/Class/Lesson';\nimport Resources from '../pages/Class/Resources';\nimport Congratulations from '../pages/Class/Congratulations';\nimport CreateClass from '../pages/Class/CreateClass';\nimport ForgotPassword from './ForgotPassword';\nimport { useHandleChangeRoute, useUserEmail } from './hooks';\nimport { useUserType } from '../../hooks';\nimport AccessDenied from '../pages/AccessDenied';\nimport ClassReport from '../pages/Class/ClassReport';\n\nconst ForgotPasswordRoute = () => {\n  const email = useUserEmail();\n  const changeRoute = useHandleChangeRoute();\n  return <ForgotPassword email={email} onBack={changeRoute('/Profile')} onSuccess={changeRoute('/Profile')} />;\n};\n\nconst ProtectedRoute = ({ userTypes = [], ...other }) => {\n  const userType = useUserType();\n  const denied = userTypes.length > 0 && !userTypes.includes(userType) ? true : false;\n  return denied ? <AccessDenied /> : <Route {...other} />;\n};\n\nconst Routes = () => (\n  <Switch>\n    <ProtectedRoute userTypes={['Admin']} exact path={publicUrl('/PlayGround')} component={PlayGround} />\n    <ProtectedRoute userTypes={['Admin']} exact path={publicUrl('/Instructors')} component={Instructors} />\n    <ProtectedRoute userTypes={['Instructor', 'Admin']} exact path={publicUrl('/StyleGuide')} component={StyleGuide} />\n    <ProtectedRoute userTypes={['Instructor', 'Admin']} exact path={publicUrl('/CreateClass')} component={CreateClass} />\n    <ProtectedRoute userTypes={['Instructor', 'Admin']} exact path={publicUrl('/ClassMaterials')} component={ClassMaterials} />\n    <ProtectedRoute userTypes={['Instructor', 'Admin']} exact path={publicUrl('/ClassDashboard')} component={ClassDashboard} />\n    <ProtectedRoute userTypes={['Instructor', 'Admin']} exact path={publicUrl('/ClassRoster')} component={ClassRoster} />\n    <ProtectedRoute userTypes={['Instructor', 'Admin']} exact path={publicUrl('/ClassReport')} component={ClassReport} />\n    <Route exact path={publicUrl('/TermsAndConditions')} component={TermsAndConditions} />\n    <Route exact path={publicUrl('/Profile')} component={Profile} />\n    <Route exact path={publicUrl('/Calendar')} component={Calendar} />\n    <Route exact path={publicUrl('/Classes')} component={Classes} />\n    <ProtectedRoute exact path={publicUrl('/Lesson')} component={Lesson} />\n    <ProtectedRoute exact path={publicUrl('/Pre-Survey')} component={PreSurvey} />\n    <ProtectedRoute exact path={publicUrl('/Post-Survey')} component={PostSurvey} />\n    <ProtectedRoute exact path={publicUrl('/Resources')} component={Resources} />\n    <ProtectedRoute exact path={publicUrl('/Congratulations')} component={Congratulations} />\n    <ProtectedRoute exact path={publicUrl('/ForgotPassword')} component={ForgotPasswordRoute} />\n    <Route path={'/'} component={Classes} />\n  </Switch>\n);\n\nexport default Routes;\n","import * as React from 'react';\nimport { triggerResize, isEmpty } from '../../../helpers';\nimport { Tabs, Tab, Typography, createStyles, makeStyles, Container } from '@material-ui/core';\nimport useTabSelector from '../../application/Selector/useTabSelector';\nimport { useLocation } from 'react-router';\n\nexport interface ComponentProps {\n  id?: string;\n  tab?: string;\n  tabs?: TabSelectorItem[];\n  orientation?: string;\n  rounded?: boolean;\n  wrapped?: boolean;\n  minHeight?: number;\n  onChange?: any;\n  classes?: any;\n}\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    root: ({ rounded }) => ({\n      background: palette.common.white,\n      color: palette.text.primary,\n      borderRadius: rounded ? undefined : 0,\n      padding: 0\n    }),\n    tabs: ({ minHeight }: any) => ({\n      minHeight,\n      borderRadius: 'inherit'\n    }),\n    indicator: {\n      background: palette.primary.main,\n      color: palette.common.white,\n      '&:hover': {\n        color: palette.common.white,\n      },\n      height: 6,\n      marginBottom: 4,\n      zIndex: 0,\n      borderRadius: 25,\n    },\n    labelIcon: ({ minHeight }: any) => ({\n      zIndex: 1,\n      minHeight,\n      color: palette.primary.dark,\n    }),\n    selected: ({ minHeight }: any) => ({\n      color: palette.primary.main\n    }),\n    tabroot: ({ minHeight }: any) => ({\n      padding: 0,\n      zIndex: 1,\n      minWidth: 0,\n      minHeight,\n    }),\n    wrapper: {\n      display: 'inline-flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      width: '100%',\n      flexDirection: 'column',\n      borderRadius: 'inherit'\n    }\n  })\n);\n\nexport interface TabSelectorItem {\n  id: string;\n  label?: string;\n  icon?: any;\n  route?: any;\n  Component?: any;\n}\n\nconst TabSelectorToolBar = ({ id, tabs = [], orientation, wrapped, minHeight = 64, rounded = true, onChange }: ComponentProps) => {\n  const classes = useStyles({ minHeight, rounded });\n\n  const [tabSelector, setTabSelector] = useTabSelector(id);\n  const selected = tabSelector.value;\n\n  const { pathname } = useLocation();\n\n  const tabId = tabs[0] && tabs[0].id;\n  const tabRoute = tabs.find((t) => t.id === selected)?.route;\n  const tabToSelect = pathname !== tabRoute && tabs.find((t) => t.route === pathname);\n\n  React.useEffect(() => {\n    isEmpty(selected) && setTabSelector({ value: tabId }); // Select the first tab by default when empty\n    tabToSelect && setTabSelector({ value: tabToSelect.id });\n    triggerResize();\n  }, [setTabSelector, selected, tabId, tabToSelect]);\n\n  React.useEffect(() => {\n    triggerResize(); //User has roated the device, so trigger a resize so the indicator updates correctly\n  }, [orientation]);\n\n  const handleChange = React.useCallback(\n    (event, value) => {\n      setTabSelector({ value });\n      onChange && onChange(value);\n    },\n    [setTabSelector, onChange]\n  );\n\n  const { value = tabs[0].id } = tabSelector;\n\n  return (\n    <Container className={classes.root}>\n      <Tabs variant='fullWidth' className={classes.tabs} scrollButtons='off' value={value} onChange={handleChange} classes={{ indicator: classes.indicator }}>\n        {!tabs ? (\n          <></>\n        ) : (\n            tabs.map((t) => (\n              <Tab\n                key={t.id}\n                classes={{\n                  root: classes.tabroot,\n                  labelIcon: classes.labelIcon,\n                  wrapper: classes.wrapper,\n                  wrapped: classes.labelIcon,\n                  selected: classes.selected\n                }}\n                icon={t.icon && <t.icon style={{ marginBottom: 0 }} />}\n                value={t.id}\n                wrapped={wrapped}\n                label={\n                  <Typography variant='caption' style={{ maxWidth: `calc(100% - ${2}px)` }} noWrap={!wrapped}>\n                    {t.label ? t.label : t.id}\n                  </Typography>\n                }\n              />\n            ))\n          )}\n      </Tabs>\n    </Container>\n  );\n};\n\nexport default TabSelectorToolBar;\n","import { useUserType } from './../../hooks';\nimport * as Icons from '@material-ui/icons';\n\nconst allTabs = [\n  { id: 'My Classes', icon: Icons.Apps, route: '/Classes' },\n  { id: 'Instructors', icon: Icons.SupervisorAccount, route: '/Instructors', userTypes: ['Admin'] },\n  { id: 'My Calendar', icon: Icons.Event, route: '/Calendar' },\n  { id: 'My Profile', icon: Icons.AccountBox, route: '/Profile' },\n  { id: 'Help', icon: Icons.Help, userTypes: ['Instructor', 'Student'] }\n];\n\nexport default function useTabs() {\n  const userType = useUserType();\n  const tabs = allTabs.filter(t => t.userTypes === undefined || t.userTypes.find(ut => ut === userType));\n  const tabs_s = JSON.stringify(tabs.map(t => ({ id: t.id, route: t.route })));\n  return { tabs, tabs_s };\n}\n","import { region, identityPoolIdUnauth, adminUsers, sourceEmailAddress } from '../../../../../package.json';\nexport const AWS = require('aws-sdk'); // Load the AWS SDK for Node.js\n\n// Initialize the Amazon Cognito credentials provider\nAWS.config.region = region;\nAWS.config.credentials = new AWS.CognitoIdentityCredentials({\n  IdentityPoolId: identityPoolIdUnauth\n});\n\nexport const sendHelpEmail = ({ name, email, message, onSuccess = undefined, onError = undefined }) => {\n  const body = `Help Request - Doors Web Application:\n    <p>Name: ${name}</p>  \n    <p>User Email: ${email}</p>  \n    <p>Message: ${message}</p>\n    `;\n\n  // Create sendEmail params\n  var params = {\n    Destination: {\n      /* required */ CcAddresses: [],\n      ToAddresses: adminUsers.split(',')\n    },\n    Message: {\n      /* required */\n      Body: {\n        /* required */\n        Html: {\n          Charset: 'UTF-8',\n          Data: body\n        },\n        Text: {\n          Charset: 'UTF-8',\n          Data: body\n        }\n      },\n      Subject: {\n        Charset: 'UTF-8',\n        Data: `Help Request - Doors Web Application`\n      }\n    },\n    Source: sourceEmailAddress,\n    ReplyToAddresses: [email]\n  };\n\n  // Create the promise and SES service object\n  var sendPromise = new AWS.SES({ apiVersion: '2010-12-01' }).sendEmail(params).promise();\n\n  // Handle promise's fulfilled/rejected states\n  sendPromise\n    .then(function (data) {\n      onSuccess && onSuccess(data);\n    })\n    .catch(function (err) {\n      console.error(err, err.stack);\n      onError && onError(err);\n    });\n};\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport Label from '../../DialogField/Label';\nimport MarginDivider from '../../DialogField/MarginDivider';\nimport { sendHelpEmail } from './helpers';\nimport { useUserEmail } from '../../../layout/hooks';\nimport { useDialogState } from '../useDialogState';\nimport { useSnackBar } from '../../SnackBar/useSnackBar';\n\nexport const title = 'Get In Touch';\n\nexport default function HelpDialog({ id = title, onClose = undefined, ...other }) {\n  const [, setState] = useDialogState(id);\n  const [, setSnackbar] = useSnackBar();\n\n  const handleClose = React.useCallback(\n    (props = undefined) => {\n      props && setSnackbar(props);\n      setState(prev => ({ ...prev, open: false, loading: false }));\n      onClose && onClose();\n    },\n    [onClose, setState, setSnackbar]\n  );\n\n  const onError = React.useCallback(() => {\n    handleClose({ open: true, variant: 'success', message: 'Error sending message' });\n  }, [handleClose]);\n\n  const onSuccess = React.useCallback(() => {\n    handleClose({ open: true, variant: 'success', message: 'Successfully sent message' });\n  }, [handleClose]);\n\n  const handleSubmit = React.useCallback(\n    ({ name, email, message }, setValues) => {\n      sendHelpEmail({ name, email, message, onSuccess, onError });\n    },\n    [onSuccess, onError]\n  );\n\n  return (\n    <GenericDialog\n      id={id}\n      title={id}\n      onClose={onClose}\n      submitLabel={'Send'}\n      onSubmit={handleSubmit}\n      fields={[\n        {\n          label: 'If you have any questions or comments about the program, send a message to the program administrators.',\n          Field: Label\n        },\n        {\n          Field: MarginDivider\n        },\n        {\n          id: 'email',\n          label: 'Your Email',\n          initialValue: useUserEmail(),\n          required: true,\n          email: true,\n          InputProps: {\n            readOnly: true\n          }\n        },\n        {\n          id: 'name',\n          label: 'Your Name',\n          placeholder: 'Enter your name',\n          required: true\n        },\n        {\n          id: 'message',\n          label: 'Your Message',\n          required: true,\n          multiline: true,\n          rows: 6,\n          placeholder: 'Enter your message'\n        }\n      ]}\n      {...other}\n    />\n  );\n}\n","import * as React from 'react';\nimport { makeStyles, Grid, IconButton, Menu, MenuItem } from '@material-ui/core';\nimport { createStyles } from '@material-ui/core';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport logo from '../../images/logo.svg';\nimport { useAppBarHeightRef, useChangeRoute, useLayout, useLeftDrawer, useLogout } from './hooks';\nimport { useCanChangeUserType, useSignedIn, useFullScreen, useContentPadding } from '../../hooks';\nimport { beta } from '../../constants';\nimport TabSelectorToolBar from '../general/TabSelector/TabSelectorToolBar';\nimport * as Icons from '@material-ui/icons';\nimport useTabSelector from '../application/Selector/useTabSelector';\nimport useTabs from './useTabs';\nimport * as HelpDialog from '../application/GenericDialog/Help';\nimport { useDialogState } from '../application/GenericDialog/useDialogState';\nimport { renderDialogModule } from '../application/GenericDialog/DialogButton';\nimport { defaultUserState } from './store';\n\nconst useStyles = makeStyles(({ breakpoints, palette, zIndex, layout }: any) =>\n  createStyles({\n    appBar: ({ contentPadding }: any) => ({\n      zIndex: zIndex.drawer + 1,\n      paddingTop: beta ? layout.footerheight : 0,\n      color: palette.primary.main,\n      background: palette.common.white,\n      paddingLeft: contentPadding,\n      paddingRight: contentPadding\n    }),\n    appBarFullScreen: {\n      paddingTop: beta ? layout.footerheight : 0,\n      background: palette.common.white,\n      color: palette.primary.dark\n    },\n    logo: {\n      paddingLeft: 8,\n      paddingRight: 16,\n      height: layout.toolbarheight,\n      [breakpoints.down('xs')]: {\n        display: 'none'\n      },\n      cursor: 'pointer'\n    },\n    active: {\n      backgroundColor: palette.primary.dark\n    },\n    toolbar: {\n      background: palette.white\n    },\n    menuButton: {\n      marginLeft: 0,\n      color: palette.primary.main,\n      [breakpoints.up('md')]: {\n        display: 'none'\n      }\n    }\n  })\n);\n\nconst tabSelectorId = 'AppBar';\nconst AppBarTabSelector = props => {\n  const { tabs } = useTabs();\n  return <TabSelectorToolBar id={tabSelectorId} tabs={tabs} {...props} />;\n};\n\nexport default function ApplicationBar() {\n  const contentPadding = useContentPadding();\n  const classes = useStyles({ contentPadding });\n  const signedIn = useSignedIn();\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n  const open = Boolean(anchorEl);\n\n  const [{ prevId }, setState] = useDialogState(HelpDialog.title);\n  const { tabs, tabs_s } = useTabs();\n  const [, setTabSelector] = useTabSelector(tabSelectorId);\n\n  const onLogout = useLogout();\n\n  const [, setLeftDrawerOpen] = useLeftDrawer();\n  const handleOpenLeftDrawer = React.useCallback(() => setLeftDrawerOpen(true), [setLeftDrawerOpen]);\n\n  const handleLogout = React.useCallback(() => {\n    onLogout();\n    setAnchorEl(null);\n  }, [setAnchorEl, onLogout]);\n\n  const changeRoute = useChangeRoute();\n\n  const handleTabChange = React.useCallback(\n    value => {\n      const { id, route } = JSON.parse(tabs_s).find(t => t.id === value);\n      if (id === 'Help') {\n        setState(prev => ({ ...prev, open: true })); // Open the dialog, track previous tab\n      } else {\n        changeRoute(route);\n        setState(prev => ({ prevId: id })); // Open the dialog, track previous tab\n      }\n    },\n    [changeRoute, setState, tabs_s]\n  );\n\n  const defaultTabId = tabs[0].id;\n  const defaultTabRoute = tabs[0].route;\n\n  const handleLogoClick = React.useCallback(() => {\n    setTabSelector(defaultTabId);\n    changeRoute(defaultTabRoute);\n  }, [setTabSelector, changeRoute, defaultTabId, defaultTabRoute]);\n\n  const handleMenu = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = React.useCallback(() => {\n    setAnchorEl(null);\n  }, [setAnchorEl]);\n\n  const handleHelpClose = React.useCallback(() => {\n    setTabSelector({ value: prevId });\n  }, [setTabSelector, prevId]);\n\n  const fullScreen = useFullScreen('xs');\n  const [, , leftDrawerEnabled] = useLeftDrawer();\n\n  const [, setLayout] = useLayout();\n  const resetUserType = React.useCallback(() => {\n    setLayout(defaultUserState);\n  }, [setLayout]);\n\n  const canChangeUserType = useCanChangeUserType();\n\n  return (\n    <AppBar ref={useAppBarHeightRef()} position='fixed' color='inherit' elevation={1} className={fullScreen ? classes.appBarFullScreen : classes.appBar}>\n      {renderDialogModule({ ...HelpDialog, onClose: handleHelpClose })}\n      <Toolbar className={classes.toolbar} disableGutters={true}>\n        {leftDrawerEnabled && (\n          <IconButton color='inherit' aria-label='open drawer' edge='start' onClick={handleOpenLeftDrawer} className={classes.menuButton}>\n            <Icons.Menu />\n          </IconButton>\n        )}\n        <Grid container alignItems='center' spacing={0}>\n          <Grid item>\n            <img className={classes.logo} src={logo} alt='logo' onClick={handleLogoClick} />\n          </Grid>\n          <Grid item xs style={{ marginLeft: 4, marginRight: 4, minWidth: 0 }}>\n            <AppBarTabSelector onChange={handleTabChange} />\n          </Grid>\n          <Grid item>\n            <Grid container justify='flex-end' alignItems='center'>\n              <Grid item>\n                <IconButton color='inherit' aria-label='account of current user' aria-haspopup='true' onClick={handleMenu}>\n                  {signedIn ? <Icons.AccountCircleTwoTone /> : <Icons.AccountCircle />}\n                </IconButton>\n                <Menu\n                  id='menu-appbar'\n                  anchorEl={anchorEl}\n                  anchorOrigin={{\n                    vertical: 'top',\n                    horizontal: 'right'\n                  }}\n                  keepMounted\n                  transformOrigin={{\n                    vertical: 'top',\n                    horizontal: 'right'\n                  }}\n                  open={open}\n                  onClose={handleClose}\n                  MenuListProps={{ style: { paddingTop: signedIn ? 0 : undefined } }}\n                >\n                  {[\n                    { label: 'Change User Type', onClick: resetUserType, filter: canChangeUserType },\n                    { label: 'Sign Out', onClick: handleLogout, filter: true }\n                  ]\n                    .filter(({ filter }) => filter)\n                    .map(({ label, onClick }) => (\n                      <MenuItem key={label} onClick={onClick}>\n                        {label}\n                      </MenuItem>\n                    ))}\n                </Menu>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Toolbar>\n    </AppBar>\n  );\n}\n","import * as React from 'react';\nimport { makeStyles, createStyles, Toolbar, Link, AppBar, Typography, Grid } from '@material-ui/core';\nimport { theme, beta } from '../../constants';\nimport { useFullScreen, useUserType } from '../../hooks';\nimport { useHandleChangeRoute, useUserEmail } from './hooks';\n\nconst useStyles = makeStyles(({ palette, zIndex }: any) =>\n  createStyles({\n    bottomAppBar: {\n      top: 'auto',\n      bottom: 0,\n      zIndex: zIndex.drawer + 1,\n      background: palette.primary.dark,\n      color: palette.common.white\n    },\n    bottomAppBarBeta: {\n      top: 0,\n      background: palette.primary.main,\n      color: palette.common.white,\n      zIndex: zIndex.drawer + 1\n    },\n    bottomToolBar: {\n      minHeight: (theme as any).layout.footerheight\n    },\n    pointer: {\n      cursor: 'pointer'\n    }\n  } as any)\n);\n\nexport default function Footer() {\n  const classes = useStyles({});\n  const fullScreen = useFullScreen();\n\n  const email = useUserEmail();\n  const handleChangeRoute = useHandleChangeRoute();\n  const userType = useUserType();\n\n  return (\n    <>\n      <AppBar position='fixed' color='primary' className={classes.bottomAppBar}>\n        <Toolbar className={classes.bottomToolBar}>\n          <Grid container justify='flex-start'>\n            <Grid item xs={fullScreen ? 5 : 2} zeroMinWidth>\n              <Typography noWrap variant='body2' align='left'>\n                <Link href='https://www.digitalpsych.org/' target='_blank' variant='body2' color='inherit'>\n                  Division of Digital Psychiatry\n                </Link>\n              </Typography>\n            </Grid>\n            {!fullScreen && (\n              <Grid item xs={7} zeroMinWidth>\n                <Typography noWrap variant='body2' align='center'>\n                  <Link href='https://www.bidmc.org/' target='_blank' variant='body2' color='inherit'>\n                    This website is made possible by support from ...\n                  </Link>\n                </Typography>\n              </Grid>\n            )}\n            <Grid item xs={fullScreen ? 7 : 3} zeroMinWidth>\n              <Typography noWrap variant='body2' align='right'>\n                <Link className={classes.pointer} variant='body2' color='inherit' onClick={handleChangeRoute('/TermsAndConditions')}>\n                  Terms and Conditions\n                </Link>\n              </Typography>\n            </Grid>\n          </Grid>\n        </Toolbar>\n      </AppBar>\n      {beta && (\n        <AppBar elevation={1} position='fixed' color='secondary' className={classes.bottomAppBarBeta}>\n          <Toolbar className={classes.bottomToolBar}>\n            <Grid container justify='center' spacing={2}>\n              <Grid item xs={4}>\n                {!fullScreen && (\n                  <Link color='inherit' noWrap className={classes.pointer} onClick={handleChangeRoute('/StyleGuide')}>\n                    {userType} Portal - Under Construction\n                  </Link>\n                )}\n              </Grid>\n              <Grid item xs={8}>\n                <Grid container justify='flex-end' spacing={1}>\n                  <Grid item>\n                    <Typography noWrap variant='body2' align='right'>\n                      {fullScreen ? email : `Welcome, ${email}`}\n                    </Typography>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Toolbar>\n        </AppBar>\n      )}\n    </>\n  );\n}\n","import * as React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport clsx from 'clsx';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport InfoIcon from '@material-ui/icons/Info';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { amber, green } from '@material-ui/core/colors';\nimport IconButton from '@material-ui/core/IconButton';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport { useSnackBar } from './useSnackBar';\n\nconst variantIcon = {\n  success: CheckCircleIcon,\n  warning: WarningIcon,\n  error: ErrorIcon,\n  info: InfoIcon\n};\n\nconst useStyles = makeStyles(theme => ({\n  success: {\n    backgroundColor: green[600]\n  },\n  error: {\n    backgroundColor: theme.palette.error.dark\n  },\n  info: {\n    backgroundColor: theme.palette.primary.main\n  },\n  warning: {\n    backgroundColor: amber[700]\n  },\n  icon: {\n    fontSize: 20\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing(1)\n  },\n  message: {\n    display: 'flex',\n    alignItems: 'center'\n  }\n}));\n\nexport default function SnackBar({ className = undefined, ...other }) {\n  const classes = useStyles({});\n  const [{ open, message, variant = 'success' }, setSnackBar] = useSnackBar();\n  const handleClose = React.useCallback((event, reason) => reason !== 'clickaway' && setSnackBar({ open: false }), [setSnackBar]);\n  const Icon = variantIcon[variant];\n  return (\n    <Snackbar\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'right'\n      }}\n      open={open}\n      autoHideDuration={3000}\n      onClose={handleClose}\n    >\n      <SnackbarContent\n        className={clsx(classes[variant], className)}\n        aria-describedby='client-snackbar'\n        message={\n          <span id='client-snackbar' className={classes.message}>\n            <Icon className={clsx(classes.icon, classes.iconVariant)} />\n            {message}\n          </span>\n        }\n        action={[\n          <IconButton key='close' aria-label='close' color='inherit' onClick={handleClose as any}>\n            <CloseIcon className={classes.icon} />\n          </IconButton>\n        ]}\n        {...other}\n      />\n    </Snackbar>\n  );\n}\n","import * as React from 'react';\nimport { createStyles } from '@material-ui/core';\nimport Drawer from '@material-ui/core/Drawer';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useAppBarHeight, useHeight, useLeftDrawer } from './hooks';\nimport LeftDrawerContent from './LeftDrawerContent';\nimport { useFullScreen } from '../../hooks';\n\nconst useStyles = makeStyles(({ palette, breakpoints, layout }: any) =>\n  createStyles({\n    drawer: {\n      [breakpoints.up('sm')]: {\n        width: layout.leftDrawerWidth,\n        flexShrink: 0\n      }\n    },\n    drawerPaper: ({ height, appBarHeight }: any) => ({\n      padding: 8,\n      marginTop: appBarHeight,\n      width: layout.leftDrawerWidth,\n      height: height - (appBarHeight + layout.footerheight),\n      background: palette.primary.light,\n      color: palette.common.white,\n      [breakpoints.down('sm')]: {\n        height: '100%'\n      }\n    }),\n    drawerPaperTemporary: {\n      width: layout.leftDrawerWidth\n    }\n  })\n);\n\nconst LeftDrawer = () => {\n  const height = useHeight();\n  const fullScreen = useFullScreen();\n  const appBarHeight = useAppBarHeight();\n  const classes = useStyles({ height, appBarHeight });\n  const [leftDrawer, setLeftDrawer] = useLeftDrawer();\n  const handleLeftDrawerClose = React.useCallback(() => setLeftDrawer(false), [setLeftDrawer]);\n\n  return (\n    <nav className={classes.drawer} aria-label='navigation drawer'>\n      <Drawer\n        variant='temporary'\n        open={fullScreen && leftDrawer}\n        onClose={handleLeftDrawerClose}\n        classes={{\n          paper: classes.drawerPaperTemporary\n        }}\n        ModalProps={{\n          keepMounted: true // Better open performance on mobile.\n        }}\n      >\n        <LeftDrawerContent />\n      </Drawer>\n      <Drawer\n        classes={{\n          paper: classes.drawerPaper\n        }}\n        variant='persistent'\n        open={leftDrawer}\n      >\n        <LeftDrawerContent />\n      </Drawer>\n    </nav>\n  );\n};\n\nexport default LeftDrawer;\n","import * as React from 'react';\nimport { makeStyles, createStyles, useTheme } from '@material-ui/core';\nimport ApplicationBar from './ApplicationBar';\nimport Footer from './Footer';\nimport SnackBar from '../application/SnackBar/SnackBar';\nimport { useAppBarHeight, useHeight, useLeftDrawer } from './hooks';\nimport { useLocation } from 'react-router';\nimport { useContentPadding, useFullScreen } from '../../hooks';\nimport LeftDrawer from './LeftDrawer';\n\nconst useStyles = makeStyles(({ breakpoints, palette, transitions, layout }: any) =>\n  createStyles({\n    root: {\n      display: 'static'\n    },\n    content: ({ leftDrawerOpen }) => ({\n      flexGrow: 1,\n      backgroundColor: palette.common.white,\n      marginLeft: leftDrawerOpen ? layout.leftDrawerWidth : 0,\n      [breakpoints.down('sm')]: {\n        marginLeft: 0,\n        flexShrink: 0\n      },\n      transition: transitions.create(['margin'], {\n        easing: transitions.easing.easeOut,\n        duration: transitions.duration.enteringScreen\n      })\n    }),\n    innerContent: ({ overflow = 'auto', contentHeight, contentPadding, padInnerContent = true }) => ({\n      height: contentHeight - (!padInnerContent ? 0 : contentPadding * 2 + 1),\n      overflow,\n      padding: padInnerContent ? contentPadding : 0,\n      color: palette.primary.dark\n    }),\n    toolbar: ({ appBarHeight }: any) => ({\n      background: palette.white,\n      height: appBarHeight\n    })\n  })\n);\n\nexport default function Layout({ children }) {\n  const { pathname } = useLocation();\n  const height = useHeight();\n  const appBarHeight = useAppBarHeight();\n\n  const { layout }: any = useTheme();\n  const { noPadPaths, noScrollPaths } = layout;\n  const componentsOnPage = [appBarHeight, layout.footerheight];\n  var contentHeight = height - componentsOnPage.reduce((t, c) => t + c, 0);\n  const [leftDrawerOpen] = useLeftDrawer();\n  const fullScreen = useFullScreen();\n\n  const contentPadding = useContentPadding();\n  const classes = useStyles({\n    contentPadding,\n    padInnerContent: noPadPaths.findIndex(p => p === pathname) > -1 ? false : true,\n    overflow: noScrollPaths.findIndex(p => p === pathname) > -1 ? 'hidden' : 'auto',\n    contentHeight,\n    appBarHeight,\n    leftDrawerOpen,\n    fullScreen\n  });\n\n  return (\n    <div data-testid='app-container' className={classes.root}>\n      <main className={classes.content}>\n        <ApplicationBar />\n        <LeftDrawer />\n        <div className={classes.toolbar} />\n        <div className={classes.innerContent}>{children}</div>\n        <Footer />\n        <SnackBar />\n      </main>\n    </div>\n  );\n}\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport { bool, copyToLower, isEmpty as isValEmpty } from '../../../../helpers';\nimport { useDialogState } from '../useDialogState';\nimport { Auth } from 'aws-amplify';\nimport DialogButton from '../DialogButton';\nimport { useLogin } from '../../../layout/hooks';\nimport Check from '../../DialogField/Check';\nconst passwordValidator = require('password-validator');\nexport const title = 'Create New Account';\n\n// create a password schema\nconst schema = new passwordValidator();\n\nschema.is().min(8).has().uppercase().has().lowercase().has().digits().has().symbols();\n\nconst formatPasswordValidateError = errors => {\n  for (let i = 0; i < errors.length; i++) {\n    if (errors[i] === 'min') {\n      return 'Password length should be a at least 8 characters';\n    } else if (errors[i] === 'lowercase') {\n      return 'Password should contain lowercase letters';\n    } else if (errors[i] === 'uppercase') {\n      return 'Password should contain uppercase letters';\n    } else if (errors[i] === 'digits') {\n      return 'Password should contain digits';\n    } else if (errors[i] === 'symbols') {\n      return 'Password should contain symbols';\n    }\n  }\n};\n\nconst handleValidation = (values, dialogState) => {\n  const { agree, password, confirmationCodeError, confirmPassword, message } = values;\n  var errors = copyToLower(dialogState.errors); // start with server generated errors, ensure all keys start with lowercase letter\n\n  if (password !== confirmPassword) {\n    errors['confirmPassword'] = 'Passwords must match.';\n    errors['password'] = 'Passwords must match.';\n  }\n\n  const validationRulesErrors = schema.validate(password, { list: true });\n  if (validationRulesErrors.length > 0) {\n    errors['password'] = formatPasswordValidateError(validationRulesErrors);\n  }\n\n  if (!isValEmpty(message)) {\n    if (message.includes('password') || message.includes('Password')) {\n      errors['confirmPassword'] = message;\n      errors['password'] = message;\n    } else {\n      errors['email'] = message;\n    }\n  }\n\n  if (!isValEmpty(confirmationCodeError)) {\n    errors['confirmationCode'] = confirmationCodeError;\n  }\n\n  if (bool(agree) !== true) {\n    errors['agree'] = 'You must agree to the terms and conditions to proceed.';\n  }\n\n  return errors;\n};\n\nconst EnterConfirmationCode = ({ value = false, onChange }) => {\n  const handleClick = () => onChange({ target: { value: !value } });\n  return (\n    <DialogButton variant='link' tooltip='' onClick={handleClick}>\n      {value ? 'Back' : 'Enter Verification Code'}\n    </DialogButton>\n  );\n};\n\nexport default function RegisterDialog({ id = title }) {\n  const [dialogState, setState] = useDialogState(id);\n  const { confirm } = dialogState;\n  const dialogStateStr = JSON.stringify(dialogState);\n\n  const { handleLogin } = useLogin({ dialogState, setState });\n\n  const handleAdd = React.useCallback(\n    (values, setValues) => {\n      console.log('Creating account');\n      const { email, password } = values;\n      setState(prev => ({ ...prev, loading: true, showErrors: false, errors: {} }));\n      Auth.signUp({\n        username: email,\n        password,\n        attributes: {\n          email,\n          name: email\n        }\n      })\n        .then(result => {\n          console.log('Succesfully signed up user!');\n          setState(prev => ({ ...prev, open: true, loading: false, errors: {} }));\n          setValues(prev => ({ ...prev, confirm: true }));\n        })\n        .catch(err => {\n          console.error('Error with Register');\n          console.error({ err });\n          const newErrors = handleValidation({ ...values, message: err.message }, JSON.parse(dialogStateStr));\n          setState(prev => ({ ...prev, showErrors: true, loading: false, errors: newErrors }));\n        });\n    },\n    [dialogStateStr, setState]\n  );\n\n  const handleConfirm = React.useCallback(\n    values => {\n      const { email, password, confirmationCode } = values;\n      console.log('Confirming account');\n      Auth.confirmSignUp(email, confirmationCode)\n        .then(() => {\n          console.log('Confirmed account!');\n          setState(prev => ({ ...prev, open: false, loading: false, confirm: false }));\n          handleLogin({ email, password });\n        })\n        .catch(err => {\n          console.error('Invalid code');\n          console.error(err);\n          const newErrors = handleValidation({ ...values, confirmationCodeError: err.message }, JSON.parse(dialogStateStr));\n          setState(prev => ({ ...prev, loading: false, showErrors: true, errors: newErrors }));\n        });\n    },\n    [dialogStateStr, setState, handleLogin]\n  );\n\n  const handleSubmit = React.useCallback(({ confirm, ...other }, setValues) => (confirm ? handleConfirm(other, setValues) : handleAdd(other, setValues)), [\n    handleConfirm,\n    handleAdd\n  ]);\n\n  return (\n    <GenericDialog\n      id={id}\n      title={id}\n      submitLabel={values => (values.confirm ? 'Confirm' : id)}\n      onSubmit={handleSubmit}\n      validate={handleValidation}\n      fields={[\n        {\n          id: 'email',\n          label: 'Email',\n          required: true,\n          email: true\n        },\n        {\n          id: 'password',\n          label: 'Password',\n          required: true,\n          inputProps: {\n            type: 'password'\n          },\n          hidden: ({ confirm }) => confirm\n        },\n        {\n          id: 'confirmPassword',\n          label: 'Confirm Password',\n          required: true,\n          inputProps: {\n            type: 'password'\n          },\n          hidden: ({ confirm }) => confirm\n        },\n        {\n          id: 'confirmationCode',\n          label: 'Enter Verification Code Sent to above Email',\n          required: confirm ? true : false,\n          hidden: ({ confirm }) => !confirm\n        },\n        {\n          id: 'confirm',\n          label: 'Enter Verification Code',\n          Field: EnterConfirmationCode,\n          initialValue: false\n        },\n        {\n          id: 'agree',\n          width: 220,\n          Field: Check,\n          label: 'I Agree to the Terms & Conditions',\n          hidden: ({ confirm }) => confirm\n        }\n      ]}\n    />\n  );\n}\n","import * as React from 'react';\nimport { makeStyles, Grid, Paper, Typography, Divider, TextField, CircularProgress } from '@material-ui/core';\nimport { createStyles, Link } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport BrandLogoImage from '../../images/logo.svg';\nimport { isEmpty } from '../../helpers';\nimport { useLogin, useHeight } from './hooks';\nimport DialogButton from '../application/GenericDialog/DialogButton';\nimport * as RegisterDialog from '../application/GenericDialog/Register';\nimport { getUrlParamater } from '../../hooks';\nimport ForgotPassword from './ForgotPassword';\n\nconst useStyles = makeStyles(({ palette, mixins }: any) =>\n  createStyles({\n    root: ({ height }: any) => ({\n      background: palette.common.white,\n      color: palette.primary.main,\n      height,\n      overflowY: 'auto'\n    }),\n    paper: {\n      marginTop: 32,\n      width: 300\n    },\n    disclaimer: {\n      marginTop: 32,\n      paddingLeft: 16,\n      paddingRight: 16,\n      maxWidth: 650\n    },\n    panelarea: {\n      background: '#F5F5F5'\n    },\n    button: {\n      background: palette.primary.main,\n      color: palette.common.white,\n      '&:hover': {\n        background: palette.primary.dark,\n        color: palette.common.white\n      },\n      marginTop: 8\n    },\n    wrapper: {\n      width: 224\n    },\n    buttonProgress: {\n      position: 'absolute',\n      top: '25%',\n      left: '50%',\n      marginTop: -8,\n      marginLeft: -12\n    }\n  })\n);\n\nexport default function Login() {\n  const id = getUrlParamater('i');\n  const BannerMsg = isEmpty(id) ? '' : 'You must log in prior to accepting an invite.  If you do not have an account yet, please create a new account.';\n\n  const height = useHeight();\n  const classes = useStyles({ height });\n  const noAutoComplete = true;\n  var buttonRef = React.useRef(null);\n\n  const [values, setValues] = React.useState({\n    email: '',\n    password: '',\n    forgotPassword: false\n  });\n\n  const { email, password } = values;\n\n  const [state, setState] = React.useState({ loading: false, errors: {}, forgotPassword: false });\n  const { loading, errors, forgotPassword } = state;\n\n  const { handleLogin } = useLogin({ state, setState });\n\n  const handleSubmit = React.useCallback(() => {\n    handleLogin({ email, password });\n  }, [handleLogin, email, password]);\n\n  const handleChange = (name: string) => (event: any) => {\n    const value = event.target.value;\n    setValues({ ...values, [name]: value });\n    setState(prev => ({ ...prev, errors: {} }));\n  };\n\n  const handleForgotPassword = React.useCallback(() => {\n    setState(prev => ({ ...prev, forgotPassword: true }));\n  }, []);\n\n  const handleBack = React.useCallback(() => {\n    setState(prev => ({ ...prev, forgotPassword: false }));\n  }, []);\n\n  // Per https://stackoverflow.com/questions/50604671/programmatically-disabling-chrome-auto-fill\n  // The only way to prevent auto fill is autocomplete=newpassword\n  // Note this only prevents the browser from auto populating the fields, it does not prevent chromes new password manager\n  return forgotPassword ? (\n    <ForgotPassword email={email} onBack={handleBack} />\n  ) : (\n    <div\n      className={classes.root}\n      onKeyUp={(e: any) => {\n        if (e.keyCode === 13) {\n          // Enter key\n          buttonRef.current && buttonRef.current.click();\n        }\n      }}\n    >\n      <form autoComplete='off'>\n        <Grid container direction='column' justify='center' alignItems='center'>\n          <Grid item>\n            <Typography color='error' align='center' className={classes.disclaimer}>\n              {BannerMsg}\n            </Typography>\n          </Grid>\n          <Grid item xs={12}>\n            <Paper className={classes.paper}>\n              <Typography align='center' className={classes.panelarea}>\n                <img src={BrandLogoImage} alt='logo' style={{ height: 124 }} />\n              </Typography>\n              <Divider />\n              <Grid container spacing={1} direction='column' justify='center' alignItems='center' style={{ padding: 16 }}>\n                <Grid item>\n                  <TextField\n                    autoComplete={noAutoComplete ? 'new-password' : undefined}\n                    id='email'\n                    label='Email'\n                    disabled={loading}\n                    value={values.email}\n                    onChange={handleChange('email')}\n                    margin='dense'\n                    variant='outlined'\n                    error={isEmpty(errors['email']) ? false : true}\n                    helperText={errors['email']}\n                    autoFocus={true}\n                    InputLabelProps={{\n                      shrink: true\n                    }}\n                  />\n                </Grid>\n                <Grid item>\n                  <TextField\n                    autoComplete={noAutoComplete ? 'new-password' : undefined}\n                    id='password'\n                    label='Password'\n                    disabled={loading}\n                    type='password'\n                    value={values.password}\n                    onChange={handleChange('password')}\n                    margin='dense'\n                    variant='outlined'\n                    error={isEmpty(errors['password']) ? false : true}\n                    helperText={errors['password']}\n                    fullWidth\n                    InputLabelProps={{\n                      shrink: true\n                    }}\n                  />\n                </Grid>\n                <Grid item>\n                  <div className={classes.wrapper}>\n                    <Button ref={buttonRef} fullWidth={true} disabled={loading} variant='contained' className={classes.button} onClick={handleSubmit}>\n                      Login\n                    </Button>\n                    {loading && <CircularProgress size={24} className={classes.buttonProgress} />}\n                  </div>\n                </Grid>\n                <Grid item>\n                  <div className={classes.wrapper}>\n                    <DialogButton Module={RegisterDialog} disabled={loading} size='medium' variant='contained' tooltip='' className={classes.button}>\n                      Create New Account\n                    </DialogButton>\n                  </div>\n                </Grid>\n                <Grid item>\n                  <div style={{ marginTop: 16 }}>\n                    <Link style={{ marginLeft: 8, cursor: 'pointer' }} underline='always' color='inherit' onClick={handleForgotPassword}>\n                      Forgot Password\n                    </Link>\n                  </div>\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n        </Grid>\n      </form>\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { useSelector } from 'react-redux';\nimport { AppState } from '../../store';\nimport Login from './Login';\n\nexport default function AuthGate({ children }) {\n  const auth = useSelector((state: AppState) => state.layout.auth);\n  return auth !== undefined && auth !== null ? children : <Login />;\n}\n","import * as React from 'react';\nimport { makeStyles, Grid, Paper, Typography, Divider, CircularProgress } from '@material-ui/core';\nimport { createStyles } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport BrandLogoImage from '../../images/logo.svg';\nimport { useHeight, useUserEmail, useUserId } from './hooks';\nimport { isEmpty, timeAgo } from '../../helpers';\nimport { push } from 'connected-react-router';\nimport { useDispatch } from 'react-redux';\nimport { tables } from '../../database/dbConfig';\nimport useTableRow from '../../database/useTableRow';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    root: ({ height }: any) => ({\n      background: palette.common.white,\n      color: palette.primary.main,\n      height,\n      overflowY: 'auto'\n    }),\n    paper: {\n      marginTop: 32,\n      width: 300\n    },\n    disclaimer: {\n      maxWidth: 650\n    },\n    summary: {\n      marginTop: 8,\n      maxWdith: 650\n    },\n    panelarea: {\n      background: '#F5F5F5'\n    },\n    button: {\n      background: palette.primary.main,\n      color: palette.common.white,\n      '&:hover': {\n        background: palette.primary.dark,\n        color: palette.common.white\n      },\n      marginTop: 8\n    },\n    wrapper: {\n      width: 224\n    },\n    buttonProgress: {\n      position: 'absolute',\n      top: '25%',\n      left: '50%',\n      marginTop: -8,\n      marginLeft: -12\n    }\n  })\n);\n\nexport default function AcceptInvite({ id, type, onBack = undefined }) {\n  const BannerMsg = 'Click below to accept invitation';\n  const height = useHeight();\n  const classes = useStyles({ height });\n  var buttonRef = React.useRef(null);\n\n  const [state, setState] = React.useState({ loading: false, error: undefined, response: undefined, errors: {} });\n  const { loading, error } = state;\n\n  const { row, setRow, expired } = useTableRow({\n    Model: type === 's' ? tables.students : tables.instructors,\n    id,\n    state,\n    setState\n  });\n\n  const dispatch = useDispatch();\n  const userId = useUserId();\n\n  const handleClose = React.useCallback(() => {\n    dispatch(push('')); // This clears any query params\n    onBack && onBack(); // Force a refresh in parent component\n  }, [onBack, dispatch]);\n\n  const handleSubmit = React.useCallback(() => {\n    setRow({ values: { accepted: true, userId }, onSuccess: handleClose });\n  }, [setRow, handleClose, userId]);\n\n  const email = useUserEmail();\n  const isError = !isEmpty(row?.userId) || expired || row?.deleted || !isEmpty(error) || email.toLowerCase() !== row?.email.toLowerCase();\n\n  return (\n    <div\n      className={classes.root}\n      onKeyUp={(e: any) => {\n        if (e.keyCode === 13) {\n          // Enter key\n          buttonRef.current && buttonRef.current.click();\n        }\n      }}\n    >\n      <form autoComplete='off'>\n        <Grid container direction='column' justify='center' alignItems='center'>\n          <Grid item xs={12}>\n            <Paper className={classes.paper}>\n              <Typography align='center' className={classes.panelarea}>\n                <img src={BrandLogoImage} alt='logo' style={{ height: 124 }} />\n              </Typography>\n              <Divider />\n              <Grid container spacing={1} direction='column' justify='center' alignItems='center' style={{ padding: 16 }}>\n                <Grid item>\n                  <Typography align='center' className={classes.disclaimer}>\n                    {BannerMsg}\n                  </Typography>\n                </Grid>\n                <Grid item>\n                  <div className={classes.wrapper}>\n                    <Button\n                      ref={buttonRef}\n                      fullWidth={true}\n                      disabled={loading || isError}\n                      variant='contained'\n                      className={classes.button}\n                      onClick={handleSubmit}\n                    >\n                      Accept Invite\n                    </Button>\n                    {loading && <CircularProgress size={24} className={classes.buttonProgress} />}\n                  </div>\n                </Grid>\n                <Grid item>\n                  <div className={classes.wrapper}>\n                    <Button ref={buttonRef} fullWidth={true} variant='contained' onClick={handleClose}>\n                      Back\n                    </Button>\n                  </div>\n                </Grid>\n                <Grid item xs={12}>\n                  <Typography noWrap align='center' className={classes.summary}>\n                    {row?.email}\n                  </Typography>\n                  <Typography align='center' className={classes.summary}>\n                    Invited {timeAgo(row?.created)}\n                  </Typography>\n                  {!loading && isError && (\n                    <Typography align='center' color='error' className={classes.summary}>\n                      {!isEmpty(row?.userId)\n                        ? 'Invite has already been accepted'\n                        : expired || row?.deleted\n                        ? 'Invite has expired or no longer exists. Please request a new invite.'\n                        : email.toLowerCase() !== row?.email.toLowerCase()\n                        ? `Current user's email does not match the invite.  Please login or create a new account with the ${row?.email} email address.`\n                        : error}\n                    </Typography>\n                  )}\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n        </Grid>\n      </form>\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { isEmpty } from '../../helpers';\nimport { getUrlParamater } from '../../hooks';\nimport AcceptInvite from './AcceptInvite';\n\nexport default function InviteGate({ children }) {\n  const [id, setId] = React.useState(getUrlParamater('i'));\n  const [type, setType] = React.useState(getUrlParamater('t'));\n\n  const handleBack = React.useCallback(() => {\n    setId(getUrlParamater('i'));\n    setType(getUrlParamater('t'));\n  }, [setId]);\n\n  return !isEmpty(id) ? <AcceptInvite id={id} type={type} onBack={handleBack} /> : children;\n}\n","import * as React from 'react';\nimport { makeStyles, Grid, Paper, Typography, Divider, Box } from '@material-ui/core';\nimport { createStyles } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport BrandLogoImage from '../../images/logo.svg';\nimport { useChangeRoute, useHeight, useLayout, useLogout } from './hooks';\nimport { onlyUnique } from '../../helpers';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    root: ({ height }: any) => ({\n      background: palette.common.white,\n      color: palette.primary.main,\n      height,\n      overflowY: 'auto'\n    }),\n    paper: {\n      marginTop: 32,\n      width: 300\n    },\n    disclaimer: {\n      maxWidth: 650\n    },\n    summary: {\n      marginTop: 8,\n      maxWdith: 650\n    },\n    panelarea: {\n      background: '#F5F5F5'\n    },\n    button: {\n      background: palette.primary.main,\n      color: palette.common.white,\n      '&:hover': {\n        background: palette.primary.dark,\n        color: palette.common.white\n      }\n    },\n    wrapper: {\n      width: 224,\n      marginTop: 8\n    }\n  })\n);\n\nexport default function SelectUserType({ instructors = [], students = [], isAdmin, onBack = undefined }) {\n  const height = useHeight();\n  const classes = useStyles({ height });\n  var buttonRef = React.useRef(null);\n  const [, setLayout] = useLayout();\n  const onLogout = useLogout();\n  const changeRoute = useChangeRoute();\n  const handleSelect = React.useCallback(\n    props => () => {\n      setLayout(props);\n      changeRoute('/Classes');\n    },\n    [setLayout, changeRoute]\n  );\n  const isError = !isAdmin && instructors.length === 0 && students.length === 0;\n  const BannerMsg = isError ? 'No associated user types' : 'You have multiple user types or groups, please select desired user type:';\n\n  var buttons = [];\n  if (isAdmin) {\n    buttons = buttons.concat({\n      label: 'Admin',\n      state: { admin: true, student: undefined, instructor: undefined }\n    });\n  }\n\n  // Instructor buttons\n  buttons = buttons.concat(\n    instructors.map(instructor => ({\n      label: 'Instructor',\n      sublabel: instructors.length > 1 && `Invited by: ${instructor.parentId}`,\n      state: { admin: false, student: undefined, instructor }\n    }))\n  );\n\n  // Student buttons\n  // Note that students are linked to a student group, so we only need a button for each unique group\n  const uniqueStudentGroupIds = students.map(s => s.groupId).filter(onlyUnique);\n  buttons = buttons.concat(\n    uniqueStudentGroupIds.map(groupId => {\n      const student = students.find(s => s.groupId === groupId); // Find the first student entry with a matching group id\n      return {\n        label: 'Student',\n        sublabel: uniqueStudentGroupIds.length > 1 && `Group: ${student.groupId}`,\n        state: { admin: false, student, instructor: undefined }\n      };\n    })\n  );\n\n  return (\n    <div\n      className={classes.root}\n      onKeyUp={(e: any) => {\n        if (e.keyCode === 13) {\n          // Enter key\n          buttonRef.current && buttonRef.current.click();\n        }\n      }}\n    >\n      <form autoComplete='off'>\n        <Grid container direction='column' justify='center' alignItems='center'>\n          <Grid item xs={12}>\n            <Paper className={classes.paper}>\n              <Typography align='center' className={classes.panelarea}>\n                <img src={BrandLogoImage} alt='logo' style={{ height: 124 }} />\n              </Typography>\n              <Divider />\n              <Grid container spacing={1} direction='column' justify='center' alignItems='center' style={{ padding: 16 }}>\n                <Grid item>\n                  <Typography align='center' className={classes.disclaimer}>\n                    {BannerMsg}\n                  </Typography>\n                </Grid>\n                {buttons.map(({ label, sublabel, state }, i) => (\n                  <Grid item key={[label, sublabel].filter(l => l).join('-')}>\n                    <div className={classes.wrapper}>\n                      <Button\n                        ref={i === 0 ? buttonRef : undefined}\n                        fullWidth={true}\n                        variant='contained'\n                        className={classes.button}\n                        onClick={handleSelect(state)}\n                      >\n                        <Grid container>\n                          {label && (\n                            <Grid item xs={12}>\n                              {label}\n                            </Grid>\n                          )}\n                          {sublabel && (\n                            <Grid item xs={12}>\n                              <Typography style={{ fontSize: 7 }} variant='overline' noWrap>\n                                {sublabel}\n                              </Typography>\n                            </Grid>\n                          )}\n                        </Grid>\n                      </Button>\n                    </div>\n                  </Grid>\n                ))}\n                <Grid item>\n                  <div className={classes.wrapper}>\n                    <Button fullWidth={true} variant='contained' onClick={onLogout}>\n                      Logout\n                    </Button>\n                  </div>\n                </Grid>\n                <Grid item xs={12}>\n                  {isError && (\n                    <>\n                      <Typography align='center' color='error' className={classes.summary}>\n                        You have not accepted any invites yet. You need to receive and accept an invite before you can use this application.\n                      </Typography>\n                      <Box mt={2}>\n                        <Typography align='center' color='error' className={classes.summary}>\n                          Please contact your instructor or administrator to request an invite.\n                        </Typography>\n                      </Box>\n                    </>\n                  )}\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n        </Grid>\n      </form>\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { useTableFilter } from '../components/application/GenericTable/helpers';\nimport { tables } from './dbConfig';\nimport useTable from './useTable';\n\nexport const useTableData = ({ TableName = tables.students, loadOnMount = true, table = undefined, tab = undefined, requestParams = undefined }) => {\n  const { state, handleRequest } = useTable({ TableName });\n  const { data, loading, success } = state as any;\n\n  const handleRefresh = React.useCallback(() => {\n    handleRequest(requestParams);\n    // eslint-disable-next-line\n  }, [JSON.stringify(requestParams), handleRequest]);\n\n  React.useEffect(() => {\n    loadOnMount && handleRefresh();\n  }, [handleRefresh, loadOnMount, table, tab]);\n\n  const rows = Object.keys(data).map(k => ({ ...data[k] }));\n\n  return {\n    data: useTableFilter(rows, table),\n    handleRefresh,\n    loading,\n    success\n  };\n};\n","import * as React from 'react';\nimport { useLayout, useUserId } from './hooks';\nimport SelectUserType from './SelectUserType';\nimport { useIsAdmin } from '../../hooks';\nimport useInstructorsByUserId from '../application/GenericTable/Instructors/useInstructorsByUserId';\nimport useStudentsByUserId from '../../database/useStudentsByUserId';\nimport { isEmpty } from '../../helpers';\n\nexport default function UserTypeGate({ children }) {\n  const isAdmin = useIsAdmin();\n\n  const [{ admin, instructor, student }, setLayout] = useLayout();\n\n  const { instructors, handleRefresh } = useInstructorsByUserId();\n  const { students, handleRefresh: handleRefreshStudents } = useStudentsByUserId();\n\n  const userId = useUserId();\n\n  // Refresh on load or whenever the userId or\n  React.useEffect(() => {\n    if (!isEmpty(userId)) {\n      console.log(`Loading user information (${userId})`);\n      handleRefresh();\n      handleRefreshStudents();\n    }\n  }, [userId, handleRefresh, handleRefreshStudents]);\n\n  React.useEffect(() => {\n    // Auto select user type if user is only associated with one type\n    if (instructors && students) {\n      // If both instructors and students are loaded from the database, then proceed\n      if (isAdmin && instructors.length === 0 && students.length === 0) {\n        setLayout({ admin: true, students, instructors }); // Must be an admin user\n      } else if (!isAdmin && instructors.length > 0 && students.length === 0) {\n        setLayout({ instructor: instructors[0], students, instructors }); // Must be an instructor\n      } else if (!isAdmin && instructors.length === 0 && students.length > 0) {\n        setLayout({ student: students[0], students, instructors }); // Must be a student\n      } else {\n        setLayout({ students, instructors }); // Can be one of admin, instructor or studnet, not sure\n      }\n      console.log('User information loaded');\n    }\n    // eslint-disable-next-line\n  }, [userId, isAdmin, JSON.stringify(instructors), JSON.stringify(students)]);\n\n  // If viewing is not empty, then return children\n  // Else if completed == false, then show loading\n  // Else if completed and only one user type exists, set viewing automatically\n  // Else show the select user type\n\n  return admin || instructor || student ? (\n    children\n  ) : !instructors ? (\n    <div>Loading</div>\n  ) : (\n    <SelectUserType instructors={instructors} students={students} isAdmin={isAdmin} />\n  );\n}\n","import { tables } from '../../../../database/dbConfig';\nimport { useTableData } from '../../../../database/useTableData';\nimport { useUserId } from '../../../layout/hooks';\n\nexport default function useInstructorsByUserId() {\n  const userId = useUserId();\n  const { data = [], loading, success, handleRefresh } = useTableData({\n    loadOnMount: false,\n    TableName: tables.instructors,\n    requestParams: {\n      FilterExpression: '#userId = :userId AND #accepted = :accepted AND (#deleted = :deleted OR attribute_not_exists(#deleted))',\n      ExpressionAttributeNames: {\n        '#userId': 'userId',\n        '#accepted': 'accepted',\n        '#deleted': 'deleted'\n      },\n      ExpressionAttributeValues: {\n        ':userId': userId,\n        ':accepted': true,\n        ':deleted': false\n      }\n    }\n  });\n\n  const completed = loading === false && success === true;\n  return {\n    instructors: completed ? data : undefined,\n    handleRefresh\n  };\n}\n","import { useUserId } from '../components/layout/hooks';\nimport { tables } from './dbConfig';\nimport { useTableData } from './useTableData';\n\nexport default function useStudentsByUserId() {\n  const userId = useUserId();\n\n  const { data, loading, success, handleRefresh } = useTableData({\n    loadOnMount: false,\n    TableName: tables.students,\n    requestParams: {\n      FilterExpression: '#userId = :userId AND #accepted = :accepted AND (#deleted = :deleted OR attribute_not_exists(#deleted))',\n      ExpressionAttributeNames: {\n        '#userId': 'userId',\n        '#accepted': 'accepted',\n        '#deleted': 'deleted'\n      },\n      ExpressionAttributeValues: {\n        ':userId': userId,\n        ':accepted': true,\n        ':deleted': false\n      }\n    }\n  });\n\n  const completed = loading === false && success === true;\n  return {\n    students: completed ? data : undefined,\n    handleRefresh\n  };\n}\n","import * as React from 'react';\nimport Routes from './routes';\nimport { ConnectedRouter } from 'connected-react-router';\nimport { AppState } from '../../store';\nimport { connect } from 'react-redux';\nimport Layout from './Layout';\nimport AuthGate from './AuthGate';\nimport InviteGate from './InviteGate';\nimport UserTypeGate from './UserTypeGate';\n\nexport interface AppRouterProps {\n  history?: any;\n}\n\nfunction AppRouter(props: AppRouterProps) {\n  const { history } = props;\n  return (\n    <ConnectedRouter history={history}>\n      <AuthGate>\n        <InviteGate>\n          <UserTypeGate>\n              <Layout>\n                <Routes />\n              </Layout>\n          </UserTypeGate>\n        </InviteGate>\n      </AuthGate>\n    </ConnectedRouter>\n  );\n}\n\nconst mapStateToProps = (state: AppState, ownProp: AppRouterProps): AppRouterProps => {\n  var history = ownProp.history;\n  const location = state && state.router && state.router.location; //location from redux store (previously persisted location)\n  history.location = location ? location : history.location; //if a previous location exists, then set it, otherwise use the passed in/default value\n  return { history };\n};\n\nexport default connect(mapStateToProps)(AppRouter);\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { exactProp } from '@material-ui/utils';\nimport { withStyles } from '@material-ui/core';\n\nexport const html = {\n  WebkitFontSmoothing: 'antialiased', // Antialiasing.\n  MozOsxFontSmoothing: 'grayscale' // Antialiasing.\n  //boxSizing: 'border-box', // Custom, remove box sizing as it affects child layout height calculations\n};\n\nexport const body = theme => ({\n  color: theme.palette.text.primary,\n  ...theme.typography.body2,\n  backgroundColor: theme.palette.background.default,\n  '@media print': {\n    // Save printer ink.\n    backgroundColor: theme.palette.common.white\n  }\n});\n\nexport const styles = theme => ({\n  '@global': {\n    html,\n    '*, *::before, *::after': {\n      boxSizing: 'inherit'\n    },\n    'strong, b': {\n      fontWeight: theme.typography.fontWeightBold\n    },\n    body: {\n      margin: 0, // Remove the margin in all browsers.\n      ...body(theme),\n      // Add support for document.body.requestFullScreen().\n      // Other elements, if background transparent, are not supported.\n      '&::backdrop': {\n        backgroundColor: theme.palette.background.default\n      }\n    }\n  }\n});\n\n/**\n * Kickstart an elegant, consistent, and simple baseline to build upon.\n */\nfunction CssBaseline(props) {\n  /* eslint-disable no-unused-vars */\n  const { children = null } = props;\n  /* eslint-enable no-unused-vars */\n  return <React.Fragment>{children}</React.Fragment>;\n}\n\nCssBaseline.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * You can wrap a node.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object\n};\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line\n  CssBaseline['propTypes' + ''] = exactProp(CssBaseline.propTypes);\n}\n\nexport default withStyles(styles, { name: 'MuiCssBaseline' })(CssBaseline);\n","import React from 'react';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport configureStore from './storeConfig';\nimport { createBrowserHistory } from 'history';\nimport { AppState } from './store';\nimport { persistStore } from 'redux-persist';\nimport ViewPort from './components/layout/ViewPort';\nimport AppRouter from './components/layout/AppRouter';\nimport { theme } from './constants';\nimport Amplify from 'aws-amplify';\nimport awsconfig from './aws-exports';\nimport CssBaselineCustom from './components/layout/CssBaselineCustom';\n\nexport const history = createBrowserHistory(); // Create browser history to use in the Redux store'\nexport const initialState = (window as any).initialReduxState as AppState; // Get the application-wide store instance, prepopulating with state from the server where available.\nexport const store = configureStore(history, initialState) as any; //Setup the global store object\nexport const getState = store.getState;\nexport const persistor = persistStore(store); //Setup the global persistor\n\nAmplify.configure(awsconfig);\n\nfunction ThemedViewPort(props: any) {\n  const { children } = props;\n\n  return (\n    <MuiThemeProvider theme={theme}>\n      <CssBaselineCustom />\n      <ViewPort>{children}</ViewPort>\n    </MuiThemeProvider>\n  );\n}\n\nfunction AppWrapper(props: any) {\n  const { children } = props;\n  return (\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <ThemedViewPort>{children}</ThemedViewPort>\n      </PersistGate>\n    </Provider>\n  );\n}\n\nfunction App() {\n  return (\n    <AppWrapper>\n      <React.Suspense fallback={<></>}>\n        <AppRouter history={history} />\n      </React.Suspense>\n    </AppWrapper>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport { printHeader } from './helpers';\n\nprintHeader();\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}