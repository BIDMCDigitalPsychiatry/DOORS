{"version":3,"sources":["components/layout/Header.tsx","components/layout/LeftDrawerContent.tsx","hooks.tsx","components/application/GenericDialog/store.ts","components/application/GenericDialog/DialogButton.tsx","components/application/GenericDialog/useDialogState.tsx","components/general/StyledButton.tsx","fonts/Montserrat-Regular.woff2","fonts/archivo-v7-latin-regular.woff2","images/calendar.png","images/wifi.png","images/picture.png","images/contacts.png","images/musicplayer.png","images/newspaper.png","images/checkbox.png","images/video.png","images/group.png","helpers.tsx","fonts.js","constants.tsx","components/application/GenericTable/helpers.tsx","components/layout/hooks.ts","images/logo.svg","components/layout/store.ts","components/application/Selector/store.ts","components/application/SnackBar/store.ts","store.ts","storeConfig.ts","components/layout/ViewPort.tsx","components/layout/PlayGround.tsx","components/application/GenericTable/TableToolbar.tsx","components/application/Selector/useTabSelector.ts","components/general/TabSelector/TabSelector.tsx","components/application/GenericTable/TableTabSelector.tsx","components/application/GenericTable/GenericTableContainer.tsx","database/dbConfig.ts","database/useTable.tsx","database/useProcessData.tsx","database/useInstructor.tsx","components/application/GenericDialog/helpers.tsx","components/application/DialogField/Text.tsx","components/application/GenericDialog/Fields.tsx","components/application/GenericDialog/ErrorGate.tsx","components/application/GenericDialog/GenericDialog.tsx","components/application/DialogField/Label.tsx","components/application/DialogField/MarginDivider.tsx","components/application/GenericDialog/AddInstructor/helpers.ts","components/application/SnackBar/useSnackBar.tsx","components/application/GenericDialog/AddInstructor/index.tsx","database/useTableRow.tsx","components/application/GenericDialog/InstructorAlert/helpers.ts","components/application/GenericDialog/InstructorAlert/index.tsx","components/application/GenericTable/Instructors/buttons.tsx","components/application/GenericTable/Instructors/table.tsx","components/application/GenericTable/Instructors/useInstructors.tsx","components/pages/Instructors.tsx","components/general/LightTooltip/LightTooltip.tsx","components/application/DialogField/YesNo.tsx","components/application/DialogField/MultiSelectCheck.tsx","components/application/DialogField/VinfenSelector.tsx","components/application/DialogField/PhoneNumber.tsx","components/application/DialogField/LabelRight.tsx","components/pages/Profile/ProfileSettings.tsx","aws-exports.js","database/useS3Bucket.tsx","components/application/DialogField/FileUploadButton.tsx","components/pages/Profile/ProfileDetails.tsx","components/layout/LoadingGate.tsx","components/pages/Page.tsx","database/useTableData.tsx","database/useInvite.tsx","database/useProfile.tsx","components/pages/Profile/Profile.tsx","components/application/DialogField/Switch.tsx","components/application/DialogField/DateTimePicker.tsx","database/useGroups.tsx","components/general/OutlinedSelect.tsx","components/application/DialogField/Select.tsx","components/application/DialogField/DatePicker.tsx","components/application/GenericDialog/Event/index.tsx","components/application/Calendar/Header.tsx","components/application/Calendar/Toolbar.tsx","database/useData.tsx","database/useAttendanceRow.tsx","components/application/DialogField/Check.tsx","database/models/Class.ts","components/pages/Class/AgeChart.tsx","components/general/ActionCard.tsx","components/general/CircleText.tsx","components/pages/Class/SurveyResults/StudentSummary.tsx","components/pages/Class/SurveyResults/ResultSummary.tsx","components/pages/Class/SurveyResults/SurveyResults.tsx","components/pages/Class/ClassReport/ResultsSummary.tsx","components/pages/ChildPage.tsx","database/useClassData.tsx","database/useGroupStudents.tsx","components/pages/Class/RankingModel.tsx","components/application/GenericDialog/CreateGroup/helpers.ts","components/application/GenericDialog/AddStudent/index.tsx","database/useAttendance.tsx","database/useClassGroupAttendance.tsx","components/application/GenericDialog/MarkAttendance/index.tsx","components/application/GenericDialog/DialogTableContent.tsx","components/application/DialogField/AttendanceFor.tsx","components/application/GenericDialog/EditAttendance/index.tsx","components/application/GenericTable/AttendanceHistory/table.tsx","components/application/GenericDialog/AttendanceHistory/index.tsx","components/pages/Calendar/useEvents.tsx","components/application/GenericTable/EventAttendanceHistory/table.tsx","database/useGroupAttendance.tsx","components/pages/Calendar/useGroupEvents.tsx","components/application/GenericDialog/EventAttendanceHistory/index.tsx","components/hooks/useProcessDataState.tsx","database/useSessions.tsx","components/pages/Class/ParticipantsDetailed.tsx","components/pages/Class/ClassGroup.tsx","components/pages/Class/ClassReport/ClassReport.tsx","components/application/GenericDialog/ViewReport/index.tsx","components/application/GenericDialog/Profile/index.tsx","components/pages/Class/ClassStatusChip.tsx","components/application/GenericDialog/ChangeGroup/index.tsx","components/pages/Class/ParticipantDetailed.tsx","components/application/DialogField/StudentAttendance.tsx","components/application/GenericDialog/MarkEventAttendance/index.tsx","database/useEventGroupAttendance.tsx","components/application/GenericDialog/EditEvent/index.tsx","components/application/Calendar/index.tsx","components/pages/Calendar/AdminCalendar.tsx","components/pages/Calendar/StudentCalendar.tsx","components/pages/Calendar/InstructorCalendar.tsx","components/pages/Calendar/Calendar.tsx","components/pages/Class/helpers.tsx","components/pages/Class/Class.tsx","components/pages/Class/useClasses.tsx","components/pages/Class/useClassesByUserId.tsx","database/useStudentsByUserId.tsx","components/pages/Class/Classes/StudentClasses.tsx","components/pages/Class/Classes/CreateNewClassButton.tsx","components/pages/Class/useAdminClasses.tsx","components/pages/Class/Classes/AdminClasses.tsx","components/application/DialogField/ClassSelector.tsx","components/application/GenericDialog/ClassImport/index.tsx","components/application/GenericDialog/ClassImportReplace/index.tsx","components/pages/Class/Classes/InstructorClasses.tsx","components/pages/Class/Classes/Classes.tsx","components/pages/Class/ClassDashboard/KeySkills.tsx","components/pages/Class/ClassDashboard/ActionCards.tsx","components/pages/Class/ClassDashboard/cards.ts","components/pages/Class/ClassDashboard/ClassDashboard.tsx","components/application/GenericDialog/BlockList/index.tsx","components/general/BlockList.tsx","components/hooks/useFormState.tsx","components/general/OutlinedDiv/OutlinedDivActive.tsx","components/application/DialogField/ImageSelector.tsx","components/application/DialogField/FileUploadLink.tsx","components/application/GenericDialog/ClassResource/index.tsx","components/general/ActionCardClassResource.tsx","components/general/BlockListClassResource.tsx","components/pages/Class/ClassPresentationLink.tsx","components/application/GenericDialog/ClassPresentation/index.tsx","components/general/BlockListClassPresentation.tsx","components/application/GenericDialog/PreRec/index.tsx","components/general/PreRecs.tsx","database/useInstructorGroups.tsx","components/pages/Class/useInstructorClasses.tsx","components/pages/Class/ClassMaterials.tsx","database/useIsOwnertsx.tsx","components/general/OutlinedDiv/OutlinedDiv.tsx","components/application/DialogField/Radio.tsx","components/application/GenericDialog/CreateGroup/index.tsx","components/application/GenericDialog/useSubmitDialogData.tsx","components/pages/Class/ClassRoster.tsx","components/pages/TermsAndConditions.tsx","components/pages/StyleGuide.tsx","components/general/SurveyQuestionCard.tsx","components/general/SurveyQuestions.tsx","components/general/BorderLinearProgress.tsx","components/general/YourProgress.tsx","database/useSessionData.tsx","components/pages/Class/PostSurvey.tsx","components/general/AgeQuestionCard.tsx","components/pages/Class/PreSurvey.tsx","components/pages/Class/Lesson.tsx","components/pages/Class/Lessons.tsx","components/pages/Class/Resources.tsx","components/pages/Class/Congratulations.tsx","components/pages/Class/CreateClass.tsx","components/layout/ForgotPassword.tsx","components/pages/AccessDenied.tsx","components/pages/Groups.tsx","components/layout/routes.tsx","components/general/TabSelector/TabSelectorToolBar.tsx","components/layout/useTabs.ts","components/application/GenericDialog/Help/helpers.ts","components/application/GenericDialog/Help/index.tsx","components/application/GenericDialog/Help/useParentEmail.tsx","components/layout/ApplicationBar.tsx","components/layout/Footer.tsx","components/application/SnackBar/SnackBar.tsx","components/layout/LeftDrawer.tsx","components/layout/Layout.tsx","components/application/GenericDialog/TermsAndConditions/index.tsx","components/application/GenericDialog/Register/index.js","components/layout/sendInviteRequestEmail.ts","components/application/GenericDialog/RequestInvite/index.tsx","components/layout/Login.tsx","components/layout/AuthGate.tsx","database/useInvites.tsx","database/useGroupName.tsx","components/pages/ResearchPartyAgreement.tsx","components/application/GenericDialog/ResearchPartyAgreement/index.tsx","components/layout/AcceptInvite.tsx","components/layout/InviteGate.tsx","components/layout/SelectUserType.tsx","components/layout/UserTypeGate.tsx","components/application/GenericTable/Instructors/useInstructorsByUserId.tsx","components/layout/ProfileGate.tsx","components/layout/useProfileEmailAutoUpdate.ts","components/layout/AppRouter.tsx","components/layout/CssBaselineCustom.tsx","App.tsx","serviceWorker.js","index.js","components/application/GenericTable/store.ts"],"names":["useStyles","makeStyles","palette","createStyles","header","color","Header","superVariant","titleVariant","subVariant","supertitle","undefined","title","subtitle","ActionButton","TitleButton","classes","container","spacing","item","xs","variant","isEmpty","className","justify","theme","root","width","button","marginTop","marginRight","actionsContainer","marginBottom","resetContainer","paddingLeft","paddingRight","primary","dark","stepper","background","stepLabelActive","stepLabelCompleted","stepIconRoot","border","main","borderRadius","stepIconActive","stepIconCompleted","stepIconText","fill","steps","label","VerticalLinearStepper","React","useState","activeStep","setActiveStep","pathname","useLocation","useEffect","idx","findIndex","s","endsWith","changeRoute","useHandleChangeRoute","p","linkVariant","onClick","mt","orientation","map","index","key","active","completed","StepIconProps","text","length","square","elevation","useFullScreen","size","useTheme","useMediaQuery","breakpoints","down","useContentPadding","fullScreen","layout","contentpadding_xs","contentpadding","useSignedIn","useSelector","auth","useIsAdmin","signedIn","email","useUserEmail","adminEmails","adminUsers","split","ae","trim","toLowerCase","useIsAdminMode","isAdmin","useLayout","admin","useIsInstructorMode","instructor","useIsStudentMode","student","useUserType","isInstructor","isStudent","getUrlParamater","paramName","sParameterName","i","sURLVariables","window","location","search","substring","decodeURIComponent","useHandleLink","link","win","open","focus","useCanChangeUserType","students","instructors","useSignedInAsText","userType","defaultDialogState","type","errors","showErrors","submitting","initialValues","initialState","updateDialog","id","payload","reducer","state","action","updateState","renderDialogModule","Dialog","default","props","withStyles","badge","top","right","paper","Badge","margin","listitem","padding","common","white","DialogButton","forwardRef","ref","Content","Id","Module","tooltip","placement","underline","styledVariant","disabled","Icon","noGrid","mount","onSubmit","onDelete","onClose","onChange","onReset","values","setValues","disabledColor","fullWidth","children","other","useDialogState","setDialogState","anchorEl","setAnchorEl","other_s","JSON","stringify","handleUpdate","useCallback","evalFunc","parse","handleClose","handleClick","event","currentTarget","shared","checkEmpty","style","marginLeft","fontSize","height","cursor","light","dispatch","useDispatch","dialog","primaryRoot","secondary","borderColor","opacity","primaryPressed","secondaryRoot","secondaryPressed","textRoot","textPressed","pressed","whiteTextRoot","whiteTextPressed","StyledButton","rootClass","pressedClass","module","exports","hostAddress","append","protocol","hostname","port","debugSettings","debugoutput","logviewport","logrender","logmapping","logreducer","logselectors","logform","logformupdates","debugfieldonhover","printHeader","console","log","process","packageJson","version","setIfEmpty","value","Array","isArray","hasChanged","current","initial","validateEmail","test","String","validateHttpUrl","url","uncapitalize","charAt","slice","copyToLower","obj","keys","Object","n","newobj","isTrue","isFalse","bool","x","emptyUndefined","isError","getLabel","f","spread","final","str","triggerResize","dispatchEvent","CustomEvent","setTimeout","publicUrl","path","data","newState","uuid","uuidv4","getDateFromTimestamp","milliseconds","d","Date","setUTCMilliseconds","date","mm","getMonth","dd","getDate","getFullYear","join","mmddyyyy","addZero","yyyymmdd","minutesFrom","time","diff","getTime","minutesToTimeAgo","minutes","Math","floor","h","m","ret","timeAgo","sortUdpatedDescending","a","b","sortDescending","updated","sortDescendingNatural","localeCompare","numeric","sensitivity","sortNameDescending","name","sortHeadlineDescending","headline","onlyUnique","self","indexOf","dayAbbrOfWeek","dayIndex","monthAbbrOfYear","monthIndex","nth","getDayTimeFromTimestamp","timestamp","day","getDay","year","getHours","getMinutes","isPM","month","getDayMonthYear","now","parseEmails","emails","getClassTitle","filter","getStudentName","profile","getFileName","file","montserrat","fontFamily","fontStyle","fontDisplay","fontWeight","src","Montserrat","unicodeRange","archivo","Archivo","basetheme","createMuiTheme","beta","ageQuestionLabel","typography","noScrollPaths","noPadPaths","drawerPaths","leftDrawerWidth","toolbarheight","contentrowspacing","tablefooterheight","tablefilterbarheight","tabletoolbarheight","tableRowHeight","footerheight","progressSize","tabheight","overrides","MuiCssBaseline","MuiTooltip","maxWidth","MuiTypography","h6","lineHeight","subtitle1","MuiDialogTitle","paddingTop","paddingBottom","MuiDialogActions","grey","display","alignItems","justifyContent","flex","MuiListItemIcon","sortComparators","orderBy","isMatch","re","getSearchValues","match","attrname","includes","isNaN","e","toString","isColumnExactMatch","cf","column","useTableFilter","customFilter","table","TableStore","searchtext","columnfilter","columnfiltervalue","columnfiltercolumn","filtered","table_filter","stableSort","getSorting","orderDirection","sortComparator","performcolumnfilter","performtextfilter","RegExp","replace","array","cmp","stabilizedThis","el","sort","order","setDefaults","tables","t","reduce","isObjectWithKeys","isObject","useLayoutKey","shallowEqual","useAuth","signInUserSession","idToken","useUserId","userId","username","useLogout","useChangeRoute","handleValidation","dialogState","message","useLogin","setState","onSuccess","stateStr","handleLogout","handleLogin","forgotPassword","enterNewPassword","confirmationCode","newPassword","Email","password","prev","loading","Auth","forgotPasswordSubmit","then","alert","signIn","user","catch","err","error","newErrors","useAppBarHeight","appBarHeight","useResizeViewPort","useHeight","useWidth","useAppBarHeightRef","useComponentSize","resizeAppBar","useResizeAppBar","route","history","useHistory","push","useChangeRouteLayout","setLayout","useHandleChangeRouteLayout","useLeftDrawer","leftDrawerOpen","parts","homepage","lastPart","leftDrawerEnabled","find","setLeftDrawerOpen","defaultUserState","defaultState","updateSnackBar","reducers","Table","selector","snackBar","localforage","driver","storeName","description","persistConfig","storage","staticProps","flexGrow","zIndex","overflow","position","dimensions","backdrop","backdropColor","viewport","backgroundColor","ViewPort","resizeViewPort","PlayGround","Grid","Typography","formControl","searchIcon","h4","pxToRem","titleicon","grid","hidden","borderBottom","TableToolbar","searchOpen","setSearchOpen","buttons","inputplaceholder","showicon","buttonPosition","useTable","handleOpenSearch","inputRef","tableUpdate","useTableUpdate","updateTable","handleClear","handleKeyDown","preventDefault","addEventListener","removeEventListener","handleChange","target","Search","FormControl","Input","disableUnderline","placeholder","startAdornment","InputAdornment","endAdornment","IconButton","Buttons","widths","headerpadding","iconwidth","titlepadding","titleminwidth","calculatedbuttonswidth","calculatedfullwidth","k","tabletitlevisible","tableiconvisible","IconComponent","Icons","ButtonGroup","direction","Paper","zeroMinWidth","Tooltip","noWrap","useTabSelector","updateSelector","rounded","tabs","minHeight","indicator","labelIcon","tabroot","minWidth","wrapper","flexDirection","TabSelector","wrapped","tabSelector","setTabSelector","selected","tabId","Tabs","scrollButtons","icon","TableTabSelector","tab","Tab","storeTable","GenericTable","GenericTableContainer","Height","toolbar","stacked","toolbarplaceholder","Columns","columns","dialogs","onChangeTab","FilterContainer","tableProps","layoutHeight","forEach","renderCell","cell","row","col","getValues","Cell","Component","handleRefresh","injectValues","applyCellRenderers","_toolbar","filterbar","rows","component","excludePadding","contentPadding","calculatedheight","c","spinner","CircularProgress","thickness","fallback","r","AWS","require","config","region","credentials","CognitoIdentityCredentials","IdentityPoolId","identityPoolIdUnauth","dynamo","DynamoDB","DocumentClient","TableName","success","handleRequest","FilterExpression","ExpressionAttributeNames","ExpressionAttributeValues","getRows","scanResults","params","ExclusiveStartKey","scan","promise","items","Items","LastEvaluatedKey","executeTransaction","pdi","Data","Model","Action","Snackbar","onError","put","Item","get","Key","processData","getState","DataProp","created","deleted","statusCode","useProcessData","isExpired","inviteExpiration","setMappedValue","field","object","getValue","getMappedValue","singleValue","isDisabled","isActive","isHidden","useValues","fields","InitialValues","validate","externalValues","externalSetValues","disableInitialize","defaultValues","initialValue","getDefaultValues","mergedInitialValues","merge","internalValues","setInternalValues","vals","touched","setTouched","mergedInitialValuesStr","initializeValues","internalErrors","externalErrors","errorCount","stateErrors","resetErrors","uppercase","toUpperCase","useHandleChange","handleBlur","mapField","required","autoFocus","InputProps","inputProps","step","min","max","multiline","getProps","disableCloseOnSelect","disableClearable","showError","onBlur","bindField","Errors","http","Text","forceErrorMargin","TextField","helperText","InputLabelProps","shrink","getColumnFields","numFields","numCols","numColsField","ceil","startIndex","endIndex","MapField","Field","collapse","wrappeditem","Collapse","in","Fields","minColumnWidth","maxColumnWidth","from","ErrorGate","align","PaperComponent","cancel","outline","dialogHeader","capitalize","textTransform","content","actions","closeButton","deleteButton","deleteButtonEmpty","submitProgress","left","GenericDialog","Title","draggable","cancelLabel","deleteLabel","submitLabel","ContentProps","Loading","Classes","HasChanged","confirmDelete","setConfirmDelete","handleConfirmDelete","values_s","handleSubmit","handleDelete","contentProps","inProgress","changed","aria-labelledby","aria-describedby","disableAutoFocus","DialogTitle","disableTypography","aria-label","Divider","DialogContent","dividers","Button","DialogActions","Label","MarginDivider","useSnackBar","AddInstructorDialog","setSnackbar","parentId","submitData","OnSuccess","institution","onSubmitSuccess","role","body","Destination","CcAddresses","ToAddresses","Message","Body","Html","Charset","Subject","Source","sourceEmailAddress","ReplyToAddresses","SES","apiVersion","sendEmail","stack","sendInstructorInvite","useTableRow","externalState","setExternalState","internalState","setInternalState","response","row_str","_Id","setRow","prevValues","setRowPrev","readSetRow","expired","InstructorAlertDialog","sendInstructorEmail","readOnly","RowActionsButton","onUpdate","stopPropagation","Boolean","Popover","anchorOrigin","vertical","horizontal","transformOrigin","Menu","keepMounted","MenuItem","back","requestParams","ViewClassesButton","Invite","ViewGroupsButton","Instructors","selectedTab","accepted","useInstructors","RowActionsCell","footer","checkbox","select","LightTooltip","body2","boxShadow","shadows","YesNo","labelPlacement","FormHelperText","checkedIcon","MultiSelectCheck","Autocomplete","multiple","options","getOptionLabel","option","renderOption","Checkbox","checked","renderInput","VinfenSelector","TextMaskCustom","inputElement","mask","placeholderChar","showMask","PhoneNumber","inputComponent","LabelRight","ProfileSettings","showDescriptions","setProfile","rest","getFields","Card","clsx","CardContent","Box","awsmobile","aws_project_region","aws_cognito_identity_pool_id","aws_cognito_region","aws_user_pools_id","aws_user_pools_web_client_id","oauth","aws_user_files_s3_bucket","aws_user_files_s3_bucket_region","aws_dynamodb_all_tables_region","getObjectUrl","filename","useS3Bucket","handleUpload","level","contentType","onStart","Storage","result","status","Amplify","configure","awsconfig","FileUploadButton","uploading","onInput","uploadFiles","files","arrFiles","accept","htmlFor","avatar","ProfileDetails","profile_s","newProfile","textAlign","Avatar","picture","progress","LoadingGate","Page","backLabel","onBack","mb","Container","disableGutters","useTableData","loadOnMount","useInvite","invite","useProfile","State","SetState","shouldSetLayout","handleSuccess","rowId","inviteEmail","mergedEmail","ProfileProvider","Profile","lg","md","xl","Switch","getFieldState","FormControlLabel","control","DateTimePicker","utils","DateFnsUtils","inputVariant","KeyboardButtonProps","useGroups","OutlinedSelect","inputLabel","useRef","labelWidth","setLabelWidth","offsetWidth","InputLabel","notched","Select","DatePicker","format","frequencyItems","EventDialog","groups","frequency","nextStart","nextEnd","start","end","frequencyEnd","moment","add","toDate","nextData","toISOString","OnError","g","fe","dailyMax","weeklyMinEnd","subtract","weeklyMax","biWeeklyMinEnd","biWeeklyMax","monthlyMinEnd","monthlyMax","onAddClick","defaultProps","viewOptions","ViewConfigIcon","ViewWeekIcon","ViewDayIcon","ViewAgendaIcon","Toolbar","onDateNext","onDatePrev","onDateToday","onViewChange","view","Hidden","smDown","viewOption","useData","data_str","setData","updateData","newValues","saveData","handleSaveData","useAttendanceRow","Check","defaultAgeRankingModels","defaultRankingModels","rankingValue","locked","canEdit","canDelete","AgeChart","chartData","chart","show","colors","dataLabels","enabled","divider","yaxis","lines","legend","labels","plotOptions","bar","columnWidth","stroke","mode","xaxis","axisBorder","axisTicks","categories","series","black","circle","circleText","ActionCard","actionLabel","titleProps","onLock","onRemove","onEdit","isOwner","enableLock","isAdminMode","handleLock","handleRemove","handleEdit","gutterBottom","CardActions","CircleText","StudentSummary","session","studentUserId","ResultSummary","answers","answer","SurveyResults","valueKey","surveyResults","pl","pr","sr","question","ResultsSummary","results","ageQuestionData","ChildPage","useClassData","useGroupStudents","groupId","activeStudents","pendingStudents","expiredStudents","deletedStudents","RankingModel","rankingModel","Number","sendStudentInvite","AddStudentDialog","group","isLast","useAttendance","useClassGroupAttendance","classId","MarkAttendanceDialog","rowStr","setId","merged","deepmerge","iv","StudentAttendance","DialogTableContent","breakpoint","overflowX","overflowY","AttendanceFor","EditAttendanceDialog","dialogId","OpenAttendanceButton","ClassGroupName","AttendanceHistory","present","AttendanceHistoryDialog","useEvents","useEventsByUserId","EventGroupName","groupName","eventTitle","getDateString","val","EventAttendanceHistory","useGroupAttendance","handleRefreshGroupAttendance","events","loadingEvents","handleRefreshEvents","eventId","EventAttendanceHistoryDialog","u","actionText","useSessions","sessions","useHandleCreateSession","studentId","nextRoute","changeRouteLayout","formState","setFormState","handleCreate","useProcessDataState","bold","ParticipantsDetailed","participants","ParticipantDetailed","participant","summary","summaryDeleted","red","details","semibold","createdOn","buildParticipants","includeStatus","as","ss","ClassGroup","handleRefreshGroups","instructorProfile","instructorName","activeParticipants","pendingParticipants","deletedParticipants","handleArchive","handleRestore","sm","move","onRefreshGroups","onRefresh","dateString","getRankingValue","rm","getReportData","surveyQuestionNames","surveyQuestions","concat","sq","preAnswers","postAnswers","preSurveyAnswer","postSurveyAnswer","preAnswersAverage","Decimal","dividedBy","toDecimalPlaces","toNumber","postAnswersAverage","ageQuestion","ClassReport","ap","handleChangeRouteLayout","fs","class","viewReport","remove","ViewReportDialog","ProfileDialog","green","deepPurple","archived","isAvailable","getClassStatusLabel","count","check","classText","ClassStatusChip","isArchived","Chip","ChangeGroupDialog","yellow","value_str","handleCheck","newStudents","MarkEventAttendanceDialog","useEventGroupAttendance","MarkAttendanceButton","EditEventDialog","isInstructorMode","calendar","contrastText","borderWidth","body1","subtitle2","fontWeightMedium","CalendarView","create","edit","calendarRef","mobileDevice","setDate","setView","setEditDialogState","handleEventResize","allDay","handleEventDrop","calendarEl","calendarApi","getApi","newView","changeView","next","today","allDayMaintainDuration","defaultDate","defaultView","droppable","editable","eventClick","arg","eventDrop","eventLimit","eventResizableFromStart","eventResize","rerenderDelay","unselect","submit","selectable","weekends","plugins","dayGridPlugin","timeGridPlugin","interactionPlugin","listPlugin","timelinePlugin","AdminCalendar","Calendar","StudentCalendar","InstructorCalendar","images","wifi","contacts","musicplayer","newspaper","video","getImage","imageContainer","KeySkills","keySkills","Class","preRecsMet","buttonLabel","buttonLabel2","canArchive","showUpdated","image","onClick2","classResources","classPresentations","showChildClasses","childClasses","filteredKeySkills","ks","moreKeySkills","alt","maxKeySkills","useClasses","useClassesByUserId","parentUserId","useStudentsByUserId","UserId","preRecs","groupIds","completedClasses","pass","gId","cc","StudentClasses","loadingStudents","instructorClasses","handleRefreshClasses","handleRefreshSessions","loadingSessions","handleCreateSession","handleResume","currentRoute","showArchived","setShowArchived","ShowButton","isInProgress","ip","instructorClass","ic","canStartNew","CreateNewClassButton","useAdminClasses","AdminClasses","ClassSelector","v","imported","foundImport","ClassImportDialog","done","parentClassId","parentClass","archiveClasses","InstructorClasses","refreshInstructor","adminClasses","refreshAdmin","loadingParent","notAddedClasses","ac","notAddedClasses_str","importUpdateClasses","parentAdminClass","handleAdd","pt","pb","ClassImportReplaceDialog","isNew","ml","ActionCards","cards","classData","createSession","ClassDashboard","isInstructorClass","BlockListDialog","BlockList","showIndexBadges","DialogModule","handleReplace","confirm","useFormState","transform","notchedOutline","OutlinedDivActive","labelRef","labelNode","ReactDOM","findDOMNode","ImageSelector","blue","FileActions","FileUploadLink","ClassResourceDialog","iconContainer","ActionCardClassResource","viewLabel","handleLink","HandleLink","viewed","BlockListClassResource","YouTubeAdornment","ClassPresentationLink","ClassPresentationDialog","BlockListClassPresentation","PreRecDialog","classOptions","PreRecs","useInstructorGroups","useInstructorClasses","ClassMaterials","uid","useIsOwner","shape","OutlinedDiv","Radio","RadioGroup","CreateGroupDialog","useSubmitDialogData","invitesToSend","ClassRoster","loadingGroups","TermsAndConditions","StyleGuide","circleSelected","circleLast","circleLastSelected","SurveyQuestionCard","answerKey","lastAnswerKey","selectedId","lastSelectedId","SurveyQuestions","readonly","StyledLinearProgress","colorPrimary","LinearProgress","BorderedLinearProgress","useSessionData","session_str","handleSaveSession","handleSaveCompleteSession","PostSurvey","handleChangeRoute","YourProgress","AgeQuestionCard","PreSurvey","handleAgeChange","Lesson","presentation","controls","Lessons","viewedPresentations","presentations","allViewed","contentId","setContentId","viewedPresentations_str","cp","Resources","Congratulations","displayText","CreateClass","disclaimer","panelarea","buttonProgress","ForgotPassword","BannerMsg","buttonRef","confirmNewPassword","handleReset","handleEnterReset","handleBack","onKeyUp","keyCode","click","autoComplete","BrandLogoImage","Link","AccessDenied","CreateGroupButton","Groups","ForgotPasswordRoute","ProtectedRoute","userTypes","Routes","exact","TabSelectorToolBar","tabRoute","tabToSelect","allTabs","useTabs","ut","tabs_s","HelpDialog","isStudentMode","parentEmail","parentProfile","useParentEmail","sendHelpEmail","appBar","drawer","appBarFullScreen","logo","menuButton","up","AppBarTabSelector","ApplicationBar","prevId","onLogout","handleOpenLeftDrawer","handleTabChange","defaultTabId","defaultTabRoute","handleLogoClick","handleHelpClose","resetUserType","canChangeUserType","AppBar","edge","aria-haspopup","MenuListProps","bottomAppBar","bottom","bottomAppBarBeta","bottomToolBar","pointer","Footer","displayName","href","variantIcon","CheckCircleIcon","warning","WarningIcon","ErrorIcon","info","InfoIcon","amber","iconVariant","SnackBar","setSnackBar","reason","autoHideDuration","SnackbarContent","flexShrink","drawerPaper","drawerPaperTemporary","LeftDrawer","leftDrawer","setLeftDrawer","handleLeftDrawerClose","Drawer","ModalProps","LeftDrawerContent","transitions","easing","easeOut","duration","enteringScreen","innerContent","contentHeight","padInnerContent","Layout","data-testid","TermsAndConditionsDialog","passwordValidator","schema","is","has","lowercase","digits","symbols","agree","confirmationCodeError","resendCodeError","confirmPassword","validationRulesErrors","list","displayErrors","formatPasswordValidateError","isValEmpty","EnterConfirmationCode","ResendConfirmationCode","ViewTermsAndConditions","resend","RegisterDialog","dialogStateStr","signUp","attributes","handleConfirm","confirmSignUp","handleResend","resendSignUp","confirmOnly","sendInviteRequestEmail","RequestInviteDialog","mixins","Login","enableKeys","handleForgotPassword","AuthGate","useInvites","invites","useGroupName","ResearchPartAgreement","ResearchPartyAgreementDialog","maxWdith","backButton","AcceptInvite","HeaderMsg","errorMsg","isMismatch","InviteGate","setType","refreshStudents","refreshInstructors","GroupName","SelectUserType","handleSelect","sublabel","l","UserTypeGate","useInstructorsByUserId","handleRefreshStudents","ProfileGate","profileId","profileEmail","useProfileEmailAutoUpdate","connect","ownProp","router","html","WebkitFontSmoothing","MozOsxFontSmoothing","boxSizing","fontWeightBold","createBrowserHistory","initialReduxState","store","appConfig","devToolsExtension","allReducers","combineReducers","assign","connectRouter","buildRootReducer","persistedReducer","persistReducer","compose","applyMiddleware","thunk","routerMiddleware","createStore","createStoreWithMiddleware","configureStore","persistor","persistStore","ThemedViewPort","CssBaselineCustom","AppWrapper","App","Suspense","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","hydratestate","useTableFilterUpdate","filters","tableFilterUpdate","useTableFilterValues"],"mappings":"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","file":"static/js/main.e46f64ce.chunk.js","sourcesContent":["import * as React from 'react';\nimport { makeStyles, createStyles, Typography, Grid } from '@material-ui/core';\nimport { isEmpty } from '../../helpers';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    header: {\n      color: 'inherit',\n    }\n  } as any)\n);\n\nexport default function Header({\n  superVariant = 'h6',\n  titleVariant = 'h4',\n  subVariant = 'subtitle1',\n  color = 'textSecondary' as any,\n  supertitle = undefined,\n  title = undefined,\n  subtitle = undefined,\n  ActionButton = undefined,\n  TitleButton = undefined\n}) {\n  const classes = useStyles();\n  return (\n    <Grid container spacing={1}>\n      <Grid item xs>\n        <Grid container spacing={1}>\n          {supertitle && (\n            <Grid item xs={12}>\n              <Typography color={color} variant={superVariant as any}>\n                {supertitle}\n              </Typography>\n            </Grid>\n          )}\n          {(!isEmpty(title) || !isEmpty(subtitle)) && (\n            <Grid item xs={12}>\n              <Typography className={classes.header} variant={titleVariant as any}>\n                <Grid container spacing={1} justify='space-between'>\n                  <Grid item>\n                    {title}\n                    {subtitle && (\n                      <Typography color={color} variant={subVariant as any}>\n                        {subtitle}\n                      </Typography>\n                    )}\n                  </Grid>\n                  {TitleButton && (\n                    <Grid item>\n                      <TitleButton />\n                    </Grid>\n                  )}\n                </Grid>\n              </Typography>\n            </Grid>\n          )}\n        </Grid>\n      </Grid>\n      {ActionButton && (\n        <Grid item>\n          <ActionButton />\n        </Grid>\n      )}\n    </Grid>\n  );\n}\n","import React from 'react';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport { Stepper, Step, StepLabel, Box } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport { useHandleChangeRoute } from './hooks';\nimport { useLocation } from 'react-router';\nimport Header from '../layout/Header';\nimport DialogButton from '../application/GenericDialog/DialogButton';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: '100%'\n    },\n    button: {\n      marginTop: theme.spacing(1),\n      marginRight: theme.spacing(1)\n    },\n    actionsContainer: {\n      marginBottom: theme.spacing(2)\n    },\n    resetContainer: {\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2)\n    },\n    container: {\n      marginTop: 8,\n      marginBottom: 8\n    },\n    header: {\n      color: theme.palette.primary.dark\n    },\n    stepper: {\n      background: 'inherit',\n      color: 'inherit'\n    },\n    stepLabelActive: {\n      color: 'white !important'\n    },\n    stepLabelCompleted: {\n      color: 'white !important'\n    },\n    stepIconRoot: {\n      color: 'transparent',\n      border: `1px solid ${theme.palette.primary.main}`,\n      borderRadius: 25\n    },\n    stepIconActive: {\n      color: 'white !important'\n    },\n    stepIconCompleted: {\n      color: 'white !important'\n    },\n    stepIconText: {\n      fill: `${theme.palette.primary.main} !important`\n    }\n  })\n);\n\nexport const steps = [{ label: 'Pre-Survey' }, { label: 'Lessons' }, { label: 'Post-Survey' }, { label: 'Resources' }];\n\nexport default function VerticalLinearStepper() {\n  const classes = useStyles();\n  const [activeStep, setActiveStep] = React.useState(0);\n  const { pathname } = useLocation();\n\n  React.useEffect(() => {\n    var idx = steps.findIndex(s => pathname.endsWith(`/${s.label}`));\n    if (idx !== activeStep && idx >= 0) setActiveStep(idx);\n  }, [activeStep, pathname]);\n\n  const handleReset = () => {\n    setActiveStep(0);\n  };\n\n  const changeRoute = useHandleChangeRoute();\n\n  return (\n    <Box p={1}>\n      <Box p={1}>\n        <DialogButton color='inherit' variant='link' linkVariant='h6' onClick={changeRoute('/Classes')}>\n          {`< Back to Classes`}\n        </DialogButton>\n        <Box mt={2}>\n          <Header color='inherit' supertitle={'Class 3'} subtitle={'Managing Responsibilities'} />\n        </Box>\n      </Box>\n      <Stepper className={classes.stepper} activeStep={activeStep} orientation='vertical'>\n        {steps.map(({ label }, index) => (\n          <Step className={classes.stepper} key={label}>\n            <StepLabel\n              classes={{ active: classes.stepLabelActive, completed: classes.stepLabelCompleted }}\n              StepIconProps={{\n                classes: { root: classes.stepIconRoot, completed: classes.stepIconCompleted, active: classes.stepIconActive, text: classes.stepIconText }\n              }}\n            >\n              {label}\n            </StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n      {activeStep === steps.length && (\n        <Paper square elevation={0} className={classes.resetContainer}>\n          <Typography>All steps completed - you&apos;re finished</Typography>\n          <Button onClick={handleReset} className={classes.button}>\n            Reset\n          </Button>\n        </Paper>\n      )}\n    </Box>\n  );\n}\n","import * as React from 'react';\nimport { useTheme, useMediaQuery } from '@material-ui/core';\nimport { useSelector } from 'react-redux';\nimport { adminUsers } from '../package.json';\nimport { useLayout, useUserEmail } from './components/layout/hooks';\nimport { useLocation } from 'react-router';\n\nexport const useFullScreen = (size = 'sm' as any) => {\n  const theme = useTheme();\n  return useMediaQuery(theme.breakpoints.down(size));\n};\n\nexport const useContentPadding = () => {\n  const fullScreen = useFullScreen();\n  const { layout } = useTheme();\n  return fullScreen ? layout.contentpadding_xs : layout.contentpadding;\n};\n\nexport const useSignedIn = () => {\n  const isEmpty = useSelector((s: any) => s.layout.auth === undefined);\n  const isLoaded = useSelector((s: any) => s.layout.auth !== undefined);\n  return isLoaded && !isEmpty ? true : false;\n};\n\nexport const useIsAdmin = () => {\n  const signedIn = useSignedIn();\n  const email = useUserEmail();\n  const adminEmails = adminUsers.split(',');\n  return signedIn && adminEmails.findIndex(ae => ae.trim().toLowerCase() === email.trim().toLowerCase()) > -1 ? true : false;\n};\n\nexport const useIsAdminMode = () => {\n  const isAdmin = useIsAdmin();\n  const [{ admin }] = useLayout();\n  return isAdmin === true && admin === true ? true : false;\n};\n\nexport const useIsInstructorMode = () => {\n  const [{ instructor }] = useLayout();\n  return instructor !== undefined;\n};\n\nexport const useIsStudentMode = () => {\n  const [{ student }] = useLayout();\n  return student !== undefined;\n};\n\nexport const useUserType = () => {\n  const isAdmin = useIsAdminMode();\n  const isInstructor = useIsInstructorMode();\n  const isStudent = useIsStudentMode();\n  return isAdmin ? 'Admin' : isInstructor ? 'Instructor' : isStudent ? 'Student' : 'Unknown';\n};\n\nexport const getUrlParamater = paramName => {\n  var sPageURL = window.location.search.substring(1),\n    sURLVariables = sPageURL.split('&'),\n    sParameterName,\n    i;\n\n  for (i = 0; i < sURLVariables.length; i++) {\n    sParameterName = sURLVariables[i].split('=');\n\n    if (sParameterName[0] === paramName) {\n      return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);\n    }\n  }\n  return undefined;\n};\n\nexport const useHandleLink = link => {\n  return React.useCallback(() => {\n    const win = window.open(link, '_blank');\n    win && win.focus();\n  }, [link]);\n};\n\nexport const useCurrentRoute = () => {\n  const location = useLocation();\n  return location.pathname.substr(location.pathname.lastIndexOf('/'));\n};\n\nexport const useCanChangeStudentGroup = () => {\n  const [{ students }] = useLayout();\n  const isStudentMode = useIsStudentMode();\n  return isStudentMode && students?.length > 1 ? true : false;\n};\n\nexport const useCanChangeUserType = () => {\n  const isAdmin = useIsAdmin();\n  const [{ students, instructors }] = useLayout();\n  return students.length > 1 || (isAdmin && (students?.length > 0 || instructors?.length > 0)) || (!isAdmin && students?.length > 0 && instructors?.length > 0);\n};\n\nexport const useSignedInAsText = () => {\n  const userType = useUserType();\n  return `Yor are signed in as ${userType === 'Student' ? 'a' : 'an'} ${userType}`;\n};\n","import { updateState } from '../../../helpers';\n\nexport const defaultDialogState = {\n  open: false,\n  type: 'add',\n  errors: {},\n  showErrors: false,\n  submitting: false,\n  initialValues: {}\n};\n\nconst initialState = {};\n\nexport const updateDialog = (id, payload) => ({ type: 'UPDATE_DIALOG', id, payload });\n\nexport function reducer(state = initialState, action) {\n  switch (action.type) {\n    case 'UPDATE_DIALOG':\n      return updateState(state, action);\n    case 'LOGOUT':\n      return initialState;\n    default:\n      return state;\n  }\n}\n","import React from 'react';\nimport {\n  Button,\n  IconButton,\n  Tooltip,\n  Grid,\n  Typography,\n  Fab,\n  useTheme,\n  ListItem,\n  ListItemText,\n  makeStyles,\n  createStyles,\n  Badge,\n  withStyles,\n  Link,\n  MenuItem\n} from '@material-ui/core';\nimport { useDialogState } from './useDialogState';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { checkEmpty, evalFunc } from '../../../helpers';\nimport { useTableFilterValues } from '../GenericTable/store';\nimport * as Icons from '@material-ui/icons';\nimport { useFullScreen } from '../../../hooks';\nimport StyledButton from '../../general/StyledButton';\n\nexport interface DialogModuleProps {\n  default: any;\n  title: string;\n  props?: any;\n}\n\nexport const renderDialogModule = ({ default: Dialog, title, ...props }) => Dialog && <Dialog id={title} {...props} />;\n\nexport const EditDialogButton = ({\n  variant = 'iconbutton',\n  placement = 'left',\n  tooltip = 'Edit',\n  mount = false, // Default to false, as most edit buttons are within the table rows, which get remounted in various scenaries (layout resizing etc)\n  ...other\n}) => <DialogButton variant={variant} Icon={EditIcon} type='Edit' tooltip={tooltip} placement={placement} mount={mount} {...other} />;\n\nconst StyledBadge = withStyles(theme =>\n  createStyles({\n    badge: {\n      top: 7,\n      right: 6,\n      border: `1px solid ${theme.palette.background.paper}`\n    }\n  })\n)(Badge);\n\nexport const TableFilterDialogButton = ({ table, Module, Icon = Icons.FilterList, tooltip = 'Filter Results' }) => {\n  const [values, setValues] = useTableFilterValues(table);\n  const {\n    Features = [],\n    Engagements = [],\n    Inputs = [],\n    Outputs = [],\n    Functionalities = [],\n    Conditions = [],\n    Platforms = [],\n    Cost = [],\n    Privacy = [],\n    Uses = [],\n    DeveloperTypes = [],\n    ClinicalFoundations = []\n  } = values as any;\n  const filterCount = [\n    Features,\n    Engagements,\n    Inputs,\n    Outputs,\n    Functionalities,\n    Conditions,\n    Platforms,\n    Cost,\n    Privacy,\n    Uses,\n    DeveloperTypes,\n    ClinicalFoundations\n  ].reduce((t, c) => (t = t + c.length), 0);\n\n  const handleReset = React.useCallback(() => setValues({}), [setValues]);\n  const fullScreen = useFullScreen();\n\n  return (\n    <StyledBadge badgeContent={filterCount} color='error' overlap='circle' anchorOrigin={{ horizontal: 'right', vertical: 'bottom' }}>\n      <DialogButton\n        Module={Module}\n        Icon={Icon}\n        tooltip={filterCount === 0 ? tooltip : `${filterCount} Filters Active`}\n        table={table}\n        values={values}\n        setValues={setValues}\n        onReset={handleReset}\n      >\n        {!fullScreen && 'Filter'}\n      </DialogButton>\n    </StyledBadge>\n  );\n};\n\n// Pass a dialog via Module.  If dialog is mounted elsewhere, set mounted = false to prevent duplicate mounts\nexport interface DialogButtonProps {\n  id?: string;\n  Module?: DialogModuleProps;\n  type?: 'Add' | 'Edit' | 'View';\n  tooltip?: string;\n  placement?: any;\n  color?: any;\n  variant?: string;\n  Icon?: any;\n  initialValues?: object;\n  children?: any;\n}\n\nconst useStyles = makeStyles(({ palette, spacing }: any) =>\n  createStyles({\n    margin: {\n      margin: spacing(1)\n    },\n    listitem: {\n      padding: 8,\n      paddingLeft: 16,\n      paddingRight: 8,\n      background: 'inherit',\n      '&:hover': {\n        color: palette.common.white,\n        background: palette.primary.main\n      }\n    }\n  })\n);\n\nconst DialogButton = React.forwardRef(function DialogButton(\n  {\n    id: Id = undefined,\n    Module = undefined,\n    type = 'Add',\n    tooltip = '',\n    placement = 'bottom',\n    color = 'primary',\n    variant = 'fab',\n    underline = 'hover',\n    linkVariant = 'caption',\n    styledVariant = undefined,\n    size = 'small',\n    label = '',\n    disabled = undefined,\n    Icon = undefined,\n    initialValues = {},\n    noGrid = true,\n    mount = true,\n    onSubmit = undefined,\n    onDelete = undefined,\n    onClick = undefined,\n    onClose = undefined,\n    onChange = undefined,\n    onReset = undefined,\n    values = undefined,\n    setValues = undefined,\n    className = undefined,\n    disabledColor = undefined,\n    fullWidth = undefined,\n    children,\n    ...other\n  }: DialogButtonProps & any,\n  ref\n) {\n  const classes = useStyles({});\n  const theme = useTheme();\n  const fullScreen = useFullScreen();\n  const id = Id ? Id : Module && Module.title;\n  const [, setDialogState] = useDialogState(id);\n  const [anchorEl, setAnchorEl] = React.useState<HTMLButtonElement | null>(null);\n\n  const other_s = JSON.stringify(other);\n  const handleUpdate = React.useCallback(() => {\n    setDialogState({\n      type,\n      open: true,\n      initialValues: evalFunc(initialValues),\n      ...JSON.parse(other_s)\n    });\n  }, [setDialogState, other_s, initialValues, type]);\n\n  const handleClose = React.useCallback(() => {\n    setAnchorEl(null);\n    onClose && onClose();\n  }, [onClose, setAnchorEl]);\n\n  const handleClick = React.useCallback(\n    event => {\n      setAnchorEl(event.currentTarget);\n      onClick && onClick(event);\n      handleUpdate();\n    },\n    [onClick, handleUpdate]\n  );\n\n  const shared = {\n    disabled,\n    onClick: handleClick,\n    size,\n    className\n  };\n\n  const wrapGrid = Content =>\n    !noGrid ? (\n      <Grid key={tooltip} item>\n        {Content}\n      </Grid>\n    ) : (\n      Content\n    );\n\n  return wrapGrid(\n    <>\n      {mount && Module && renderDialogModule({ ...Module, id, anchorEl, onClose: handleClose, onChange, onReset, values, setValues, onSubmit, onDelete })}\n      <Tooltip\n        placement={placement}\n        title={\n          disabled ? (\n            ''\n          ) : checkEmpty(tooltip) ? (\n            tooltip\n          ) : (\n            <Typography variant='h6' color='inherit'>\n              {tooltip}\n            </Typography>\n          )\n        }\n      >\n        <span>\n          {variant === 'styled' ? (\n            <StyledButton\n              variant={styledVariant}\n              fullWidth={fullWidth}\n              width={fullWidth ? undefined : fullScreen ? 64 : 120}\n              disabled={disabled}\n              onClick={handleClick}\n              size={size}\n            >\n              {Icon && <Icon />}\n              {(Icon === undefined || !fullScreen) && <div style={{ marginLeft: 4, marginRight: 4 }}>{children}</div>}\n            </StyledButton>\n          ) : variant === 'menuitem' ? (\n            <MenuItem key={label} {...shared}>\n              {children}\n            </MenuItem>\n          ) : variant === 'listitem' ? (\n            <ListItem key={label} button={true} className={classes.listitem} {...shared}>\n              <ListItemText primary={label} />\n            </ListItem>\n          ) : variant === 'iconbutton' ? (\n            <IconButton className={classes.margin} color={color} {...shared}>\n              {Icon && <Icon fontSize='large' />}\n            </IconButton>\n          ) : variant === 'primarycontained' ? (\n            <Button color='primary' variant='contained' {...shared}>\n              {children}\n            </Button>\n          ) : variant === 'text' ? (\n            <Button\n              color={color}\n              style={{\n                width: 48,\n                height: 48\n              }}\n              variant={variant}\n              {...shared}\n            >\n              {Icon && <Icon style={{ margin: -4 }} />}\n            </Button>\n          ) : variant === 'contained' ? (\n            <Button fullWidth={true} variant={variant} color={color as any} {...shared}>\n              {children}\n            </Button>\n          ) : variant === 'standard' ? (\n            <Button color={color as any} {...shared}>\n              {children}\n            </Button>\n          ) : variant === 'link' ? (\n            disabled ? (\n              <Typography color='textSecondary' variant={linkVariant}>\n                {children}\n              </Typography>\n            ) : (\n              <Link color={color} variant={linkVariant} underline={underline} style={{ cursor: 'pointer' }} {...shared}>\n                {children}\n              </Link>\n            )\n          ) : (\n            <Fab\n              size={size}\n              variant='extended'\n              color={color}\n              style={{\n                color: disabled ? (disabledColor ? disabledColor : theme.palette.primary.light) : theme.palette.common.white\n              }}\n              {...shared}\n            >\n              {Icon && <Icon />}\n              {children && <div style={{ marginLeft: Icon ? 4 : 0, marginRight: !fullScreen ? 4 : 0 }}>{children}</div>}\n            </Fab>\n          )}\n        </span>\n      </Tooltip>\n    </>\n  );\n});\n\nexport default DialogButton;\n","import * as React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { AppState } from '../../../store';\nimport { defaultDialogState, updateDialog } from './store';\n\nexport const useDialogState = id => {\n  const dispatch = useDispatch();\n  const dialogState = useSelector((state: AppState) => state.dialog[id] || defaultDialogState);\n  const setDialogState = React.useCallback(payload => dispatch(updateDialog(id, payload)), [id, dispatch]);\n  return [dialogState, setDialogState];\n};\n","import React from 'react';\nimport { makeStyles, Button } from '@material-ui/core';\n\nconst useStyles = makeStyles(({ palette, spacing }) => ({\n  primaryRoot: ({ width }: any) => ({\n    width,\n    color: palette.secondary.dark,\n    background: '#F1C30A',\n    borderRadius: 20,\n    borderColor: '#F1C30A',\n    '&:hover': {\n      opacity: '85%',\n      color: palette.secondary.dark,\n      background: '#F1C30A',\n      borderColor: '#F1C30A'\n    },\n    '&:disabled': {\n      opacity: '85%',\n      color: palette.common.white,\n      borderColor: palette.secondary.main,\n      background: palette.secondary.main\n    }\n  }),\n  primaryPressed: ({ width }: any) => ({\n    width,\n    color: palette.common.white,\n    background: palette.secondary.dark,\n    borderColor: palette.secondary.dark,\n    borderRadius: 20,\n    '&:hover': {\n      opacity: '85%',\n      color: palette.common.white,\n      borderColor: palette.secondary.dark,\n      background: palette.secondary.dark\n    }\n  }),\n  secondaryRoot: ({ width }: any) => ({\n    width,\n    color: palette.primary.main,\n    background: palette.common.white,\n    borderColor: palette.primary.main,\n    borderRadius: 20,\n    '&:hover': {\n      opacity: '85%',\n      borderColor: palette.primary.light,\n      color: palette.primary.light,\n      background: palette.common.white\n    },\n    '&:disabled': {\n      opacity: '85%',\n      color: palette.secondary.main,\n      background: palette.common.white\n    }\n  }),\n  secondaryPressed: ({ width }: any) => ({\n    width,\n    color: palette.secondary.dark,\n    background: palette.common.white,\n    borderColor: palette.secondary.dark,\n    borderRadius: 20,\n    '&:hover': {\n      opacity: '85%',\n      color: palette.secondary.dark,\n      borderColor: palette.secondary.dark,\n      background: palette.common.white\n    }\n  }),\n  textRoot: ({ width }: any) => ({\n    width,\n    color: palette.primary.main,\n    '&:hover': {\n      opacity: '85%',\n      color: palette.primary.light\n    },\n    '&:disabled': {\n      opacity: '85%',\n      color: palette.secondary.main\n    }\n  }),\n  textPressed: ({ width }: any) => ({\n    width\n  }),\n  text: {},\n  pressed: {},\n  disabled: {\n    color: palette.common.white,\n    background: palette.common.white\n  },\n  whiteTextRoot: ({ width }: any) => ({\n    width,\n    color: palette.common.white,\n    '&:hover': {\n      opacity: '85%'      \n    },\n    '&:disabled': {\n      opacity: '85%',\n      color: palette.secondary.main\n    }\n  }),\n  whiteTextPressed: ({ width }: any) => ({\n    width,\n    text: {},\n    pressed: {},\n    disabled: {\n      color: palette.common.white,\n      background: palette.common.white\n    }\n  })\n}));\n\nexport type StyledButtonVariant = 'primary' | 'secondary' | 'text' | 'whiteText';\n\nexport default function StyledButton({\n  disabled = undefined,\n  pressed = undefined,\n  width = undefined,\n  variant = 'primary' as StyledButtonVariant,\n  size = 'large' as any,\n  Icon = undefined,\n  children,\n  ...other\n}) {\n  const classes = useStyles({ width });\n  const rootClass = classes[`${variant}Root`];\n  const pressedClass = classes[`${variant}Pressed`];\n\n  const className = pressed ? pressedClass : rootClass;\n  return (\n    <Button\n      disabled={disabled}\n      color='default'\n      variant={variant === 'text' || variant === 'whiteText' ? 'text' : 'contained'}\n      size={size}\n      className={className}\n      {...other}\n    >\n      {Icon && <Icon />}\n      {variant === 'text' ? <u>{children}</u> : children}\n    </Button>\n  );\n}\n","module.exports = __webpack_public_path__ + \"static/media/Montserrat-Regular.6e5293f1.woff2\";","module.exports = __webpack_public_path__ + \"static/media/archivo-v7-latin-regular.1311922f.woff2\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAYAAABxlTA0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAbISURBVHgB7Z1LjBRFGMf/3TOz89gHu6LrjQAHo0aQAIlIDIHEGD0oXExQD0Bi9kTMepF4I/GEknjBCIoCESVBSBY8qEQFMSYrLoZXiMthXyIIgd15T8+ju6yvhx122NmFYaqqa2bnl/ROd/VspvvfX331+qrLgER6e3s7U4XIJhjOBsBYBrBOaIERZWDnTMfYb9rOr7t37xiBJAxIomfrexuY4dunj6iV4QKM2Mx594tdH/ZBAj5IoOedbdsZzE/5bgj602kYxsblz62O/XXm934IRrgFv71121p+wSchgiVrgGQMGD7vHlqWBdu2y77i8/kQDAbBfxO1whhbt3fXjlMQiB+CMU1jH2OonUXPAs+sKe5P/IfczX+QyaRn/HooVHtmMQ1jH/0yBGJCIGS9XNyFEEEqWvzMW+7m8818qfyhQgTcLhbSPUAgQi3YNMz1DCLMl3NzFDjyUXE/n+UC+9HZ2UXZePrvmuLshD+r9fzjFAQhVGAu7jKIhAs7FfKzInztbDgQlAPvINRFNATMEFqtFF7IlVi0FHXF8AXIQJ7Aq15DXSFJ4KaLkExTYMk0BZZMU2DJeCbwfOMWIkYajY68WsQMkLBbAnvxhPm3e/xT4SUcLryJRkW5Bb/q7yuJS7zoP+GmNSrKBV5gjk1LI6tuVJQLPOYseKC0RkG5wN8VNuA2e7R0POg8iX7nBTQqygs5Evf97E7XD6dZBFdZ41ovoVzgSa5wy50LNBsakmlMgSduQBc8cxHSOHuC+58zQOs84JUeIBCElzSWBV88XRSXSPHh/v7j8JrGEZgP7ePS6fK0q4PT0xRTVwKzbMbdpkFD/L99W/mfyKqvXoFX1I3ATnwcsYMfIH54J+xb/5af/PmrokuYiT+O342zUExdCEziJo59wq3XgpOYQPL7L/nnePEkFWqziUvkrOJDuCcMQAXaC0wugcQlYSeh/UQfF/zsj3cLtftBD4EehmK0Fzj1y6EycScx0nEYV/5EVVAQoeJCT2uBM2d+QH740rR0CpVqa2vHQ0GFHoVlKUJbgUlca6Bylm5v76gtHo1qHIoKPS0Fzg9dnFHcSCRSe7CfwkJPO4GpxpA6eajiuXA4jGBQUNC8okJPK4GnVsfuhSLZQ6EwhKKg0JPW2bO2q4Bqyd0YhPP88ornWoJBoXHAd+HX2ZYSFxB8D9IEXveIjapZvRxecQpyaHa4S0ZbgQu2jfFoHLFEspQWS6QwEUuUphHEk2ncGo+539UVbTvcLSvnbkRrOIR8wUEqVexJC7a0wO/3IZkshl5lMlm0t0WgI9oK3NIScGsOhGGYXFRf6TjIz9FcDTp2HAeRsL7zHfUVOODH4491laXd71hHmoWcZJRZ8GSWNjV4pLlc9XX0h0WZwF0drbyZ2wIdyOXyuB1NQAXK7Mnv18fdTxaWKmj6YMl4alYF24FsfKb86bez4ZnACd5ISKYtqKCDN0JaI97UlT1zEXmFzVuLF2pe4ZkFz2trRcrHh+GZoNcfzEJ7RHA/chV4JjC9YKND0/4DkXgmsJXNIRpPVXzBhmjmpA9OW1kl4hJz0geTX1QhMFXR5qQPDvDesvmdHWh0PPXB8YT8ucr0Rqr21rBn/SCeCUw+2Hbkt+SosZjmIyNzTuAwH/axbcb9sHyRIyHvevG8EzgcdLdGR8shI+qvTWV4K68K426LBLXpb56KlgLHeEdQoVBdX0UsaaNbQ4G17A+OhKp3HQ/zPyrQ0oKpWetV01Y0zRENyTQFlkxTYMlI88Ef79pTduzTISBiCipakYQ0gaPROJo0XYR06uZ9ERS40t3djXw+j2QyiUwmg3qgLgSm2UUrV64srTRAyz0MDAzUhchCXUS1zdsHZfHixWXLONA+pcmAMbH3IFhgOVGLleLaRKybUYlsNgeRCBXYsjJSxtkSiemRkNeuXYMM8oJnfwoVmMTNZsWHQw0NDWFsbMzdp1wyOjqK69evQzSVlvKpFeGFHF1kIBBwFxYRyeDgoLvJwnFsNweKRmw92ECUrJiqUbatLoq8VuhayQ3JcG+CLZiN0F+a+ROPx91VsqgwMk11Ac/VQIKS1VKuK2EY5yAQsQIz8xiXt3fyMJvNupvfX5yS5WWc7lRIWLLaSrUeA0zo26KF3/Hrb/UMM0PsekCq4LqPHP36M32XOyOYYW5BnWKabDMEI9w5Xr4wMPL0khUxnjdeRl3hbD9ycO8BCEZK6XP54tn+p5auOG8yrOJCa71oKs9zUWYbbxz95vM9kIDUUmfjxs0LbTOwlpnmJm4hy/jPaSI2ozcineM335dP5g/09e2X9oak/wEgRX6eEvDhAwAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/group.3f0d16c3.png\";","import { AppState } from './store';\nimport { theme } from './constants';\nimport packageJson from '../package.json';\nimport { v4 as uuidv4 } from 'uuid';\n\nexport function hostAddress(append?) {\n  return (\n    window.location.protocol + '//' + window.location.hostname + (window.location.port ? ':' + window.location.port : '') + (append !== undefined ? append : '')\n  );\n}\n\nexport const debugSettings = {\n  debugoutput: false,\n  logviewport: false,\n  logrender: true,\n  logmapping: false,\n  logreducer: false,\n  logselectors: false,\n  logform: true,\n  logformupdates: true,\n  debugfieldonhover: false\n};\n\nexport function printHeader() {\n  console.log(\n    `%c\n\n      \n\n        \n        \n  \n        \n\nHost: ${hostAddress()}\n\nEnvironment: ${process.env.NODE_ENV}\nVersion: ${packageJson.version}\n                         \n`,\n    'font-family:monospace;color:' + theme.palette.primary.main + ';font-size:12px;'\n  );\n}\n\nexport function getViewPortHeight(state: AppState) {\n  return state.layout.height;\n}\n\nexport function getLayoutHeight(state: AppState) {\n  return getViewPortHeight(state);\n}\n\nexport const setIfEmpty = value => (value === undefined || value === null ? '' : value);\nexport const checkEmpty = value => value === undefined || value === null || value === '' || (Array.isArray(value) && value.length === 0);\nexport const undefinedIfEmpty = value => (checkEmpty(value) ? undefined : value);\nexport const isDefined = value => value !== undefined && value !== null;\nexport const hasChanged = (current, initial) => JSON.stringify(current) !== JSON.stringify(initial);\n\nexport const getKey = ({ container, object, id }: any) => [container, object, id].filter(v => !checkEmpty(v)).join('.');\n\nexport function validateEmail(email) {\n  return /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\n    String(email).toLowerCase()\n  );\n}\n\nexport function validateHttpUrl(url) {\n  return /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w.-]+)+[\\w\\-._~:/?#[\\]@!$&'()*+,;=.]+$/.test(String(url).toLowerCase());\n}\n\nexport function capitalize(s) {\n  if (typeof s !== 'string') return '';\n  return s.charAt(0).toUpperCase() + s.slice(1);\n}\n\nexport const uncapitalize = s => {\n  if (typeof s !== 'string') return '';\n  return s.charAt(0).toLowerCase() + s.slice(1);\n};\n\nexport function copyToLower(obj = {}) {\n  var key,\n    keys = Object.keys(obj);\n  var n = keys.length;\n  var newobj = {};\n  while (n--) {\n    key = keys[n];\n    newobj[uncapitalize(key)] = obj[key];\n  }\n  return newobj;\n}\n\nexport const isTrue = value => value === 1 || value === '1' || value === true || value === 'true';\nexport const isFalse = value => value === 0 || value === '0' || value === false || value === 'false';\n\n// Converts a string, number or boolean to boolean with default false\nexport const bool = x =>\n  typeof x === 'boolean'\n    ? x\n    : typeof x === 'number'\n    ? x === 1\n      ? true\n      : false\n    : typeof x === 'string'\n    ? x === '1'\n      ? true\n      : x.toLowerCase() === 'true'\n      ? true\n      : false\n    : false;\n\n// If a function, then return the result of the function call with props passed in.  Else return the value\nexport const evalFunc = (value, props = undefined) => (typeof value === 'function' ? value(props) : value);\n\nexport const emptyUndefined = value => (value === false || value === null ? undefined : value);\nexport const isError = value => (value === undefined || value === null || value === '' ? false : true);\n\nexport const copyDeleteKey = (key, obj) => deleteKey(key, { ...obj });\n\nexport const deleteKey = (key, obj) => {\n  delete obj[key];\n  return obj;\n};\n\nexport const getLabel = f => (f.label === null ? undefined : f.label !== undefined ? f.label : f.id);\n\nexport function spread(final, current) {\n  return { ...final, ...current };\n}\n\nexport function isEmpty(str) {\n  return !str || 0 === str.length;\n}\n\nexport function triggerResize() {\n  window.dispatchEvent(new CustomEvent('resize')); //Makes the indicator start animating\n  setTimeout(() => window.dispatchEvent(new CustomEvent('resize')), 200); //Ensures the animation resized correctly after the drawer finishes opening/closing\n}\n\nexport function randomInt(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nexport const publicUrl = path => process.env.PUBLIC_URL + path;\n\nexport function updateState(state, { payload, id }) {\n  const data = evalFunc(payload, state[id]);\n  var newState = { ...state };\n  newState[id] = data;\n  if (state && state[id]) {\n    newState[id] = data;\n  }\n  return newState;\n}\n\nexport function uuid() {\n  return uuidv4();\n}\n\n//returns milliseconds from Jan 1 1970\nexport function getTime() {\n  return Date.now();\n}\nexport function getIsoDateString(timestamp?: number) {\n  var d = new Date(0);\n  d.setUTCMilliseconds(timestamp || getTime());\n  return d.toISOString();\n}\n\nexport function getDateFromTimestamp(milliseconds): string {\n  //UTC timestamp is milliseconds since Jan 1 1970\n  var d = new Date(0); // The 0 there is the key, which sets the date to the epoch\n  //utc time\n  d.setUTCMilliseconds(milliseconds);\n  return mmddyyyy(d);\n}\n\nexport function getTimeFromTimestamp(milliseconds): string {\n  //UTC timestamp is milliseconds since Jan 1 1970\n  var d = new Date(0); // The 0 there is the key, which sets the date to the epoch\n  //utc time\n  d.setUTCMilliseconds(milliseconds);\n  return getHoursMinutes(d);\n}\n\nfunction addZero(i) {\n  if (i < 10) {\n    i = '0' + i;\n  }\n  return i;\n}\n\nexport function getHoursMinutes(date) {\n  var h = addZero(date.getHours());\n  var m = addZero(date.getMinutes());\n  return h + ':' + m;\n}\n\nexport function yyyymmdd(date?: Date) {\n  date = date ? date : new Date(); //If we don't pass a date in, then create it\n\n  var mm = date.getMonth() + 1; // getMonth() is zero-based\n  var dd = date.getDate();\n\n  return [date.getFullYear(), (mm > 9 ? '' : '0') + mm, (dd > 9 ? '' : '0') + dd].join('-');\n}\n\nexport function mmddyyyy(date) {\n  var mm = date.getMonth() + 1; // getMonth() is zero-based\n  var dd = date.getDate();\n\n  return [(mm > 9 ? '' : '0') + mm, (dd > 9 ? '' : '0') + dd, date.getFullYear()].join('/');\n}\n\nexport function getDateForInput(date) {\n  //should be in this format: 2019-01-02\n  return yyyymmdd(date);\n}\n\n// Returns minutes elapsed from time to current time\nexport function minutesFrom(time) {\n  var current = new Date().getTime();\n  var diff = (current - time) / 60000; //converts milliseconds to elapsed minutes\n  return diff > 0 ? diff : 0;\n}\n\nexport function minutesToTimeAgo(minutes) {\n  var d = Math.floor(minutes / 1440);\n  var h = Math.floor((minutes - d * 1440) / 60);\n  var m = Math.floor(minutes % 60);\n  var ret = '';\n  if (d > 0) {\n    ret = ret + d + 'd ';\n  }\n  if (h > 0 || d > 0) {\n    ret = ret + h + 'h ';\n  }\n  if (m >= 0 || h > 0 || d > 0) {\n    ret = ret + m + 'm ';\n  }\n  if (ret !== '') ret = ret + 'ago';\n  return ret;\n}\n\nexport const timeAgo = time => (time ? minutesToTimeAgo(minutesFrom(time)) : '');\n\nexport function sortDescending(a = 0, b = 0) {\n  if (a < b) return 1;\n  if (a > b) return -1;\n  return 0;\n}\n\nexport function sortAscending(a = 0, b = 0) {\n  if (a < b) return -1;\n  if (a > b) return 1;\n  return 0;\n}\n\nexport function sortUdpatedAscending({ updated: a }, { updated: b }) {\n  return sortAscending(a, b);\n}\n\nexport function sortUdpatedDescending({ updated: a }, { updated: b }) {\n  return sortDescending(a, b);\n}\n\n// Sorts strings by their natural look, i.e abc10 comes after abc1\nexport function sortDescendingNatural(a, b) {\n  return a.localeCompare(b, undefined, { numeric: true, sensitivity: 'base' });\n}\n\nexport function sortNameDescending({ name: a }, { name: b }) {\n  return sortDescendingNatural(a, b);\n}\n\nexport function sortHeadlineDescending({ headline: a }, { headline: b }) {\n  return sortDescendingNatural(a, b);\n}\n\nexport const getAndroidIdFromUrl = (url: string) => {\n  var searchStr = '?id=';\n  var index = (url as string)?.indexOf(searchStr);\n  if (index >= 0) {\n    var indexEnd = url.indexOf('&', index);\n    return url.substring(index + searchStr.length, indexEnd >= 0 ? indexEnd : undefined);\n  }\n};\n\nexport const getAppleIdFromUrl = (url: string) => {\n  var searchStr = '/id';\n  var index = (url as string)?.indexOf(searchStr);\n  if (index >= 0) {\n    var indexEnd = url.indexOf('&', index);\n    return url.substring(index + searchStr.length, indexEnd >= 0 ? indexEnd : undefined);\n  }\n};\n\nexport function onlyUnique(value, index, self) {\n  return self.indexOf(value) === index;\n}\n\nfunction dayAbbrOfWeek(dayIndex) {\n  return ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'][dayIndex];\n}\n\nfunction monthAbbrOfYear(monthIndex) {\n  return ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'June', 'July', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'][monthIndex];\n}\n\nfunction nth(d) {\n  if (d > 3 && d < 21) return 'th';\n  switch (d % 10) {\n    case 1:\n      return 'st';\n    case 2:\n      return 'nd';\n    case 3:\n      return 'rd';\n    default:\n      return 'th';\n  }\n}\n\nexport function getDayTimeFromTimestamp(timestamp: number) {\n  var d = new Date(0); // The 0 there is the key, which sets the date to the epoch\n  d.setUTCMilliseconds(timestamp); //utc time\n  var day = dayAbbrOfWeek(d.getDay());\n  var year = d.getDate() + nth(d.getDate());\n  var h = d.getHours();\n  var m = addZero(d.getMinutes());\n  var isPM = h > 12 ? true : false;\n  h = isPM ? h - 12 : h === 0 ? 12 : h; //If PM, subtract 12.  If we are 0 or midnight, then set to 12, otherwise use the normal hour index\n  var month = monthAbbrOfYear(d.getMonth());\n\n  return `${day} ${month} ${year} ${h}:${m} ${isPM ? 'PM' : 'AM'}`;\n}\n\nexport function getDayMonthYear(timestamp: number = Date.now()) {\n  var d = new Date(0); // The 0 there is the key, which sets the date to the epoch\n  d.setUTCMilliseconds(timestamp); //utc time\n  var day = dayAbbrOfWeek(d.getDay());\n  var year = d.getDate() + nth(d.getDate());\n  var month = monthAbbrOfYear(d.getMonth());\n\n  return `${day} ${month} ${year}`;\n}\n\n// Accepts a single paramater which is one or more emails separated\n// by space,comma,semicolon,tab, or newline.\n// Returns an array of tokens that should be emails\n// Does not validate emails to see if they are well formed.\nexport function parseEmails(emails) {\n  return isEmpty(emails) ? [] : emails.toLowerCase().split(/[\\s,;\\t\\n]+/);\n}\n\nexport const getClassTitle = ({ headline, name }) => [headline, name].filter(x => !isEmpty(x)).join(' - ');\n\nexport const getStudentName = ({ student, profile }) => profile?.name ?? student?.email ?? 'Unknown Name';\n\nexport const getFileName = file => {\n  return (file?.name ?? 'unknown').split(' ').join('_'); // Get filename and remove any spaces\n};\n","import Montserrat from '../src/fonts/Montserrat-Regular.woff2';\nimport Archivo from '../src/fonts/archivo-v7-latin-regular.woff2';\n\nexport const montserrat = {\n  fontFamily: 'Montserrat',\n  fontStyle: 'normal',\n  fontDisplay: 'swap',\n  fontWeight: 400,\n  src: `\n    local('Montserrat'),\n    local('Montserrat-Regular'),\n    url(${Montserrat}) format('woff2')\n  `,\n  unicodeRange:\n    'U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF'\n};\n\nexport const archivo = {\n  fontFamily: 'Archivo',\n  fontStyle: 'normal',\n  fontDisplay: 'swap',\n  fontWeight: 400,\n  src: `\n    local('Archivo'),\n    local('Archivo-Regular'),\n    url(${Archivo}) format('ttf')\n  `,\n  unicodeRange:\n    'U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF'\n};\n","import { createMuiTheme, Theme } from '@material-ui/core/styles';\nimport { montserrat, archivo } from './fonts';\nimport { steps } from './components/layout/LeftDrawerContent';\n\nconst basetheme = createMuiTheme({});\nexport const beta = true;\n\nexport const ageQuestionLabel = 'Which of the following best describes your age group?'\n\nconst shared = {\n  typography: {\n    fontFamily: 'Montserrat, Archivo'\n    //fontSize: 12\n  },\n  palette: {\n    type: 'light',\n    primary: {\n      light: '#65C6F4', // Soft Blue\n      main: '#00A2EF', // Vivid Blue\n      dark: '#005077' // Color used in bottom toolbar\n    },\n    secondary: {\n      light: '#FAFAFA', // Soft Gray\n      main: '#AAB4BA', // Cold Gray\n      dark: '#384954' // Deep Cold Gray\n    }\n  },\n  layout: {\n    noScrollPaths: ['/doors/Instructors', '/Instructors'], // Routes that don't have a scrollable container\n    noPadPaths: [], // Routes that don't have content padding\n    drawerPaths: ['Congratulations', ...steps.map(s => s.label)], // Routes where the drawer should be shown\n    leftDrawerWidth: 200, //The width of the left nav drawer\n    toolbarheight: 64, //The height of the top toolbar\n    contentpadding: 40, //The padding around the inner layout content\n    contentpadding_xs: 12, //The padding around the inner layout content when xs screensize\n    contentrowspacing: 2, //the spacing between each row of content (toolbar, filterbar, table, etc)\n    tablefooterheight: 20, //The height of the table footer\n    tablefilterbarheight: 52, //The height of the table filter selector (category selector)\n    tabletoolbarheight: basetheme.spacing(5.5) * 2, // The height of the top bar on the table, also the height of the secondary tabselector\n    tableRowHeight: basetheme.spacing(6), // Height of table rows\n    footerheight: 24, //The height of the bottom toolbar\n    progressSize: 100, // size of the circular progress indicator shown when dialogs are submitting\n    tabheight: 116 // Height of the nav pills tab section\n  },\n  overrides: {\n    MuiCssBaseline: {\n      '@global': {\n        '@font-face': [montserrat, archivo]\n      }\n    },\n    MuiTooltip: {\n      // Name of the component  / style sheet\n      tooltip: {\n        // Name of the rule\n        maxWidth: 700\n      }\n    },\n    MuiTypography: {\n      // Name of the component  / style sheet\n      h6: {\n        lineHeight: 1.2\n      },\n      subtitle1: {\n        // Name of the rule\n        lineHeight: 1.4\n        //background: basetheme.palette.background.default,\n      }\n    },\n    MuiDialogTitle: {\n      // Name of the component  / style sheet\n      root: {\n        // Name of the rule\n        paddingLeft: 16,\n        paddingRight: 16,\n        paddingTop: 12,\n        paddingBottom: 12\n        //background: basetheme.palette.background.default,\n      }\n    },\n    MuiDialogActions: {\n      // Name of the component  / style sheet\n      root: {\n        // Name of the rule\n        background: basetheme.palette.grey[100],\n\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'flex-end',\n        flex: '0 0 auto',\n        margin: 0,\n        padding: '8px 4px'\n        //padding: 0,\n      }\n    },\n    MuiListItemIcon: {\n      root: {\n        color: basetheme.palette.grey[100]\n      }\n    }\n  }\n} as Theme & any;\n\nexport const theme = createMuiTheme(shared);\n","import { AppState } from '../../../store';\nimport { GenericTableContainerProps } from './GenericTableContainer';\nimport * as TableStore from './store';\nimport { isEmpty, spread } from '../../../helpers';\n\n///////////////////////////////////////////\n/////////////// Table Sorters  ////////////\n//////////////////////////////////////////\n\nexport type SortComparator = 'text';\nconst sortComparators = {\n  text: desc\n};\n\n///////////////////////////////////////////\n/////////////// Table Filters ////////////\n//////////////////////////////////////////\n\nexport interface ColumnFilter {\n  value: string | boolean;\n  column: string;\n}\n\nconst isMatch = (obj, re) => {\n  if (obj.getSearchValues) {\n    return obj.getSearchValues().match(re);\n  } else {\n    for (var attrname in obj) {\n      if (['id', 'id', 'key', 'getValues', 'edit', 'action'].includes(attrname.toLowerCase())) continue;\n      if (obj[attrname])\n        if (isNaN(obj[attrname])) {\n          //only search non numeric values\n          try {\n            if (obj[attrname].match(re)) return true;\n          } catch (e) {\n            continue;\n          }\n        } else {\n          //it is a number\n          try {\n            if (obj[attrname].toString().match(re)) return true;\n          } catch (e) {\n            continue;\n          }\n        }\n    }\n  }\n  return false;\n};\n\nconst isColumnExactMatch = (obj, cf: ColumnFilter) => {\n  return obj[cf.column] != null && obj[cf.column] === cf.value ? true : false;\n};\n\n//extracts the necessary properties from the table's component props so table_filter can be called\nexport const tableFilter = (data: any, state: AppState, props: GenericTableContainerProps, customFilter = undefined) => {\n  //Extract the table information from the redux store\n  const table: TableStore.Table = state.table[props.name];\n  var searchtext = table?.searchtext;\n\n  const columnfilter = table &&\n    table.columnfiltervalue != null &&\n    table.columnfiltercolumn != null && {\n      value: table && table.columnfiltervalue,\n      column: table && table.columnfiltercolumn\n    };\n\n  const filtered = table_filter(data, columnfilter, searchtext, customFilter);\n  return table && table.orderBy ? stableSort(filtered, getSorting(table.orderDirection, table.orderBy, table.sortComparator)) : filtered;\n};\n\nexport const useTableFilter = (data: any, name: string = undefined, customFilter = undefined) => {\n  if (isEmpty(name)) {\n    return data;\n  }\n  //Extract the table information from the redux store\n  const table = TableStore.useTable(name);\n  const searchtext = table?.searchtext;\n\n  const columnfilter = table &&\n    table.columnfiltervalue != null &&\n    table.columnfiltercolumn != null && {\n      value: table && table.columnfiltervalue,\n      column: table && table.columnfiltercolumn\n    };\n\n  const filtered = table_filter(data, columnfilter, searchtext, customFilter);\n  return table && table.orderBy ? stableSort(filtered, getSorting(table.orderDirection, table.orderBy, table.sortComparator)) : filtered;\n};\n\nexport const table_filter = (data, columnfilter: ColumnFilter, searchtext = '', customFilter = undefined) => {\n  var performcolumnfilter = false;\n  if (columnfilter) if (columnfilter.column) if (columnfilter.value !== 'All' && columnfilter.value !== '') performcolumnfilter = true;\n\n  const performtextfilter = searchtext && searchtext !== '' ? true : false;\n  const re = new RegExp(searchtext.replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1'), 'gi'); // Ensures that all possible regex characters in searchtext are escaped before searching\n\n  return data.filter(\n    x =>\n      (performcolumnfilter ? isColumnExactMatch(x, columnfilter) : true) &&\n      (performtextfilter ? isMatch(x, re) : true) &&\n      (customFilter ? customFilter(x) : true)\n  );\n};\n\nfunction desc(a, b, orderBy) {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n  return 0;\n}\n\nfunction stableSort(array, cmp) {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = cmp(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map(el => el[0]);\n}\n\nfunction getSorting(order, orderBy, sortComparator) {\n  const cmp = sortComparators[sortComparator];\n  return cmp && order === 'desc' ? (a, b) => -cmp(a, b, orderBy) : (a, b) => cmp(a, b, orderBy);\n}\n\nexport function setDefaults(state: TableStore.State, tables: TableStore.Table[]): TableStore.State {\n  //If default table doesnt exist in state, then populate the values, then combine state with upated state\n  return tables\n    .filter(t => !state[t.id])\n    .map(t => updateState(state, t))\n    .reduce(spread, { ...state });\n}\n\n// Store helpers\nexport function updateState(state: TableStore.State, table: TableStore.Table) {\n  var newState = { ...state };\n  newState[table.id] = table;\n  if (state && state[table.id]) {\n    //If table already exists, keep any other existing props\n    newState[table.id] = {\n      ...state[table.id],\n      ...table\n    };\n  }\n  return newState;\n}\n\nexport const isObject = obj => typeof obj === 'object';\nexport const isObjectWithKeys = obj => isObject(obj) && Object.keys(obj).length > 0;\n","import { useFullScreen } from './../../hooks';\nimport * as React from 'react';\nimport useComponentSize from '@rehooks/component-size';\nimport { useHistory, useLocation } from 'react-router';\nimport { AppState } from '../../store';\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux';\nimport { publicUrl, copyToLower, isEmpty } from '../../helpers';\nimport { Auth } from 'aws-amplify';\nimport { useTheme } from '@material-ui/core';\nimport { homepage } from '../../../package.json';\n\nexport const useLayoutKey = key => useSelector((state: AppState) => state.layout[key], shallowEqual);\nexport const useAuth = () => useLayoutKey('auth') || {};\nexport const useUserEmail = () => {\n  const auth = useAuth();\n  return auth.signInUserSession?.idToken?.payload?.email ?? 'Username';\n};\nexport const useUserId = ({ userId = undefined } = {}) => {\n  const auth = useAuth();\n  return userId ? userId : auth.username;\n};\n\nexport const useDisplayName = () => {\n  const email = useUserEmail();\n  const [{ profile }] = useLayout();\n  return profile?.name ?? email;\n};\n\nexport const useLogout = () => {\n  const dispatch = useDispatch();\n  const changeRoute = useChangeRoute();\n  return React.useCallback(() => {\n    dispatch({ type: 'LOGOUT' });\n    changeRoute('/');\n  }, [changeRoute, dispatch]);\n};\n\nconst handleValidation = ({ message }, dialogState) => {\n  var errors = copyToLower(dialogState.errors); // start with server generated errors, ensure all keys start with lowercase letter\n\n  if (!isEmpty(message)) {\n    if (message.includes('password') || message.includes('Password')) {\n      errors['password'] = message;\n    } else {\n      if (message.includes('not confirmed')) {\n        message = message + ' Click the Confirm Account button below to enter the verification code.';\n      }\n      errors['email'] = message;\n    }\n  }\n\n  return errors;\n};\n\nexport const useLogin = ({ state = {}, setState = undefined, onSuccess = undefined }) => {\n  const dispatch = useDispatch();\n  const stateStr = JSON.stringify(state);\n  const handleLogout = useLogout();\n\n  const handleLogin = React.useCallback(\n    ({ forgotPassword, enterNewPassword, confirmationCode, newPassword, email: Email = '', password }) => {\n      handleLogout(); // Ensure we are logged out of everything prior to logging in\n      const email = Email.toLowerCase(); // Ensure email is always lower case\n      setState(prev => ({ ...prev, open: false, loading: true, showErrors: false, errors: {} }));\n      if (forgotPassword) {\n        if (enterNewPassword) {\n          Auth.forgotPasswordSubmit(email, confirmationCode, newPassword)\n            .then(data => {\n              alert('Successfully updated password.');\n              Auth.signIn(email, newPassword)\n                .then(user => {\n                  console.log('Login success!');\n                  dispatch({ type: 'LOGIN', auth: user });\n                  setState(prev => ({ ...prev, open: false, loading: false, errors: {} }));\n                  onSuccess && onSuccess();\n                })\n                .catch(err => {\n                  console.error('Error with Login');\n                  console.error(err);\n                  const newErrors = handleValidation({ message: err.message }, JSON.parse(stateStr));\n                  setState(prev => ({ ...prev, loading: false, showErrors: true, errors: newErrors }));\n                });\n            })\n            .catch(err => {\n              console.error('Error resetting password');\n              console.error(err);\n              const newErrors = handleValidation({ message: err.message }, JSON.parse(stateStr));\n              setState(prev => ({ ...prev, loading: false, showErrors: true, errors: newErrors }));\n            });\n        } else {\n          Auth.forgotPassword(email)\n            .then(data => {\n              alert('An email has been sent with instructions for resetting your password.');\n              setState(prev => ({ ...prev, loading: false, enterNewPassword: true }));\n            })\n            .catch(err => {\n              console.error('Error requesting reset');\n              const newErrors = handleValidation({ message: err.message }, JSON.parse(stateStr));\n              setState(prev => ({ ...prev, loading: false, showErrors: true, errors: newErrors }));\n            });\n        }\n      } else {\n        Auth.signIn(email, password)\n          .then(user => {\n            console.log('Login success!');\n            dispatch({ type: 'LOGIN', auth: user });\n            onSuccess && onSuccess();\n            setState(prev => ({ ...prev, open: false, loading: false, errors: {} }));\n          })\n          .catch(err => {\n            console.error('Error with Login');\n            console.error(err);\n            const newErrors = handleValidation({ message: err.message }, JSON.parse(stateStr));\n            setState(prev => ({ ...prev, loading: false, showErrors: true, errors: newErrors }));\n          });\n      }\n    },\n    [dispatch, onSuccess, setState, handleLogout, stateStr]\n  );\n\n  return { handleLogin };\n};\n\nexport const useResizeAppBar = () => {\n  const dispatch = useDispatch();\n  return React.useCallback(height => dispatch({ type: 'RESIZE_APPBAR', height }), [dispatch]);\n};\n\nexport const useAppBarHeight = (): number => {\n  return useSelector((state: AppState) => state.layout.appBarHeight);\n};\n\nexport const useResizeViewPort = () => {\n  const dispatch = useDispatch();\n  return React.useCallback(props => dispatch({ type: 'RESIZE_VIEWPORT', ...props }), [dispatch]);\n};\n\nexport const useHeight = (): number => {\n  return useSelector((state: AppState) => state.layout.height);\n};\n\nexport const useWidth = (): number => {\n  return useSelector((state: AppState) => state.layout.width);\n};\n\nexport const useDimensions = () => {\n  return [useHeight(), useWidth()];\n};\n\nexport const useAppBarHeightRef = () => {\n  let ref = React.useRef(null);\n  const { height } = useComponentSize(ref);\n  const resizeAppBar = useResizeAppBar();\n  React.useEffect(() => {\n    resizeAppBar(height);\n  }, [resizeAppBar, height]);\n  return ref;\n};\n\nexport const useHandleChangeRoute = () => {\n  const changeRoute = useChangeRoute();\n  return React.useCallback((route, state = undefined, search = undefined) => event => changeRoute(route, state, search), [changeRoute]);\n};\n\nexport const useChangeRoute = () => {\n  const { pathname } = useLocation();\n  const history = useHistory();\n  return React.useCallback(\n    (route: string, state: any = undefined, search: any = undefined) => {\n      if (pathname !== route && history) {\n        history.push({ pathname: publicUrl(route), search, state });\n      }\n    },\n    [history, pathname]\n  );\n};\n\nexport const useChangeRouteLayout = () => {\n  const { pathname } = useLocation();\n  const history = useHistory();\n  const [, setLayout] = useLayout();\n  return React.useCallback(\n    (route: string, state: any = undefined, search: any = undefined) => {\n      if (pathname !== route && history) {\n        history.push({ pathname: publicUrl(route), search, state });\n      }\n      state && setLayout(state);\n    },\n    [history, pathname, setLayout]\n  );\n};\n\nexport const useHandleChangeRouteLayout = () => {\n  const changeRoute = useChangeRouteLayout();\n  return React.useCallback((route, state = undefined, search = undefined) => event => changeRoute(route, state, search), [changeRoute]);\n};\n\nexport const useLayout = (): any[] => {\n  const dispatch = useDispatch();\n  const layout = useSelector((state: AppState) => state.layout, shallowEqual);\n  const setLayout = React.useCallback(\n    payload => {\n      dispatch({ type: 'UPDATE_LAYOUT', payload });\n    },\n    [dispatch]\n  );\n  return [layout, setLayout];\n};\n\nexport const useLeftDrawer = (): any[] => {\n  const { pathname } = useLocation();\n  const [{ leftDrawerOpen }, setLayout] = useLayout();\n  const { layout }: any = useTheme();\n  const fullScreen = useFullScreen();\n  const { drawerPaths } = layout;\n  const parts = (homepage ?? '').split('/');\n  const lastPart = (parts.length > 0 ? parts[parts.length - 1] : '').replace('/', '');\n  const leftDrawerEnabled = drawerPaths.find(p => p === pathname || `/${lastPart}/${p}` === pathname) ? true : false;\n  const setLeftDrawerOpen = React.useCallback((open = !leftDrawerOpen) => setLayout({ leftDrawerOpen: open }), [setLayout, leftDrawerOpen]);\n  return [leftDrawerEnabled && (fullScreen ? leftDrawerOpen : true), setLeftDrawerOpen, leftDrawerEnabled];\n};\n","module.exports = __webpack_public_path__ + \"static/media/logo.f10b510b.svg\";","import { Reducer } from 'redux';\nimport { theme } from '../../constants';\n\nexport interface State {\n  auth?: any;\n  profile?: any; // profile from dynamo db\n  height?: number;\n  width?: number;\n  appBarHeight?: number;\n  leftDrawerOpen?: boolean;\n  admin?: boolean;\n  instructor?: any;\n  student?: any;\n  students?: any[]; // For selecting group\n  canChangeCurrentGroup?: boolean;\n  groups?: any;\n  group?: string;\n}\n\nexport const defaultUserState = {\n  admin: undefined,\n  instructor: undefined,\n  student: undefined\n};\n\nconst defaultState = {\n  auth: undefined,\n  width: 0,\n  height: 0,\n  appBarHeight: (theme as any).layout.toolbarheight,\n  leftDrawerOpen: false,\n  students: undefined,\n  ...defaultUserState\n};\n\nexport const reducer: Reducer<State> = (state: State | any, action) => {\n  switch (action.type) {\n    case 'LOGIN':\n      return {\n        ...state,\n        auth: action.auth\n      };\n    case 'LOGOUT':\n      return {\n        ...defaultState,\n        auth: undefined,\n        height: state.height, //keep keight and width, otherwise the page will render incorrectly\n        width: state.width\n      };\n    case 'SET_USER':\n      return {\n        ...state,\n        user: action.user\n      };\n    case 'RESIZE_APPBAR':\n      return {\n        ...state,\n        appBarHeight: action.height\n      };\n    case 'UPDATE_LAYOUT':\n      return {\n        ...state,\n        ...action.payload\n      };\n    case 'RESIZE_VIEWPORT':\n      return {\n        ...state,\n        height: action.height,\n        width: action.width\n      };\n    default:\n  }\n  return state || { ...defaultState };\n};\n","import { updateState } from '../../../helpers';\n\nexport const defaultState = {};\n\nexport const updateSelector = (id, payload) => ({ type: 'UPDATE_SELECTOR', id, payload });\n\nexport function reducer(state = defaultState, action) {\n  switch (action.type) {\n    case 'UPDATE_SELECTOR':\n      return updateState(state, action);\n    case 'LOGOUT':\n      return defaultState;\n    default:\n      return state;\n  }\n}\n","export interface SnackBarState {\n  open?: boolean;\n  variant?: 'success' | 'error' | 'warning' | 'info';\n  message?: string;\n}\nconst initialState = {};\n\nexport const updateSnackBar = (payload: SnackBarState) => ({ type: 'SNACKBAR', payload });\n\nexport const reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'SNACKBAR':\n      return {\n        ...state,\n        ...action.payload\n      };\n    case 'LOGOUT':\n      return initialState;\n    default:\n      return state;\n  }\n};\n","import * as Layout from './components/layout/store';\nimport * as Table from './components/application/GenericTable/store';\nimport * as Dialog from './components/application/GenericDialog/store';\nimport * as Selector from './components/application/Selector/store';\nimport * as SnackBar from './components/application/SnackBar/store';\n\n// The top-level state object\nexport interface AppState {\n  router: any;\n  layout: Layout.State;\n  dialog: any;\n  table: Table.State;\n  selector: any;\n  snackBar: any;\n  database: any;\n}\n\n// Whenever an action is dispatched, Redux will update each top-level application state property using\n// the reducer with the matching name. It's important that the names match exactly, and that the reducer\n// acts on the corresponding AppState property type.\nexport const reducers = {\n  layout: Layout.reducer,\n  dialog: Dialog.reducer,\n  table: Table.reducer,\n  selector: Selector.reducer,\n  snackBar: SnackBar.reducer\n};\n","import thunk from 'redux-thunk';\nimport { History } from 'history';\nimport * as StoreModule from './store';\nimport { AppState, reducers } from './store';\nimport { connectRouter, routerMiddleware } from 'connected-react-router';\nimport { createStore, applyMiddleware, compose, combineReducers, StoreEnhancer, Store } from 'redux';\nimport { persistReducer } from 'redux-persist';\nimport * as localforage from 'localforage';\nimport packageJson from '../package.json';\n\nlocalforage &&\n  localforage.config &&\n  localforage.config({\n    driver: localforage.INDEXEDDB, // Force WebSQL; same as using setDriver()\n    name: `${packageJson.name}-local-storage`,\n    version: 1.0,\n    size: 4980736, // Size of database, in bytes. WebSQL-only for now.\n    storeName: 'keyvaluepairs', // Should be alphanumeric, with underscores.\n    description: `${packageJson.name} application database`\n  });\n\nexport const persistConfig = {\n  key: 'app',\n  storage: localforage\n};\n\nexport default function configureStore(history: History, initialState?: AppState, appConfig?: any) {\n  // Build middleware. These are functions that can process the actions before they reach the store.\n  const windowIfDefined = typeof window === 'undefined' ? null : (window as any);\n  // If devTools is installed, connect to it\n  const devToolsExtension = process.env.NODE_ENV === 'development' && windowIfDefined && (windowIfDefined.__REDUX_DEVTOOLS_EXTENSION__ as () => StoreEnhancer);\n\n  const allReducers = buildRootReducer(reducers, history);\n  const persistedReducer = persistReducer(persistConfig, allReducers as any);\n\n  const createStoreWithMiddleware = compose(\n    applyMiddleware(thunk, routerMiddleware(history)),\n    devToolsExtension ? devToolsExtension() : (f: any) => f\n  )(createStore) as any;\n\n  // Combine all reducers and instantiate the app-wide store instance\n  const store = createStoreWithMiddleware(persistedReducer, initialState) as Store<AppState>;  \n\n  // Enable Webpack hot module replacement for reducers\n  if (module.hot) {\n    module.hot.accept('./store', () => {\n      const nextRootReducer = require<typeof StoreModule>('./store');\n      store.replaceReducer(buildRootReducer(nextRootReducer.reducers, history));\n    });\n  }\n\n  return store;\n}\n\nfunction buildRootReducer(allReducers: any, history: any) {\n  return combineReducers<AppState>(Object.assign({}, allReducers, { router: connectRouter(history) }));\n}\n","import * as React from 'react'\nimport useComponentSize from '@rehooks/component-size'\nimport { makeStyles, createStyles } from '@material-ui/core'\nimport { useResizeViewPort } from './hooks';\n\nconst staticProps = {\n  flexGrow: 1,\n  zIndex: 1,\n  overflow: 'hidden',\n  position: 'fixed',\n  display: 'static',\n  width: '100%',\n  height: '100%',\n}\n\nconst useStyles = makeStyles(({ layout }: any) =>\n  createStyles({\n    root: {},\n    dimensions: {\n      overflow: 'hidden',\n      position: 'fixed',\n      width: 'calc(100vw)',\n      height: 'calc(100vh)',\n    },\n    backdrop: {\n      ...staticProps,\n      background: layout.backdropColor,\n    } as any,\n    viewport: (props: any) => ({\n      ...staticProps,\n      height: props.height,\n      width: props.width,\n      background: layout.backgroundColor,\n    }) as any,\n  })\n);\n\nexport default function ViewPort({ children }) {\n  const ref = React.useRef(null)\n  const { height, width } = useComponentSize(ref)\n  const classes = useStyles({ height, width });\n  const resizeViewPort = useResizeViewPort();\n\n  React.useEffect(() => {\n    resizeViewPort({ height, width })\n  }, [resizeViewPort, height, width])\n\n  return (\n    <>\n      <div ref={ref} className={classes.dimensions} />\n      <div id='backdrop' className={classes.backdrop}>\n        <div id='viewport' className={classes.viewport}>\n          {children}\n        </div>\n      </div>\n    </>\n  )\n}\n","import * as React from 'react';\nimport { Typography, Grid } from '@material-ui/core';\n\nexport default function PlayGround() {\n  return (\n    <Grid container alignItems='center'>\n      <Grid item>\n        <Typography variant='h5'>Playground Placeholder</Typography>\n      </Grid>\n    </Grid>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Paper, Input, Tooltip } from '@material-ui/core';\nimport { FormControl, InputAdornment, IconButton, Typography } from '@material-ui/core';\nimport { useTable, useTableUpdate } from './store';\nimport { useWidth } from '../../layout/hooks';\nimport { makeStyles, createStyles } from '@material-ui/core';\nimport * as Icons from '@material-ui/icons';\nimport { evalFunc } from '../../../helpers';\nimport { GenericTableContainerProps } from './GenericTableContainer';\nimport { useFullScreen, useContentPadding } from '../../../hooks';\nimport StyledButton from '../../general/StyledButton';\n\nexport interface TableToolbarProps {\n  name?: string;\n  buttons?: any[] | ((props?: GenericTableContainerProps & any) => any[]);\n  square?: boolean;\n  title?: string;\n  showicon?: boolean;\n  viewportwidth?: any;\n  inputplaceholder?: string;\n  width?: number;\n  search?: boolean;\n  Icon?: any;\n  buttonPosition?: string;\n  classes?: any;\n}\n\nconst useStyles = makeStyles(({ palette, spacing, typography, layout }: any) =>\n  createStyles({\n    root: {},\n    paper: {\n      color: palette.common.white,\n      background: palette.primary.main\n    },\n    formControl: {\n      marginBottom: 4,\n      paddingRight: spacing(1),\n      width: 200\n    },\n    searchIcon: {\n      color: palette.common.white\n    },\n    title: {\n      ...typography.h4,\n      paddingLeft: spacing(0.5),\n      color: palette.common.white,\n      fontSize: typography.pxToRem(19),\n      fontWeight: '300'\n    },\n    titleicon: {\n      height: 32,\n      width: 32,\n      color: palette.common.white,\n      marginTop: 3\n    },\n    grid: {\n      overflow: 'hidden',\n      paddingRight: spacing(1),\n      paddingLeft: spacing(1),\n      height: layout.tabletoolbarheight / 2\n    },\n    hidden: {\n      display: 'none' as 'none'\n    },\n    underline: {\n      color: palette.common.white,\n      borderBottom: `2px solid ${palette.common.white}`,\n      '&:hover': {\n        color: palette.common.white,\n        borderBottom: `2px solid ${palette.common.white}`\n      }\n    }\n  })\n);\n\nfunction TableToolbar(props: TableToolbarProps) {\n  const classes = useStyles({});\n  const [searchOpen, setSearchOpen] = React.useState(false);\n  const { name, buttons = [], square, title, inputplaceholder, Icon, search, showicon = true, buttonPosition = 'top' } = props;\n\n  const { searchtext = '' } = useTable(name);\n\n  React.useEffect(() => {\n    if (searchtext !== null && searchtext !== undefined && searchtext !== '') {\n      handleOpenSearch();\n    }\n  }); // No dependencies on purpose\n\n  const width = useWidth();\n\n  const handleOpenSearch = React.useCallback(() => setSearchOpen(true), [setSearchOpen]);\n\n  const inputRef = React.useRef(null);\n\n  const tableUpdate = useTableUpdate();\n\n  const updateTable = React.useCallback(\n    value =>\n      tableUpdate({\n        id: name,\n        searchtext: value\n      }),\n    [name, tableUpdate]\n  );\n\n  const handleClear = React.useCallback(\n    event => {\n      updateTable('');\n      setSearchOpen(false);\n    },\n    [updateTable, setSearchOpen]\n  );\n\n  const handleKeyDown = React.useCallback(\n    event => {\n      if (event.key === 'Escape') {\n        event.preventDefault();\n        handleClear(event);\n      }\n    },\n    [handleClear]\n  );\n\n  React.useEffect(() => {\n    const current = inputRef && inputRef.current;\n    if (searchOpen) {\n      if (current) {\n        current.focus();\n        current.addEventListener('keydown', handleKeyDown);\n      }\n    } else {\n      current.removeEventListener('keydown', handleKeyDown);\n    }\n    return () => {\n      if (current && searchOpen) {\n        current.removeEventListener('keydown', handleKeyDown);\n      }\n    };\n  }, [inputRef, searchOpen, handleKeyDown]);\n\n  const handleChange = React.useCallback(\n    event => {\n      updateTable(event.target.value);\n    },\n    [updateTable]\n  );\n  const fullScreen = useFullScreen();\n\n  const Search = (\n    <FormControl className={classes.formControl}>\n      <Input\n        disableUnderline={false}\n        classes={{\n          underline: classes.underline\n        }}\n        value={searchtext ? searchtext : ''}\n        onChange={handleChange}\n        placeholder={inputplaceholder}\n        startAdornment={\n          <InputAdornment position='start'>\n            <Icons.Search className={classes.searchIcon} />\n          </InputAdornment>\n        }\n        endAdornment={\n          <InputAdornment position='end'>\n            <IconButton className={classes.searchIcon} onClick={handleClear}>\n              <Icons.Close />{' '}\n            </IconButton>{' '}\n          </InputAdornment>\n        }\n        inputRef={inputRef}\n      />\n    </FormControl>\n  );\n\n  const searchbutton =\n    search !== false && search ? (\n      <StyledButton width={fullScreen ? 64 : 120} size='small' onClick={handleOpenSearch}>\n        <Icons.Search />\n        {!fullScreen && <div style={{ marginLeft: 4, marginRight: 4 }}>Search</div>}\n      </StyledButton>\n    ) : null;\n\n  var Buttons = [searchbutton, ...evalFunc(buttons, props)].filter(b => b);\n\n  const buttonspacing = 0; //Grid spacing of each button\n  const buttonwidth = 42; //Width of each button\n  const contentPadding = useContentPadding();\n\n  const widths = {\n    contentpadding: contentPadding * 2, //Exterior padding\n    headerpadding: 16, //Padding within the header\n    iconwidth: 32, //Width of the title icon\n    titlepadding: 8, //Padding between the icon and the title\n    titleminwidth: 64, //Minimum width of the typography title - Don't display the title unless you can see more than 64 pixels\n    calculatedbuttonswidth: Buttons.length * buttonwidth + buttonspacing * (Buttons.length > 0 ? Buttons.length - 1 : 0)\n  };\n\n  const calculatedfullwidth = Object.keys(widths)\n    .map(k => widths[k])\n    .reduce((t, a) => t + a, 0);\n  const calculatedpartialwidth = calculatedfullwidth - widths.titlepadding - widths.titleminwidth;\n\n  const tabletitlevisible = width >= calculatedfullwidth;\n  const tableiconvisible = width >= calculatedpartialwidth;\n\n  const IconComponent = Icon ?? Icons.List;\n\n  const ButtonGroup = (\n    <Grid item>\n      <Grid container direction='row' justify='flex-end' alignItems='center' spacing={buttonspacing}>\n        <Grid item>\n          <div style={{ display: searchOpen ? '' : 'none' }}>{Search}</div>\n          {!searchOpen && (\n            <Grid container spacing={1}>\n              {Buttons.map((b, i) => (\n                <Grid key={i} item>\n                  {evalFunc(b)}\n                </Grid>\n              ))}\n            </Grid>\n          )}\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n\n  return (\n    <>\n      {buttonPosition === 'top' && (\n        <Paper elevation={0} square={square}>\n          <Grid container spacing={0} justify='space-between' alignItems='center' className={classes.grid}>\n            <Grid item xs zeroMinWidth>\n              <Grid container justify='flex-start' alignItems='center'></Grid>\n            </Grid>\n            {ButtonGroup}\n          </Grid>\n        </Paper>\n      )}\n      <Paper className={classes.paper} square={square}>\n        <Grid container spacing={0} justify='space-between' alignItems='center' className={classes.grid}>\n          <Grid item xs zeroMinWidth>\n            <Grid container justify='flex-start' alignItems='center'>\n              {tableiconvisible && showicon === true && (\n                <Grid item>\n                  <Tooltip title={title}>\n                    <IconComponent className={classes.titleicon} />\n                  </Tooltip>\n                </Grid>\n              )}\n              {tabletitlevisible && (\n                <Grid item xs zeroMinWidth>\n                  {title && (\n                    <Typography variant='body2' noWrap className={classes.title}>\n                      {title}\n                    </Typography>\n                  )}\n                </Grid>\n              )}\n            </Grid>\n          </Grid>\n          {buttonPosition !== 'top' && ButtonGroup}\n        </Grid>\n      </Paper>\n    </>\n  );\n}\n\nexport default TableToolbar;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { AppState } from '../../../store';\nimport { defaultState, updateSelector } from './store';\n\nconst useTabSelector = id => {\n  const dispatch = useDispatch();\n  const state = useSelector((state: AppState) => state.selector[id] || defaultState);\n  const setState = React.useCallback(payload => dispatch(updateSelector(id, payload)), [id, dispatch]);\n  return [state, setState];\n};\n\nexport default useTabSelector;\n","import * as React from 'react';\nimport { triggerResize, isEmpty } from '../../../helpers';\nimport { Tabs, Tab, Paper, Typography, createStyles, makeStyles } from '@material-ui/core';\nimport useTabSelector from '../../application/Selector/useTabSelector';\n\nexport interface ComponentProps {\n  id?: string;\n  tab?: string;\n  tabs?: TabSelectorItem[];\n  orientation?: string;\n  rounded?: boolean;\n  wrapped?: boolean;\n  minHeight?: number;\n  classes?: any;\n}\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    root: ({ rounded }) => ({\n      background: palette.grey[600],\n      borderRadius: rounded ? undefined : 0\n    }),\n    tabs: ({ minHeight }: any) => ({\n      minHeight,\n      borderRadius: 'inherit'\n    }),\n    indicator: {\n      background: palette.primary.main,\n      height: '100%',\n      zIndex: 0,\n      borderRadius: 'inherit'\n    },\n    labelIcon: ({ minHeight }: any) => ({\n      color: palette.common.white,\n      zIndex: 1,\n      minHeight\n    }),\n    tabroot: ({ minHeight }: any) => ({\n      padding: 0,\n      color: palette.common.white,\n      zIndex: 1,\n      minWidth: 24,\n      minHeight\n    }),\n    wrapper: {\n      display: 'inline-flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      width: '100%',\n      flexDirection: 'column',\n      borderRadius: 'inherit'\n    }\n  })\n);\n\nexport interface TabSelectorItem {\n  id: string;\n  label?: string;\n  icon?: any;\n  Component?: any;\n}\n\nconst TabSelector = ({ id, tabs = [], orientation, wrapped, minHeight = 52, rounded = true }: ComponentProps) => {\n  const classes = useStyles({ minHeight, rounded });\n  \n  const [tabSelector, setTabSelector] = useTabSelector(id);\n  const selected = tabSelector.value;\n\n  const tabId = tabs[0] && tabs[0].id;  \n  React.useEffect(() => {\n    isEmpty(selected) && setTabSelector({ value: tabId }); // Select the first tab by default when empty\n    triggerResize();\n  }, [setTabSelector, selected, tabId]);\n\n  React.useEffect(() => {\n    triggerResize(); //User has roated the device, so trigger a resize so the indicator updates correctly\n  }, [orientation]);\n\n  const handleChange = React.useCallback(\n    (event, value) => {\n      setTabSelector({ value });\n    },\n    [setTabSelector]\n  );\n\n  const { value = tabs[0].id } = tabSelector;\n\n  return (\n    <Paper className={classes.root}>\n      <Tabs variant='fullWidth' className={classes.tabs} scrollButtons='off' value={value} onChange={handleChange} classes={{ indicator: classes.indicator }}>\n        {!tabs ? (\n          <></>\n        ) : (\n          tabs.map(t => (\n            <Tab\n              key={t.id}\n              classes={{\n                root: classes.tabroot,\n                labelIcon: classes.labelIcon,\n                wrapper: classes.wrapper,\n                wrapped: classes.labelIcon\n              }}\n              icon={t.icon && <t.icon style={{ marginBottom: 0 }} />}\n              value={t.id}\n              wrapped={wrapped}\n              label={\n                <Typography variant='caption' style={{ maxWidth: `calc(100% - ${2}px)` }} noWrap={!wrapped}>\n                  {t.label ? t.label : t.id}\n                </Typography>\n              }\n            />\n          ))\n        )}\n      </Tabs>\n    </Paper>\n  );\n};\n\nexport default TabSelector;\n","import * as React from 'react';\nimport { useSelector } from 'react-redux';\nimport { AppState } from '../../../store';\nimport TabSelector from '../../general/TabSelector/TabSelector';\nimport { useHeight, useWidth } from '../../layout/hooks';\n\nexport default function TableTabSelector({ id, tabs, tab: Tab = undefined, ...other }) {\n  const storeTable = useSelector((s: AppState) => s.table[id]);\n  const height = useHeight();\n  const width = useWidth();\n  const orientation = height > width ? 'potrait' : 'landscape';\n  const tab = Tab ? Tab : storeTable?.tab;\n\n  return <TabSelector id={id} tab={tab} tabs={tabs} orientation={orientation} {...other} />;\n}\n","import * as React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport TableToolbar, { TableToolbarProps } from './TableToolbar';\nimport { GenericTableProps } from './GenericTable';\nimport TableTabSelector from './TableTabSelector';\nimport { Paper, CircularProgress, useTheme } from '@material-ui/core';\nimport { evalFunc } from '../../../helpers';\nimport { useHeight, useAppBarHeight } from '../../layout/hooks';\nimport { TabSelectorItem } from '../../general/TabSelector/TabSelector';\nimport { useLocation } from 'react-router';\nimport { useContentPadding } from '../../../hooks';\n\nconst GenericTable = React.lazy(() => import('./GenericTable'));\n\nexport interface TabSelectorProps {\n  tabs?: TabSelectorItem[];\n  onChangeTab?: (tab: string, props: GenericTableContainerProps) => void;\n}\n\nexport interface GenericTableContainerProps extends TabSelectorProps, GenericTableProps, TableToolbarProps {\n  square?: boolean;\n  toolbar?: boolean;\n  stacked?: boolean | number;\n  loading?: boolean;\n  toolbarplaceholder?: string;\n  title?: string;\n  search?: boolean;\n  getfiles?: boolean;\n  back?: boolean;\n  domainData?: boolean;\n  domainLogs?: boolean;\n  dialogs?: any[];\n  showScroll?: boolean;\n  buttonPosition?: string;\n  FilterContainer?: any;\n}\n\nconst injectValues = (Component, { getValues, handleRefresh }) => <Component {...(getValues && getValues())} handleRefresh={handleRefresh} />;\n\nexport default function GenericTableContainer(props: GenericTableContainerProps) {\n  const {\n    name,\n    square,\n    height: Height,\n    toolbar,\n    stacked,\n    toolbarplaceholder,\n    title,\n    search,\n    tabs,\n    columns: Columns,\n    showicon = false,\n    loading,\n    buttons,\n    dialogs = [],\n    onChangeTab,\n    Icon,\n    FilterContainer,\n    buttonPosition = 'bottom',\n    ...tableProps\n  } = props;\n\n  const { layout }: any = useTheme();\n  const { noPadPaths } = layout;\n  const layoutHeight = useHeight();\n  const height = Height ? Height : layoutHeight;\n  const columns = evalFunc(Columns, props);\n\n  const applyCellRenderers = (columns: any) => {\n    columns &&\n      columns.forEach((column: any) => {\n        if (column.renderCell) {\n          //Column has a custom render, so apply it to the virtual table cell render callback\n          column.cell = (row: any, col: any) => column.renderCell(row.getValues ? row.getValues() : row, column);\n        } else if (column.Cell) {\n          column.cell = (row: any, col: any) => injectValues(column.Cell, row); // Inject values via getValues()\n        }\n      });\n  };\n\n  const handleTabChange = (value: any) => {\n    onChangeTab && onChangeTab(value, props);\n  };\n\n  applyCellRenderers(columns); //Apply any custom cell renderers that are needed\n\n  const _toolbar = toolbar && (\n    <TableToolbar\n      name={name}\n      search={search != null ? search : true}\n      title={title ? title : name ? name : ''}\n      square={square}\n      inputplaceholder={toolbarplaceholder}\n      showicon={showicon}\n      buttons={evalFunc(buttons, props)}\n      Icon={Icon}\n      buttonPosition={buttonPosition}\n    />\n  );\n\n  var filterbar = tabs && <TableTabSelector id={name} tabs={tabs} onChange={handleTabChange} />;\n\n  const rows = [\n    { id: 'fc', component: FilterContainer, height: layout.tabletoolbarheight },\n    { id: 'toolbar', component: _toolbar, height: layout.tabletoolbarheight },\n    {\n      id: 'filterbar',\n      component: filterbar,\n      height: layout.tablefilterbarheight\n    }\n  ].filter(x => x.component); //Remove any null components\n\n  const appBarHeight = useAppBarHeight();\n\n  const { pathname } = useLocation();\n  const excludePadding = noPadPaths.findIndex(p => p === pathname) > -1 ? true : false;\n\n  const contentPadding = useContentPadding();\n\n  const componentsOnPage = [\n    appBarHeight,\n    excludePadding ? 0 : contentPadding, // Top content padding\n    stacked ? layout.tablefilterbarheight + layout.contentrowspacing : 0,\n    !toolbar ? 0 : (buttonPosition === 'top' ? layout.tabletoolbarheight : layout.tabletoolbarheight / 2) + layout.contentrowspacing,\n    excludePadding ? 0 : contentPadding, // Bottom content padding\n    layout.footerheight\n  ];\n\n  var calculatedheight = height - componentsOnPage.reduce((t, c) => t + c, 0);\n\n  if (typeof stacked === 'number') {\n    calculatedheight -= stacked;\n  }\n\n  const spinner = (\n    <Paper elevation={0} style={{ height: calculatedheight }}>\n      <Grid container style={{ height: calculatedheight }} direction='column' alignItems='center' justify='center' spacing={0}>\n        <Grid item>\n          <CircularProgress color='primary' size={calculatedheight / 6} thickness={3} />\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n\n  const table = (\n    <React.Suspense fallback={spinner}>\n      {loading ? spinner : <GenericTable name={name} height={calculatedheight} columns={columns} placeholder={!buttons && ' '} {...tableProps} />}\n    </React.Suspense>\n  );\n\n  rows.push({ id: 'table', component: table, height: calculatedheight });\n\n  return (\n    <>\n      {dialogs.map((d, i) => (\n        <div key={i}>{d}</div>\n      ))}\n      <Grid container>\n        {rows.map((r, i) => (\n          <Grid key={r.id} item xs={12} style={{ paddingBottom: i === rows.length - 1 ? 0 : layout.contentrowspacing }}>\n            {r.component}\n          </Grid>\n        ))}\n      </Grid>\n    </>\n  );\n}\n","import { identityPoolIdUnauth, region } from '../../package.json';\n\nexport const AWS = require('aws-sdk'); // Load the AWS SDK for Node.js\n\n// Initialize the Amazon Cognito credentials provider\nAWS.config.region = region;\nAWS.config.credentials = new AWS.CognitoIdentityCredentials({\n  IdentityPoolId: identityPoolIdUnauth\n});\n\nexport const dynamo = new AWS.DynamoDB.DocumentClient();\n\nexport type TableName =\n  | 'doors-classes'\n  | 'doors-sessions'\n  | 'doors-users'\n  | 'doors-instructors'\n  | 'doors-students'\n  | 'doors-attendance'\n  | 'doors-groups'\n  | 'doors-profiles'\n  | 'doors-events';\n\nexport const tables = {\n  users: 'doors-users' as TableName,\n  instructors: 'doors-instructors' as TableName,\n  students: 'doors-students' as TableName,\n  attendance: 'doors-attendance' as TableName,\n  groups: 'doors-groups' as TableName,\n  profiles: 'doors-profiles' as TableName,\n  classes: 'doors-classes' as TableName,\n  sessions: 'doors-sessions' as TableName,\n  events: 'doors-events' as TableName\n};\n","import * as React from 'react';\nimport { dynamo } from './dbConfig';\n\nexport default function useTable({ TableName }) {\n  const [state, setState] = React.useState({ data: [], loading: false, success: false });\n\n  const handleRequest = React.useCallback(\n    ({ FilterExpression = undefined, ExpressionAttributeNames = undefined, ExpressionAttributeValues = undefined } = {}) => {\n      const getRows = async () => {\n        let scanResults = [];\n        let items;\n        var params = {\n          TableName,\n          ExclusiveStartKey: undefined,\n          FilterExpression,\n          ExpressionAttributeNames,\n          ExpressionAttributeValues\n        };\n        do {\n          items = await dynamo.scan(params).promise();\n          items.Items.forEach(i => scanResults.push(i));\n          params.ExclusiveStartKey = items.LastEvaluatedKey;\n        } while (typeof items.LastEvaluatedKey != 'undefined');\n        setState(prev => ({\n          ...prev,\n          loading: false,\n          success: true,\n          data: scanResults.reduce((f, c: any) => {\n            f[c.id] = c;\n            return f;\n          }, {})\n        }));\n      };\n      setState(prev => ({ ...prev, data: [], loading: true, success: false }));\n      getRows();\n    },\n    [TableName, setState]\n  );\n\n  return { state, setState, handleRequest };\n}\n","import * as React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { updateSnackBar } from '../components/application/SnackBar/store';\nimport { dynamo } from './dbConfig';\n\nexport interface ProcessDataInfo {\n  Model?: any;\n  Data: any;\n  Action?: 'c' | 'r' | 'u' | 'd';\n  Snackbar?: boolean;\n  onSuccess?: (response, data) => void;\n  onError?: (response, data) => void;\n}\n\nexport const useProcessData = () => {\n  const dispatch = useDispatch();\n  return React.useCallback((pdi: ProcessDataInfo) => dispatch(processData(pdi)), [dispatch]);\n};\n\nexport const useProcessDataHandle = () => {\n  const dispatch = useDispatch();\n  return React.useCallback((pdi: ProcessDataInfo) => () => dispatch(processData(pdi)), [dispatch]);\n};\n\nasync function executeTransaction(pdi, Data, dispatch) {\n  const { Model: Table, Action = 'c', Snackbar = false, onSuccess = undefined, onError = undefined } = pdi;\n\n  if (Action === 'c' || Action === 'u' || Action === 'd') {\n    dynamo.put({ TableName: Table, Item: Data }, function (err, data) {\n      if (err) {\n        var message = `(Error processing data.  Table: ${Table}`;\n        Snackbar && dispatch(updateSnackBar({ open: true, variant: 'error', message }));\n        onError && onError(err, Data);\n        console.error({ message, err, Data });\n      } else {\n        Snackbar && dispatch(updateSnackBar({ open: true, variant: 'success', message: 'Success' }));\n        onSuccess && onSuccess(data, Data);\n      }\n    });\n  } else {\n    dynamo.get({ TableName: Table, Key: Data }, function (err, data) {\n      if (err) {\n        var message = `(Error processing data.  Table: ${Table}`;\n        Snackbar && dispatch(updateSnackBar({ open: true, variant: 'error', message }));\n        onError && onError(err, Data);\n        console.error({ message, err, Data });\n      } else {\n        Snackbar && dispatch(updateSnackBar({ open: true, variant: 'success', message: 'Success' }));\n        onSuccess && onSuccess(data, Data);\n      }\n    });\n  }\n}\n\nconst processData = (pdi: ProcessDataInfo) => async (dispatch: any, getState: any) => {\n  const { Model: Table, Data: DataProp, Action = 'c', Snackbar = true, onError = undefined } = pdi;\n  const Data = {\n    ...DataProp,\n    created: Action === 'c' ? new Date().getTime() : DataProp.created,\n    updated: Action === 'd' || Action === 'u' ? new Date().getTime() : DataProp.updated,\n    deleted: Action === 'd' ? true : DataProp.deleted\n  };\n  try {\n    executeTransaction(pdi, Data, dispatch);\n  } catch (error) {\n    if (error.statusCode === 409) {\n      //Document update conflict.  This can happen if someone updated the document at the server while another user's browser is editing an earlier revision\n      //Just show an error for now, as the applications will rarely be edited and the tables are constantly refreshed with new data.\n      //The correct logic would get the most recent document from the database, inform the user that the document is out of date, update the revision number and allow the user to review changes or force the update.\n    }\n    var message = `(Caught Error processing data.  Table: ${Table}`;\n    Snackbar && dispatch(updateSnackBar({ open: true, variant: 'error', message }));\n    onError && onError(error, Data);\n    console.error({ message, error, Data });\n  }\n};\n\nexport default useProcessData;\n","import * as React from 'react';\nimport { tables } from './dbConfig';\nimport { isEmpty, minutesFrom } from '../helpers';\nimport useProcessData from './useProcessData';\nimport { inviteExpiration } from '../../package.json';\n\nexport const isExpired = item => minutesFrom(item?.created) > inviteExpiration;\n\nexport const useInstructor = ({ id, state, setState }) => {\n  const processData = useProcessData();\n  const instructor = state.response?.Item;\n  const instructor_str = JSON.stringify(instructor);\n  React.useEffect(() => {\n    if (!isEmpty(id)) {\n      setState(prev => ({ ...prev, loading: true, error: undefined, response: undefined }));\n      processData({\n        Model: tables.instructors,\n        Action: 'r',\n        Data: { id },\n        onError: response => setState(prev => ({ ...prev, loading: false, error: 'Error reading values', response })),\n        onSuccess: response => setState(prev => ({ ...prev, loading: false, error: undefined, response }))\n      });\n    }\n  }, [id, processData, setState]);\n\n  const setInstructor = React.useCallback(\n    (newValues, OnSuccess = undefined, OnError = undefined) => {\n      if (!isEmpty(id)) {\n        setState(prev => ({ ...prev, loading: true, error: undefined, response: undefined }));\n        processData({\n          Model: tables.instructors,\n          Action: 'u',\n          Data: { ...JSON.parse(instructor_str), id, ...newValues },\n          onError: response => {\n            setState(prev => ({ ...prev, loading: false, error: 'Error reading values', response }));\n            OnError && OnError(response);\n          },\n          onSuccess: response => {\n            setState(prev => ({ ...prev, loading: false, error: undefined, response }));\n            OnSuccess && OnSuccess(response);\n          }\n        });\n      }\n    },\n    [id, setState, processData, instructor_str]\n  );\n\n  const expired = isExpired(instructor);\n\n  return [instructor, setInstructor, expired];\n};\n","import React from 'react';\nimport { getLabel, checkEmpty, hasChanged, validateHttpUrl } from '../../../helpers';\nimport merge from 'deepmerge';\nimport { validateEmail, emptyUndefined } from '../../../helpers';\nimport { isObjectWithKeys } from '../GenericTable/helpers';\n\nexport interface FieldProps {\n  id: string | number;\n  label: string;\n  type: string;\n  Field?: Element;\n  getValue?: (f: FieldProps, values: any) => any;\n}\n\n// Mappings to retreive the value from the state\nconst getMappedValue = (id, object, container, values = {}) => {\n  if (container && object) {\n    return values[container] && values[container][object] && values[container][object][id];\n  } else if (container) {\n    return values[container] && values[container][id];\n  } else if (object) {\n    return values[object] && values[object][id];\n  } else {\n    return values[id];\n  }\n};\n\nexport const setMappedValue = ({ field, value, prev }) => {\n  const { id, object, container } = field;\n  if (container && !prev[container]) {\n    prev[container] = {};\n  }\n  if (container && object && !prev[container][object]) {\n    prev[container][object] = {};\n  }\n  if (!container && object && !prev[object]) {\n    prev[object] = {};\n  }\n\n  if (container && object) {\n    prev[container][object][id] = value;\n  } else if (container) {\n    prev[container][id] = value;\n  } else if (object) {\n    prev[object][id] = value;\n  } else {\n    prev[id] = value;\n  }\n  return prev;\n};\n\nconst singleValue = ({ id, object, container }, values) => getMappedValue(id, object, container, values);\nexport const getValue = (f, values) => (f.getValue ? f.getValue(f, values) : singleValue(f, values));\n\nexport const isDisabled = (f, values) => (typeof f.disabled === 'function' ? f.disabled(values, f) : f.disabled); //Disabled fields are shown but disabled\nexport const isActive = ({ active }, values) => (typeof active === 'function' ? active(values) : active); //Active fields are hidden, but can be shown via other options changing in the dialog\nexport const isHidden = ({ hidden }, values) => (typeof hidden === 'function' ? hidden(values) : hidden); //Hidden fields are hidden for the current dialog state, and can't be shown via other options\n\nexport const bindField = ({ f, values, initialValues, errors, touched, handleChange, handleBlur, submitting, showErrors = false }) => {\n  const {\n    required,\n    type,\n    autoFocus,\n    InputProps,\n    inputProps,\n    step,\n    min,\n    max,\n    tab,\n    multiline,\n    rows,\n    getProps,\n    disableCloseOnSelect,\n    disableClearable,\n    description,\n    tooltip,\n    replace,\n    placeholder,\n    variant,\n    color\n  } = f; // Only pass necessary props to field\n  const props = {\n    autoFocus,\n    required,\n    type,\n    value: getValue(f, values),\n    initialValue: getValue(f, initialValues),\n    error: (showErrors || f.showError) && getValue(f, errors),\n    label: getLabel(f),\n    disabled: isDisabled(f, values) || submitting,\n    onChange: handleChange(f),\n    onBlur: handleBlur(f),\n    items: f.filter ? f.filter(f.items, values) : typeof f.items === 'function' ? f.items(values) : f.items,\n    InputProps,\n    inputProps,\n    step,\n    min,\n    max,\n    tab,\n    multiline,\n    rows,\n    disableCloseOnSelect,\n    description,\n    tooltip,\n    replace,\n    placeholder,\n    disableClearable,\n    variant,\n    color,\n    ...(getProps && getProps(values)) // Allows the field to hook into the internal state values if needed\n  };\n  Object.keys(props).forEach(key => props[key] === undefined && delete props[key]); // Filter out any undefined props so they don't override any previously specified values\n  return props;\n};\n\nexport const isEnabled = value => value === true || value === undefined;\n\nexport const useHandleChange = (setValues, resetErrors = undefined) =>\n  React.useCallback(\n    field => e => {\n      var value = e && e.target && e.target.value;\n      if (field && field.uppercase && !checkEmpty(value)) {\n        value = value.toUpperCase();\n      }\n      setValues(prev => setMappedValue({ field, value, prev: { ...prev } })); // Ensure prev is a new copy\n      resetErrors && resetErrors();\n      field.onChange && field.onChange({ value, field, setValues });\n    },\n    [setValues, resetErrors]\n  );\n\nexport const getDefaultValues = fields => {\n  const defaultValues = {};\n  fields.forEach(field => {\n    field.initialValue !== undefined &&\n      setMappedValue({\n        field,\n        value: field.initialValue,\n        prev: defaultValues\n      });\n  });\n  return defaultValues;\n};\n\nexport const useValues = ({\n  open,\n  fields = [],\n  InitialValues = {},\n  state = {} as any,\n  setState,\n  validate,\n  externalValues = undefined, // Use with externalSetValues, for having an external state, such as redux\n  externalSetValues = undefined, //Use with externalValues, for having an external state, such as redux\n  onChange = undefined,\n  disableInitialize = false\n}) => {\n  const { initialValues = {}, submitting, showErrors } = state;\n  const defaultValues = getDefaultValues(fields); // Get any default values from the individual fields first\n  var mergedInitialValues = merge(defaultValues, InitialValues); // Merge with any incoming initialValues from the properties\n  mergedInitialValues = merge(mergedInitialValues, initialValues); // Merge any initial values from the external dialog state\n  const [internalValues, setInternalValues] = React.useState(mergedInitialValues);\n  const values = externalValues ? externalValues : internalValues;\n\n  const setValues = React.useCallback(\n    vals => {\n      externalSetValues ? externalSetValues(vals) : setInternalValues(vals);\n      onChange && onChange(vals);\n    },\n    [externalSetValues, setInternalValues, onChange]\n  );\n\n  const [touched, setTouched] = React.useState({});\n\n  const mergedInitialValuesStr = JSON.stringify(mergedInitialValues); // Use a string since the object references will change everytime\n  const initializeValues = React.useCallback(() => {\n    setTouched({});\n    setValues(JSON.parse(mergedInitialValuesStr));\n  }, [setValues, mergedInitialValuesStr]);\n\n  React.useEffect(() => {\n    // Re-initialize values when necessary\n    open && !disableInitialize && setValues(JSON.parse(mergedInitialValuesStr));\n    open && !disableInitialize && setTouched({});\n  }, [open, mergedInitialValuesStr, disableInitialize, setValues]);\n\n  const internalErrors = open ? handleValidation({ values, fields, errors: state.errors }) : {}; // Perform standard field validations, required, email, etc\n  const externalErrors = open && validate ? validate(values, state) : {}; // Add any external validations if specified\n  const errors = merge(internalErrors, externalErrors);\n  const errorCount = fields ? fields.filter(f => isError(f, values, errors)).length : 0;\n\n  const stateErrors = state.errors;\n  const resetErrors = React.useCallback(() => isObjectWithKeys(stateErrors) && setState(prev => ({ ...prev, errors: {} })), [setState, stateErrors]); // Reset any external errors\n  const handleChange = useHandleChange(setValues, resetErrors);\n  const handleBlur = React.useCallback(\n    field => () => {\n      setTouched(prev => setMappedValue({ field, value: true, prev: { ...prev } })); // Ensure new copy of prev is used\n    },\n    [setTouched]\n  );\n\n  const mapField = f =>\n    bindField({\n      f,\n      values,\n      initialValues: mergedInitialValues,\n      errors,\n      touched,\n      handleChange,\n      handleBlur,\n      submitting,\n      showErrors\n    });\n\n  return {\n    values,\n    setValues,\n    hasChanged: hasChanged(values, mergedInitialValues),\n    touched,\n    errors,\n    errorCount,\n    handleChange,\n    handleBlur,\n    mapField,\n    initializeValues\n  };\n};\n\nexport const handleValidation = ({ values, fields, errors: Errors }) => {\n  var errors = { ...Errors }; // Make a copy\n  fields.forEach(f => {\n    if (f.email && !checkEmpty(getValue(f, values)) && !validateEmail(getValue(f, values))) {\n      setMappedValue({ field: f, value: 'Invalid email format.', prev: errors });\n    } else if (f.required && checkEmpty(getValue(f, values))) {\n      setMappedValue({ field: f, value: 'Required', prev: errors });\n    } else if (f.http && !checkEmpty(getValue(f, values)) && !validateHttpUrl(getValue(f, values))) {\n      setMappedValue({ field: f, value: 'Invalid http url format.', prev: errors });\n    } else if (f.validate) {\n      setMappedValue({ field: f, value: emptyUndefined(f.validate(values)), prev: errors });\n    }\n  });\n\n  return errors;\n};\n\n// Only count errors for active fields that are not disabled or hidden\nexport const isError = (field, values, errors) => {\n  return (\n    !(isActive(field, values) === false) && // Active\n    !(isDisabled(field, values) === true) && // Not disabled\n    !(isHidden(field, values) === true) && // Not hidden\n    getValue(field, errors) !== undefined // Not undefined\n  );\n};\n\n// Returns a static field array to prevent un-necessary re-renders\nexport const useStepFields = steps => {\n  const [fields, setFields] = React.useState(\n    steps\n      .filter(s => s.fields)\n      .map(s => s.fields)\n      .reduce((t, c) => (t = [...t, ...c]), [])\n  );\n\n  React.useEffect(() => {\n    setFields(\n      steps\n        .filter(s => s.fields)\n        .map(s => s.fields)\n        .reduce((t, c) => (t = [...t, ...c]), [])\n    );\n  }, [steps, setFields]);\n  return fields;\n};\n","import * as React from 'react';\nimport { TextField } from '@material-ui/core';\nimport { isError } from '../../../helpers';\n\nconst Text = ({ value = '', margin = 'dense', variant = 'outlined', forceErrorMargin = false, error = undefined, initialValue = undefined, ...other }) => (\n  <TextField\n    value={value}\n    error={isError(error)}\n    helperText={forceErrorMargin ? error || ' ' : error} // Forces a constant helper text margin\n    margin={margin as any}\n    variant={variant as any}\n    fullWidth\n    InputLabelProps={{\n      shrink: true\n    }}\n    {...other}\n  />\n);\n\nexport default Text;\n","import React from 'react';\nimport { Grid, Collapse, Tooltip, Typography } from '@material-ui/core';\nimport Text from '../DialogField/Text';\nimport { isActive, isHidden, getValue } from './helpers';\nimport { debugSettings, checkEmpty } from '../../../helpers';\n\nconst getColumnFields = (fields, columns, index) => {\n  const numFields = fields.length;\n  const numCols = columns;\n  const numColsField = Math.ceil(numFields / numCols);\n  const startIndex = numColsField * index;\n  const endIndex = Math.min(startIndex + numColsField - 1, numFields - 1);\n  return fields.filter((f, i) => i >= startIndex && i <= endIndex);\n};\n\nexport const MapField = ({ Field, style, active, xs = 12, values, mapField, fullWidth, ...f }) => {\n  const collapse = isActive({ active }, values);\n\n  const item = Field ? <Field {...mapField(f)} values={values} /> : checkEmpty(f.id) ? undefined : <Text {...mapField(f)} />;\n\n  const { id, container, object } = f; // InputProps causes circular reference error for some reason, so remove it before stringify\n  const value = getValue(f, values);\n\n  const wrappeditem = (\n    <Tooltip\n      title={\n        <>\n          <Typography>Value: {typeof value === 'object' ? JSON.stringify(value) : value}</Typography>\n          <Typography>{JSON.stringify({ id, container, object })}</Typography>\n        </>\n      }\n    >\n      <div>{item}</div>\n    </Tooltip>\n  );\n  const Item = debugSettings.debugfieldonhover ? wrappeditem : item;\n\n  return (\n    <Grid key={`${f.id}`} item style={style} xs={fullWidth ? 12 : (xs as any)}>\n      {collapse !== undefined ? <Collapse in={collapse}>{Item}</Collapse> : Item}\n    </Grid>\n  );\n};\n\nconst Fields = ({ fields, mapField, values, fullWidth = false, columns = 1, minColumnWidth = 250, maxColumnWidth = 250 }) =>\n  columns > 1 ? (\n    <Grid key='column-container' item xs={12} container spacing={0} justify='center'>\n      {Array.from(Array(columns).keys()).map(i => (\n        <Grid key={i} item xs={fullWidth ? 12 : true} style={fullWidth ? {} : { minWidth: minColumnWidth, maxWidth: maxColumnWidth }}>\n          <Grid container justify='center' spacing={1}>\n            <Grid item xs={11}>\n              <Fields\n                fields={getColumnFields(fields, columns, i)}\n                mapField={mapField}\n                values={values}\n                fullWidth={false}\n                columns={1}\n                minColumnWidth={minColumnWidth}\n                maxColumnWidth={maxColumnWidth}\n              />\n            </Grid>\n          </Grid>\n        </Grid>\n      ))}\n    </Grid>\n  ) : (\n    fields.filter(f => !isHidden(f, values)).map((props, i) => <MapField key={i} values={values} mapField={mapField} fullWidth={fullWidth} {...props} />)\n  );\n\nexport const InjectField = ({ values, mapField, fullWidth, fields, id, object = undefined, container = undefined, ...other }) => {\n  const f = fields.find(\n    f => f.id === id && (object !== undefined ? f.object === object : true) && (container !== undefined ? f.container === container : true)\n  );\n  return !f || isHidden(f, values) ? <></> : <MapField {...f} {...other} values={values} mapField={mapField} fullWidth={fullWidth} />;\n};\n\nexport default Fields;\n","import React from 'react';\nimport { Grid, Typography } from '@material-ui/core';\n\nexport default function ErrorGate({ error, children }) {\n  return error ? (\n    <Grid container spacing={2}>\n      <Grid item xs={12}>\n        <Typography align='center'>Error loading data, please close and try again.</Typography>\n      </Grid>\n      <Grid item xs={12}>\n        <Typography align='center' color='error'>\n          Error: {error}\n        </Typography>\n      </Grid>\n    </Grid>\n  ) : (\n    children\n  );\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Divider from '@material-ui/core/Divider';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, createStyles } from '@material-ui/styles';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { IconButton, Grid, Tooltip, CircularProgress, useTheme, Collapse } from '@material-ui/core';\nimport { useDialogState } from './useDialogState';\nimport Paper from '@material-ui/core/Paper';\nimport Draggable from 'react-draggable';\nimport { useValues } from './helpers';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Fields from './Fields';\nimport ErrorGate from './ErrorGate';\nimport { useFullScreen } from '../../../hooks';\nimport { evalFunc } from '../../../helpers';\n\nfunction PaperComponent(props) {\n  return (\n    <Draggable cancel={'[class*=\"MuiDialogContent-root\"]'}>\n      <Paper {...props} />\n    </Draggable>\n  );\n}\n\nconst useStyles = makeStyles(({ spacing, palette, layout }: any) =>\n  createStyles({\n    button: {\n      width: '100%',\n      maxWidth: '200px'\n    },\n    dialog: {\n      display: 'flex',\n      flexDirection: 'column',\n      outline: 'none',\n      border: `5px solid ${palette.primary}`\n    },\n    dialogHeader: {\n      background: palette.grey[100]\n    },\n    capitalize: {\n      textTransform: 'capitalize'\n    },\n    content: {\n      padding: spacing(2)\n    },\n    actions: {\n      margin: 0,\n      padding: spacing(1),\n      paddingTop: spacing(0.5),\n      paddingBottom: spacing(0.5)\n    },\n    title: {\n      background: palette.primary.main,\n      color: palette.common.white,\n      margin: 0,\n      padding: 0,\n      paddingLeft: spacing(2),\n      paddingRight: spacing(1)\n    },\n    closeButton: {\n      color: 'inherit'\n    },\n    deleteButton: {\n      color: palette.common.white,\n      background: palette.error.main,\n      '&:hover': {\n        background: palette.error.dark\n      }\n    },\n    deleteButtonEmpty: {\n      color: palette.error.main\n    },\n    formControl: {\n      marginTop: 8\n    },\n    submitProgress: {\n      color: palette.primary.light,\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -(layout.progressSize / 2),\n      marginLeft: -(layout.progressSize / 2)\n    }\n  })\n);\n\nexport interface FieldProps {\n  id: string | number;\n  label: string;\n  type: string;\n  Field?: Element;\n  getValue?: (f: FieldProps, values: any) => any;\n}\n\nexport interface ComponentProps {\n  id: string;\n  title: string;\n  initialValues?: object;\n  cancelLabel: string;\n  deleteLabel: string;\n  submitLabel: string;\n  draggable: boolean;\n  onSubmit: any;\n  onDelete: any;\n  OnClose: any;\n  validate: any;\n  Content: Element;\n  ContentProps: any;\n  fields: FieldProps[];\n  classes?: object;\n}\n\nconst GenericDialog = ({\n  id,\n  title: Title, // Title can be set via the state as well as the input props, state takes priority\n  initialValues: InitialValues, // If initial values are provided they are merged with the initial values from the state\n  draggable = false,\n  cancelLabel = 'Cancel',\n  deleteLabel = 'Delete',\n  submitLabel,\n  fields = [] as any[],\n  onSubmit,\n  onDelete,\n  onClose,\n  Content,\n  ContentProps,\n  validate,\n  loading: Loading,\n  classes: Classes,\n  hasChanged: HasChanged,\n  children,\n  ...other\n}: ComponentProps & any) => {\n  const { layout } = useTheme();\n  const [state, setState] = useDialogState(id);\n  const { type, open = false, loading, submitting } = state;\n  const title = state.title ? state.title : Title;\n\n  const [confirmDelete, setConfirmDelete] = React.useState(false);\n  const handleConfirmDelete = React.useCallback(() => setConfirmDelete(prev => !prev), [setConfirmDelete]);\n\n  const classes = useStyles({ classes: Classes });\n  const fullScreen = useFullScreen();\n\n  const { values, setValues, hasChanged, errors, errorCount, mapField } = useValues({\n    open,\n    fields,\n    InitialValues,\n    state,\n    setState,\n    validate\n  });\n\n  React.useEffect(() => {\n    open && setConfirmDelete(false);\n  }, [open]); // Re-initialize values when necessary\n\n  const values_s = JSON.stringify(values);\n  const handleSubmit = React.useCallback(() => {\n    if (errorCount > 0) {\n      setState(prev => ({ ...prev, showErrors: true }));\n    } else {\n      onSubmit && onSubmit(JSON.parse(values_s), setValues);\n    }\n  }, [setState, onSubmit, values_s, setValues, errorCount]);\n\n  const handleDelete = React.useCallback(() => {\n    onDelete && onDelete(JSON.parse(values_s), setState);\n  }, [onDelete, values_s, setState]);\n\n  const handleClose = React.useCallback(() => {\n    setState(prev => ({ ...prev, open: false, showErrors: false }));\n    onClose && onClose();\n  }, [setState, onClose]);\n\n  const contentProps = {\n    fields,\n    mapField,\n    values,\n    ...ContentProps\n  };\n\n  const inProgress = loading || Loading || submitting;\n  const disabled = inProgress || errors['loading'];\n  const changed = HasChanged !== undefined ? HasChanged : hasChanged; // Use param if specified, otherwise use default value.hasChanged\n\n  return (\n    <Dialog\n      PaperComponent={!fullScreen && draggable ? PaperComponent : Paper}\n      fullScreen={fullScreen}\n      open={open}\n      onClose={handleClose}\n      aria-labelledby={`${id}-dialog-title`}\n      aria-describedby={`${id}-dialog-description`}\n      className={classes.dialog}\n      disableAutoFocus={true}\n      maxWidth='xs'\n      fullWidth\n      {...other}\n    >\n      {title !== null && (\n        <>\n          <DialogTitle id={`${id}-dialog-title`} disableTypography className={classes.title}>\n            <Grid container justify='space-between' alignItems='center'>\n              <Grid item zeroMinWidth xs>\n                <Typography noWrap variant='h6' className={classes.capitalize}>\n                  {title ? evalFunc(title, values) : [type, id].join(' ')}\n                </Typography>\n              </Grid>\n              <Grid item>\n                {handleClose ? (\n                  <Tooltip title='Close' placement='left'>\n                    <IconButton aria-label='close' className={classes.closeButton} onClick={handleClose}>\n                      <CloseIcon />\n                    </IconButton>\n                  </Tooltip>\n                ) : null}\n              </Grid>\n            </Grid>\n          </DialogTitle>\n          <Divider />\n        </>\n      )}\n      <ErrorGate error={errors['loading']}>\n        <>\n          {children ? (\n            children\n          ) : Content ? (\n            <Content {...contentProps} />\n          ) : (\n            <DialogContent className={classes.content} dividers>\n              {inProgress && <CircularProgress size={layout.progressSize} className={classes.submitProgress} />}\n              <Collapse in={!confirmDelete}>\n                <Grid container alignItems='center' spacing={1}>\n                  <Fields {...contentProps} />\n                </Grid>\n              </Collapse>\n              {confirmDelete && (\n                <Grid container spacing={2} justify='center' alignItems='center'>\n                  <Grid item>\n                    <Button onClick={handleConfirmDelete} color='default'>\n                      Cancel\n                    </Button>\n                  </Grid>\n                  <Grid item>\n                    <Button onClick={handleDelete} className={classes.deleteButton}>\n                      <DeleteIcon style={{ marginRight: 4 }} />\n                      Confirm {deleteLabel}\n                    </Button>\n                  </Grid>\n                </Grid>\n              )}\n            </DialogContent>\n          )}\n        </>\n      </ErrorGate>\n      {!confirmDelete && (\n        <DialogActions className={classes.actions}>\n          {type === 'Edit' && onDelete !== undefined && (\n            <Button disabled={disabled} className={classes.deleteButtonEmpty} onClick={handleConfirmDelete}>\n              {deleteLabel}\n            </Button>\n          )}\n          {cancelLabel !== null && (\n            <Button color='default' onClick={handleClose}>\n              {cancelLabel}\n            </Button>\n          )}\n          {submitLabel !== null && (\n            <Button autoFocus disabled={disabled || !changed} color='primary' onClick={handleSubmit}>\n              {evalFunc(submitLabel, values) || type}\n            </Button>\n          )}\n        </DialogActions>\n      )}\n    </Dialog>\n  );\n};\n\nexport default GenericDialog;\n","import * as React from 'react';\nimport { Typography } from '@material-ui/core';\nimport { makeStyles, createStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    root: ({ disabled }: any) => ({\n      color: disabled ? palette.text.disabled : 'inherit'\n    })\n  })\n);\n\nconst Label = ({ label, disabled, variant }) => (\n  <Typography variant={variant} className={useStyles({ disabled }).root}>\n    {label}\n  </Typography>\n);\n\nexport default Label;\n","import * as React from 'react';\nimport { Divider } from '@material-ui/core';\n\nconst MarginDivider = ({ marginTop = 8, marginBottom = 8, ...other }) => <Divider style={{ marginTop, marginBottom }} {...other} />;\n\nexport default MarginDivider;\n","import { region, identityPoolIdUnauth, sourceEmailAddress } from '../../../../../package.json';\nimport { hostAddress, publicUrl } from '../../../../helpers';\nexport const AWS = require('aws-sdk'); // Load the AWS SDK for Node.js\n\n// Initialize the Amazon Cognito credentials provider\nAWS.config.region = region;\nAWS.config.credentials = new AWS.CognitoIdentityCredentials({\n  IdentityPoolId: identityPoolIdUnauth\n});\n\nexport const sendInstructorInvite = ({\n  id,\n  email,\n  institution = 'Unknown',  \n  role = 'Instructor',\n  onSuccess = undefined,\n  onError = undefined\n}) => {\n  console.log('Sending instructor invite to: ' + email);\n  const body = `You have been invited to the DOORS Web Application:\n    <p>User Email: ${email}</p>  \n    <p>Role: ${role}</p>    \n    <p>Institution: ${institution}</p>\n    \n    <h2><a href='${hostAddress(publicUrl(`/?i=${id}&t=i`))}'>Click here to accept the invite<a/></h2>\n    `;\n\n  // Create sendEmail params\n  var params = {\n    Destination: {\n      /* required */ CcAddresses: [],\n      ToAddresses: [email]\n    },\n    Message: {\n      /* required */\n      Body: {\n        /* required */\n        Html: {\n          Charset: 'UTF-8',\n          Data: body\n        },\n        Text: {\n          Charset: 'UTF-8',\n          Data: body\n        }\n      },\n      Subject: {\n        Charset: 'UTF-8',\n        Data: `${role} Invitation to DOORS Web Application!`\n      }\n    },\n    Source: sourceEmailAddress /* required */,\n    ReplyToAddresses: [sourceEmailAddress]\n  };\n\n  // Create the promise and SES service object\n  var sendPromise = new AWS.SES({ apiVersion: '2010-12-01' }).sendEmail(params).promise();\n\n  // Handle promise's fulfilled/rejected states\n  sendPromise\n    .then(function (data) {\n      onSuccess && onSuccess(data);\n    })\n    .catch(function (err) {\n      console.error(err, err.stack);\n      onError && onError(err);\n    });\n};\n","import * as React from 'react';\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux';\nimport { AppState } from '../../../store';\nimport { updateSnackBar, SnackBarState } from './store';\n\nexport const useSnackBar = (): [SnackBarState, (SnackBarProps) => void] => {\n  const dispatch = useDispatch();\n  const state: SnackBarState = useSelector((state: AppState) => state.snackBar, shallowEqual);\n  const setState = React.useCallback((payload: SnackBarState) => dispatch(updateSnackBar(payload)), [dispatch]);\n  return [state, setState];\n};\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport Label from '../../DialogField/Label';\nimport MarginDivider from '../../DialogField/MarginDivider';\nimport { sendInstructorInvite } from './helpers';\nimport { useDialogState } from '../useDialogState';\nimport { useSnackBar } from '../../SnackBar/useSnackBar';\nimport useProcessData from '../../../../database/useProcessData';\nimport { tables } from '../../../../database/dbConfig';\nimport Instructor from '../../../../database/models/Instructor';\nimport { uuid } from '../../../../helpers';\nimport { useUserId } from '../../../layout/hooks';\n\nexport const title = 'Add Instructor';\n\nexport default function AddInstructorDialog({ id = title, onClose }) {\n  const [, setState] = useDialogState(id);\n  const [, setSnackbar] = useSnackBar();\n\n  const handleClose = React.useCallback(\n    (props = undefined) => {\n      props && setSnackbar(props);\n      setState(prev => ({ ...prev, open: false, loading: false }));\n      onClose && onClose();\n    },\n    [onClose, setState, setSnackbar]\n  );\n\n  const processData = useProcessData();\n  const parentId = useUserId();\n\n  const submitData = React.useCallback(\n    ({ values, OnSuccess }) => {\n      const { email, title, institution } = values;\n      const instructor: Instructor = {\n        id: uuid(),\n        email,\n        title,\n        institution,\n        parentId\n      };\n\n      setState(prev => ({ ...prev, loading: true }));\n\n      processData({\n        Model: tables.instructors,\n        Action: 'c',\n        Data: instructor,\n        onError: () => setState(prev => ({ ...prev, loading: false, error: 'Error submitting values' })),\n        onSuccess: OnSuccess(instructor)\n      });\n    },\n    [setState, processData, parentId]\n  );\n\n  const onError = React.useCallback(() => {\n    handleClose({ open: true, variant: 'error', message: 'Error sending invite' });\n  }, [handleClose]);\n\n  const onSuccess = React.useCallback(() => {\n    handleClose({ open: true, variant: 'success', message: 'Successfully sent invite' });\n  }, [handleClose]);\n\n  const onSubmitSuccess = React.useCallback(\n    values => ({ id }) => {\n      sendInstructorInvite({ id, email: values.email, institution: values.institution, onSuccess, onError });\n    },\n    [onError, onSuccess]\n  );\n\n  const handleSubmit = React.useCallback(values => submitData({ values, OnSuccess: onSubmitSuccess(values) }), [submitData, onSubmitSuccess]);\n\n  return (\n    <GenericDialog\n      id={id}\n      title={id}\n      submitLabel='Send Invite'\n      onSubmit={handleSubmit}\n      onClose={onClose}\n      fields={[\n        {\n          label: `Enter instructor's email and we will send a link to activate their account:`,\n          Field: Label\n        },\n        {\n          Field: MarginDivider\n        },\n        {\n          id: 'email',\n          label: 'Email',\n          required: true,\n          email: true\n        },\n        {\n          id: 'title',\n          label: 'Title',\n          required: true\n        },\n        {\n          id: 'institution',\n          label: 'Institution',\n          required: true\n        }\n      ]}\n    />\n  );\n}\n","import * as React from 'react';\nimport { tables } from './dbConfig';\nimport { isEmpty, minutesFrom } from '../helpers';\nimport useProcessData from './useProcessData';\nimport { inviteExpiration } from '../../package.json';\n\nexport const isExpired = item => minutesFrom(item?.created) > inviteExpiration;\n\nexport default function useTableRow({\n  Model = tables.instructors,\n  id: Id = undefined,\n  state: externalState = undefined,\n  setState: setExternalState = undefined,\n  active = true,\n  onSuccess: OnSuccess = undefined\n}) {\n  const [internalState, setInternalState] = React.useState();\n  const state = externalState ? externalState : internalState;\n  const setState = setExternalState ? setExternalState : setInternalState;\n  const { open } = state ?? { open: undefined };\n  const processData = useProcessData();\n  const row = state?.response?.Item;\n  const row_str = JSON.stringify(row) ?? '{}'; // Default to empty object string if undefined\n\n  const handleRefresh = React.useCallback(\n    ({ id: _Id = undefined, onSuccess } = {}) => {\n      const id = _Id ? _Id : Id;\n      if (!isEmpty(id)) {\n        setState(prev => ({ ...prev, loading: true, error: undefined, response: undefined }));\n        processData({\n          Model,\n          Action: 'r',\n          Data: { id },\n          onError: response => setState(prev => ({ ...prev, loading: false, error: 'Error reading values', response })),\n          onSuccess: response => {\n            setState(prev => ({ ...prev, loading: false, error: undefined, response }));\n            onSuccess && onSuccess(response);\n            OnSuccess && OnSuccess(response);\n          }\n        });\n      }\n    },\n    [Id, Model, processData, OnSuccess, setState]\n  );\n\n  React.useEffect(() => {\n    if (open !== undefined) {\n      active && open && handleRefresh(); // For use with dialogs, so we only request data on open\n    } else {\n      active && handleRefresh();\n    }\n  }, [handleRefresh, open, active]);\n\n  const setRow = React.useCallback(\n    ({ id: _Id = undefined, values, prev = undefined, onSuccess = undefined, onError = undefined }) => {\n      // If an id is provided via the function call, use that over Id\n      const id = _Id ? _Id : Id;\n      if (!isEmpty(id)) {\n        const prevValues = prev === undefined ? JSON.parse(row_str) : prev; // If user provides previous value, use that, otherwise use the values stored in local state\n        setState(prev => ({ ...prev, loading: true, error: undefined, response: undefined }));\n        processData({\n          Model,\n          Action: 'u',\n          Data: { ...prevValues, id, ...values },\n          onError: response => {\n            setState(prev => ({ ...prev, loading: false, error: 'Error reading values', response }));\n            onError && onError(response);\n          },\n          onSuccess: response => {\n            setState(prev => ({ ...prev, loading: false, error: undefined, response }));\n            onSuccess && onSuccess(response);\n            OnSuccess && OnSuccess(response);\n          }\n        });\n      }\n    },\n    [Id, Model, setState, processData, row_str, OnSuccess]\n  );\n\n  // Provide previous value via function parameter to prevent multiple re-renders in useEffect hooks\n  const setRowPrev = React.useCallback(\n    ({ id: _Id = undefined, values, prev = undefined, onSuccess = undefined, onError = undefined }) => {\n      // If an id is provided via the function call, use that over Id\n      const id = _Id ? _Id : Id;\n      if (!isEmpty(id)) {\n        setState(prev => ({ ...prev, loading: true, error: undefined, response: undefined }));\n        // console.log({ id, Data: { ...prev, id, ...values }, prev, values });\n        processData({\n          Model,\n          Action: 'u',\n          Data: { ...prev, id, ...values },\n          onError: response => {\n            setState(prev => ({ ...prev, loading: false, error: 'Error reading values', response }));\n            onError && onError(response);\n          },\n          onSuccess: response => {\n            setState(prev => ({ ...prev, loading: false, error: undefined, response }));\n            onSuccess && onSuccess(response);\n            OnSuccess && OnSuccess(response);\n          }\n        });\n      }\n    },\n    [Id, Model, setState, processData, OnSuccess]\n  );\n\n  // Reads the row from the database first, and then merges the new values into the existing data before saving back to the database\n  const readSetRow = React.useCallback(\n    ({ id = undefined, values, ...other }) => {\n      handleRefresh({ id, onSuccess: response => setRowPrev({ id: id, values, prev: response?.Item, ...other }) });\n    },\n    [setRowPrev, handleRefresh]\n  );\n\n  const expired = isExpired(row);\n\n  return { row, setRow, readSetRow, expired, handleRefresh, loading: state?.loading };\n}\n","import { region, identityPoolIdUnauth, sourceEmailAddress } from '../../../../../package.json';\nexport const AWS = require('aws-sdk'); // Load the AWS SDK for Node.js\n\n// Initialize the Amazon Cognito credentials provider\nAWS.config.region = region;\nAWS.config.credentials = new AWS.CognitoIdentityCredentials({\n  IdentityPoolId: identityPoolIdUnauth\n});\n\nexport const sendInstructorEmail = ({ email, message, onSuccess = undefined, onError = undefined }) => {\n  const body = `Instructor Alert - DOORS Web Application:     \n    <p>User Email: ${email}</p>  \n    <p>Message: ${message}</p>\n    `;\n\n  // Create sendEmail params\n  var params = {\n    Destination: {\n      /* required */ CcAddresses: [],\n      ToAddresses: [email]\n    },\n    Message: {\n      /* required */\n      Body: {\n        /* required */\n        Html: {\n          Charset: 'UTF-8',\n          Data: body\n        },\n        Text: {\n          Charset: 'UTF-8',\n          Data: body\n        }\n      },\n      Subject: {\n        Charset: 'UTF-8',\n        Data: `Instructor Alert - DOORS Web Application`\n      }\n    },\n    Source: sourceEmailAddress,\n    ReplyToAddresses: [email]\n  };\n\n  // Create the promise and SES service object\n  var sendPromise = new AWS.SES({ apiVersion: '2010-12-01' }).sendEmail(params).promise();\n\n  // Handle promise's fulfilled/rejected states\n  sendPromise\n    .then(function (data) {\n      onSuccess && onSuccess(data);\n    })\n    .catch(function (err) {\n      console.error(err, err.stack);\n      onError && onError(err);\n    });\n};\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport Label from '../../DialogField/Label';\nimport MarginDivider from '../../DialogField/MarginDivider';\nimport { sendInstructorEmail } from './helpers';\nimport { useDialogState } from '../useDialogState';\nimport { useSnackBar } from '../../SnackBar/useSnackBar';\n\nexport const title = 'Alert Instructor';\n\nexport default function InstructorAlertDialog({ id = title, onClose = undefined }) {\n  const [, setState] = useDialogState(id);\n  const [, setSnackbar] = useSnackBar();\n\n  const handleClose = React.useCallback(\n    (props = undefined) => {\n      props && setSnackbar(props);\n      setState(prev => ({ ...prev, open: false, loading: false }));\n      onClose && onClose();\n    },\n    [onClose, setState, setSnackbar]\n  );\n\n  const onError = React.useCallback(() => {\n    handleClose({ open: true, variant: 'success', message: 'Error sending message' });\n  }, [handleClose]);\n\n  const onSuccess = React.useCallback(() => {\n    handleClose({ open: true, variant: 'success', message: 'Successfully sent message' });\n  }, [handleClose]);\n\n  const handleSubmit = React.useCallback(\n    ({ email, message }) => {\n      sendInstructorEmail({ email, message, onSuccess, onError });\n    },\n    [onSuccess, onError]\n  );\n\n  return (\n    <GenericDialog\n      id={id}\n      title={title}\n      onClose={onClose}\n      submitLabel={'Send'}\n      onSubmit={handleSubmit}\n      fields={[\n        {\n          label: 'Enter a message to send the instructor an email alert.',\n          Field: Label\n        },\n        {\n          Field: MarginDivider\n        },\n        {\n          id: 'email',\n          label: 'Instructors Email',\n          required: true,\n          email: true,\n          InputProps: {\n            readOnly: true\n          }\n        },\n        {\n          id: 'message',\n          label: 'Your Message',\n          required: true,\n          multiline: true,\n          rows: 6,\n          placeholder: 'Enter your message'\n        }\n      ]}\n    />\n  );\n}\n","import * as React from 'react';\nimport * as Icons from '@material-ui/icons';\nimport { IconButton, Menu, MenuItem, Popover } from '@material-ui/core';\nimport useTableRow from '../../../../database/useTableRow';\nimport { tables } from '../../../../database/dbConfig';\nimport * as InstructorAlertDialog from '../../GenericDialog/InstructorAlert';\nimport DialogButton from '../../GenericDialog/DialogButton';\n\nexport function RowActionsButton({ id, deleted, onUpdate, email }) {\n  const [anchorEl, setAnchorEl] = React.useState<HTMLButtonElement | null>(null);\n\n  const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    event.stopPropagation();\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = event => {\n    event?.stopPropagation();\n    setAnchorEl(null);\n  };\n\n  const open = Boolean(anchorEl);\n\n  const [state, setState] = React.useState({ loading: false, open: false }); // Set to false to prevent automatic data request on load\n  const { loading } = state;\n  const { readSetRow } = useTableRow({ Model: tables.instructors, id, state, setState });\n\n  const handleUpdate = React.useCallback(\n    values => () => {\n      setAnchorEl(null);\n      readSetRow({ values, onSuccess: onUpdate });\n    },\n    [readSetRow, onUpdate, setAnchorEl]\n  );\n\n  return (\n    <div>\n      <IconButton size='small' color='inherit' onClick={handleClick}>\n        <Icons.MoreVert />\n      </IconButton>\n      <Popover\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'left'\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'right'\n        }}\n      >\n        <Menu\n          anchorEl={anchorEl}\n          anchorOrigin={{\n            vertical: 'top',\n            horizontal: 'right'\n          }}\n          keepMounted\n          transformOrigin={{\n            vertical: 'top',\n            horizontal: 'right'\n          }}\n          open={open}\n          onClose={handleClose}\n        >\n          <DialogButton id={id} initialValues={{ email }} variant='menuitem' onClose={handleClose} Module={InstructorAlertDialog}>\n            Send Email Alert\n          </DialogButton>\n          {deleted === true ? (\n            <MenuItem disabled={loading} onClick={handleUpdate({ deleted: false })}>\n              Restore Instructor\n            </MenuItem>\n          ) : (\n            <MenuItem disabled={loading} onClick={handleUpdate({ deleted: true })}>\n              Archive Instructor\n            </MenuItem>\n          )}\n        </Menu>\n      </Popover>\n    </div>\n  );\n}","import * as React from 'react';\nimport GenericTableContainer from '../GenericTableContainer';\nimport { useInstructors } from './useInstructors';\nimport * as Icons from '@material-ui/icons';\nimport useTabSelector from '../../Selector/useTabSelector';\nimport DialogButton from '../../GenericDialog/DialogButton';\nimport * as AddInstructorDialog from '../../GenericDialog/AddInstructor';\nimport { RowActionsButton } from './buttons';\nimport { useHandleChangeRouteLayout, useUserId } from '../../../layout/hooks';\n\nconst back = {\n  label: 'Back to Instructors',\n  route: '/Instructors'\n};\nconst tabs = [\n  {\n    id: 'Active',\n    icon: Icons.GroupOutlined,\n    filter: data => data.filter(r => r.deleted !== true) // Easier to filter on client end as AWS doesn't appear to support null filtering\n  },\n  {\n    id: 'Archived',\n    icon: Icons.Archive,\n    requestParams: {\n      FilterExpression: '#deleted = :deleted',\n      ExpressionAttributeNames: {\n        '#deleted': 'deleted'\n      },\n      ExpressionAttributeValues: {\n        ':deleted': true\n      }\n    }\n  }\n];\n\nconst ViewClassesButton = props => {\n  const disabled = props?.Invite !== 'Accepted';\n  const userId = useUserId(); // Admin userid\n\n  const changeRoute = useHandleChangeRouteLayout();\n\n  return (\n    <DialogButton\n      disabled={disabled}\n      variant='link'\n      linkVariant='subtitle2'\n      underline='always'\n      onClick={changeRoute('/InstructorClasses', {\n        back,\n        instructor: { userId: props?.userId, parentId: userId }\n      })}\n      {...props}\n    >\n      {disabled ? 'N/A' : 'View Classes'}\n    </DialogButton>\n  );\n};\n\nconst ViewGroupsButton = props => {\n  const disabled = props?.Invite !== 'Accepted';\n  const userId = useUserId(); // Admin userid\n\n  const changeRoute = useHandleChangeRouteLayout();\n\n  return (\n    <DialogButton\n      disabled={disabled}\n      variant='link'\n      linkVariant='subtitle2'\n      underline='always'\n      onClick={changeRoute('/Groups', {\n        back,\n        instructor: { userId: props?.userId, parentId: userId }\n      })}\n      {...props}\n    >\n      {disabled ? 'N/A' : 'View Groups'}\n    </DialogButton>\n  );\n};\n\nexport default function Instructors({ name = 'Instructors', ...other }) {\n  const [{ value: tab = 'Active' }] = useTabSelector(name);\n  const selectedTab = tabs.find(t => t.id === tab);\n  const requestParams = selectedTab?.requestParams;\n\n  const { data, loading, handleRefresh } = useInstructors({ table: name, tab, requestParams });\n\n  const RowActionsCell = React.useCallback(props => <RowActionsButton onUpdate={handleRefresh} {...props} />, [handleRefresh]);\n\n  return (\n    <GenericTableContainer\n      name={name}\n      loading={loading}\n      title={`${tab} ${name}`}\n      tabs={tabs}\n      columns={[\n        { name: 'email', header: 'Email' },\n        { name: 'title', header: 'Title' },\n        { name: 'institution', header: 'Institution' },\n        { name: 'Invite', header: 'Invite Status' },\n        {\n          name: 'Groups',\n          header: 'View Groups',\n          Cell: ViewGroupsButton\n        },\n        {\n          name: 'Classes',\n          header: 'View Classes',\n          Cell: ViewClassesButton\n        },\n        {\n          name: 'actions',\n          header: 'Actions',\n          width: 88,\n          Cell: RowActionsCell\n        }\n      ]}\n      toolbar={true}\n      footer={true}\n      search={true}\n      stacked={true}\n      data={selectedTab?.filter ? selectedTab.filter(data) : data}\n      checkbox={false}\n      select={false}\n      buttons={[\n        <DialogButton Module={AddInstructorDialog} Icon={Icons.Add} onClose={handleRefresh} size='small' margin='dense' variant='styled' tooltip=''>\n          Add New\n        </DialogButton>\n      ]}\n      {...other}\n    />\n  );\n}\n","import * as React from 'react';\nimport { useTableFilter } from '../helpers';\nimport useTable from '../../../../database/useTable';\nimport { tables } from '../../../../database/dbConfig';\nimport { isExpired } from '../../../../database/useInstructor';\n\nexport const useInstructors = ({ table = undefined, tab = undefined, requestParams = undefined }) => {\n  const { state, handleRequest } = useTable({ TableName: tables.instructors });\n  const { data, loading, success } = state as any;\n\n  const handleRefresh = React.useCallback(() => {\n    handleRequest(requestParams);\n    // eslint-disable-next-line\n  }, [JSON.stringify(requestParams), handleRequest]);\n\n  React.useEffect(() => {\n    handleRefresh();\n  }, [handleRefresh, table, tab]);\n\n  const instructors = Object.keys(data).map(k => ({\n    ...data[k],\n    Invite: data[k].accepted ? 'Accepted' : isExpired(data[k]) ? 'Expired' : 'Pending'\n  }));\n\n  return {\n    data: useTableFilter(\n      instructors.map(i => ({\n        ...i,\n        getValues: () => i\n      })),\n      table\n    ),\n    handleRefresh,\n    loading,\n    success\n  };\n};\n","import * as React from 'react';\nimport InstructorsTable from '../application/GenericTable/Instructors/table';\n\nexport default function Instructors() {\n  return <InstructorsTable />;\n}\n","import { Tooltip, withStyles, Theme } from '@material-ui/core';\n\nconst LightTooltip = withStyles((theme: Theme) => ({\n  tooltip: {\n    ...theme.typography.body2,\n    backgroundColor: theme.palette.common.white,\n    color: theme.palette.text.primary,\n    boxShadow: theme.shadows[1]\n  }\n}))(Tooltip);\n\nexport default LightTooltip;\n","import * as React from 'react';\nimport { FormControl, FormHelperText, Grid, Typography, ButtonGroup, Button } from '@material-ui/core';\nimport { isError, isTrue, isFalse } from '../../../helpers';\nimport * as Icons from '@material-ui/icons';\nimport LightTooltip from '../../general/LightTooltip/LightTooltip';\n\nconst YesNo = ({\n  label = '',\n  variant = undefined,\n  size = 'small' as 'small',\n  color = 'primary' as 'primary',\n  error = undefined,\n  value = undefined,\n  tooltip = undefined,\n  margin = 'dense' as 'dense',\n  labelPlacement = 'start',\n  onChange = undefined,\n  forceErrorMargin = false,\n  type = undefined, // Don't pass an undefined type to Checkbox.  This filters the prop out\n  initialValue = undefined,\n  disabled = false,\n  ...other\n}) => {\n  const handleChange = React.useCallback(value => () => onChange && onChange({ target: { value } }), [onChange]);\n\n  const Label = (\n    <Grid item>\n      <Typography color={disabled ? 'textSecondary' : 'initial'}>{label}</Typography>\n    </Grid> \n  );\n\n  return (\n    <FormControl variant={variant} error={isError(error)} fullWidth margin={margin}>\n      <Grid container justify='space-between' alignItems='center' spacing={3}>\n        {labelPlacement === 'start' && Label}\n        <Grid item>\n          <Grid container justify='flex-end' alignItems='center' spacing={1}>\n            {tooltip && (\n              <Grid item>\n                <LightTooltip title={tooltip}>\n                  <Icons.HelpOutlined fontSize='small' color='primary' />\n                </LightTooltip>\n              </Grid>\n            )}\n            <Grid item>\n              <ButtonGroup size={size} color={color} aria-label={`${label}-button-group`} disabled={disabled} {...other}>\n                <Button variant={isTrue(value) ? 'contained' : undefined} onClick={handleChange(true)}>\n                  Yes\n                </Button>\n                <Button variant={isFalse(value) ? 'contained' : undefined} onClick={handleChange(false)}>\n                  No\n                </Button>\n              </ButtonGroup>\n            </Grid>\n          </Grid>\n        </Grid>\n        {labelPlacement === 'end' && Label}\n      </Grid>\n      {(forceErrorMargin || error) && <FormHelperText>{error}</FormHelperText>}\n    </FormControl>\n  );\n};\n\nexport default YesNo;\n","import * as React from 'react';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\nimport Text from './Text';\n\nconst icon = <CheckBoxOutlineBlankIcon fontSize='small' />;\nconst checkedIcon = <CheckBoxIcon fontSize='small' />;\n\nexport default function MultiSelectCheck({\n  value = [],\n  onChange = undefined,\n  label,\n  placeholder,\n  fullWidth = true,\n  disabled = false,\n  size = 'small' as 'small',\n  items = [],\n  disableCloseOnSelect = true,\n  initialValue = undefined, // prevent passing down\n  ...other\n}) {\n  const handleChange = React.useCallback((e, value = []) => onChange && onChange({ target: { value: value.map(i => i.value) } }), [onChange]);\n\n  return (\n    <Autocomplete\n      size='small'\n      multiple\n      options={items}\n      disableCloseOnSelect={disableCloseOnSelect}\n      getOptionLabel={option => option.label}\n      renderOption={(option, { selected }) => (\n        <>\n          <Checkbox color='primary' icon={icon} checkedIcon={checkedIcon} style={{ marginRight: 8 }} checked={selected} />\n          {option.label}\n        </>\n      )}\n      renderInput={params => (\n        <Text\n          {...params}\n          label={label}\n          placeholder={placeholder}\n          fullWidth={fullWidth}\n          InputLabelProps={{\n            shrink: true\n          }}\n          {...other}\n        />\n      )}\n      disabled={disabled}\n      value={items.filter(i => value.includes(i.value))}\n      onChange={handleChange}\n      {...other}\n    />\n  );\n}\n","import * as React from 'react';\nimport { FormControl, FormHelperText, Grid, Typography, ButtonGroup, Button } from '@material-ui/core';\nimport { isError } from '../../../helpers';\nimport * as Icons from '@material-ui/icons';\nimport LightTooltip from '../../general/LightTooltip/LightTooltip';\n\nexport default function VinfenSelector({\n  label = '',\n  variant = undefined,\n  size = 'small' as 'small',\n  color = 'primary' as 'primary',\n  error = undefined,\n  value = undefined,\n  tooltip = undefined,\n  margin = 'dense' as 'dense',\n  labelPlacement = 'start',\n  onChange = undefined,\n  forceErrorMargin = false,\n  type = undefined, // Don't pass an undefined type to Checkbox.  This filters the prop out\n  initialValue = undefined,\n  disabled = false,\n  ...other\n}) {\n  const handleChange = React.useCallback(value => () => onChange && onChange({ target: { value } }), [onChange]);\n\n  const Label = (\n    <Grid item>\n      <Typography color={disabled ? 'textSecondary' : 'initial'}>{label}</Typography>\n    </Grid>\n  );\n\n  return (\n    <FormControl variant={variant} error={isError(error)} fullWidth margin={margin}>\n      <Grid container justify='space-between' alignItems='center' spacing={3}>\n        {labelPlacement === 'start' && Label}\n        <Grid item>\n          <Grid container justify='flex-end' alignItems='center' spacing={1}>\n            {tooltip && (\n              <Grid item>\n                <LightTooltip title={tooltip}>\n                  <Icons.HelpOutlined fontSize='small' color='primary' />\n                </LightTooltip>\n              </Grid>\n            )}\n            <Grid item>\n              <ButtonGroup size={size} color={color} aria-label={`${label}-button-group`} disabled={disabled} {...other}>\n                <Button variant={value === 'Clinician' ? 'contained' : undefined} onClick={handleChange('Clinician')}>\n                  Clinician\n                </Button>\n                <Button variant={value === 'Person Served by Vinfen' ? 'contained' : undefined} onClick={handleChange('Person Served by Vinfen')}>\n                  Person Served by Vinfen\n                </Button>\n                <Button variant={value === 'Other' ? 'contained' : undefined} onClick={handleChange('Other')}>\n                  Other\n                </Button>\n              </ButtonGroup>\n            </Grid>\n          </Grid>\n        </Grid>\n        {labelPlacement === 'end' && Label}\n      </Grid>\n      {(forceErrorMargin || error) && <FormHelperText>{error}</FormHelperText>}\n    </FormControl>\n  );\n}\n","import React from 'react';\nimport MaskedInput from 'react-text-mask';\nimport Text from './Text';\n\nfunction TextMaskCustom({ inputRef, ...other }) {\n  return (\n    <MaskedInput\n      {...other}\n      ref={ref => {\n        inputRef(ref ? ref.inputElement : null);\n      }}\n      mask={['(', /[1-9]/, /\\d/, /\\d/, ')', ' ', /\\d/, /\\d/, /\\d/, '-', /\\d/, /\\d/, /\\d/, /\\d/]}\n      placeholderChar={'\\u2000'}\n      showMask\n    />\n  );\n}\n\nexport default function PhoneNumber({ InputProps, ...other }) {\n  return (\n    <Text\n      InputProps={{\n        ...InputProps,\n        inputComponent: TextMaskCustom\n      }}\n      {...other}      \n    />\n  );\n}\n","import * as React from 'react';\nimport { Typography } from '@material-ui/core';\nimport { makeStyles, createStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    root: ({ disabled }: any) => ({\n      color: disabled ? palette.text.disabled : 'inherit'\n    })\n  })\n);\n\nconst LabelRight = ({ label, disabled }) => (\n  <Typography align='right' className={useStyles({ disabled }).root}>\n    {label}\n  </Typography>\n);\n\nexport default LabelRight;\n","import * as React from 'react';\nimport clsx from 'clsx';\nimport { Grid, Box, Card, CardContent, makeStyles, Divider } from '@material-ui/core';\nimport StyledButton from '../../general/StyledButton';\nimport { useUserEmail } from '../../layout/hooks';\nimport { isEmpty } from '../../../helpers';\nimport { useValues } from '../../application/GenericDialog/helpers';\nimport Fields from '../../application/GenericDialog/Fields';\nimport { useDialogState } from '../../application/GenericDialog/useDialogState';\nimport Label from '../../application/DialogField/Label';\nimport YesNo from '../../application/DialogField/YesNo';\nimport MultiSelectCheck from '../../application/DialogField/MultiSelectCheck';\nimport VinfenSelector from '../../application/DialogField/VinfenSelector';\nimport PhoneNumber from '../../application/DialogField/PhoneNumber';\nimport LabelRight from '../../application/DialogField/LabelRight';\n\nconst useStyles = makeStyles(({ palette }) => ({\n  root: {},\n  header: {\n    background: palette.primary.main,\n    color: palette.common.white\n  }\n}));\n\nconst validate = values => {\n  const newErrors = {};\n  if (isEmpty(values['name'])) {\n    newErrors['name'] = 'Required';\n  }\n  return newErrors;\n};\n\nconst margin = 0;\n\nconst getFields = (email, showDescriptions) => [\n  {\n    Field: Label,\n    hidden: !showDescriptions,\n    label:\n      'Create a username (please do not use any personally identifiable information when creating your username. This includes your first or last name or your birthdate):'\n  },\n  { id: 'name', label: 'Username', required: true, style: { maxWidth: 275 } },\n  { Field: Divider, hidden: !showDescriptions },\n  {\n    Field: Label,\n    hidden: !showDescriptions,\n    label: 'If you would like to receive reminders on your phone, please enter your phone number:'\n  },\n  { id: 'phone', label: 'Phone Number', required: false, Field: PhoneNumber, style: { maxWidth: 175 } },\n  { Field: Divider, hidden: !showDescriptions },\n  { id: 'vinfenServices', label: 'Do you work at or receive services from Vinfen?', Field: YesNo, required: true },\n  { Field: Divider, hidden: !showDescriptions },\n  { id: 'type', label: 'Are you a clinician, a person served by Vinfen or other?', Field: VinfenSelector, required: true },\n  {\n    hidden: values => !showDescriptions || values?.type !== 'Person Served by Vinfen',\n    style: { marginLeft: margin },\n    label: 'What programs are you affiliated with? Please check all programs that apply:',\n    Field: Label\n  },\n  {\n    id: 'affiliatedProgram',\n    label: 'Affiliated Vinfen Programs',\n    Field: MultiSelectCheck,\n    style: { marginLeft: margin },\n    required: true,\n    hidden: values => values?.type !== 'Person Served by Vinfen',\n    items: [\n      'I go to a Clubhouse',\n      'I go to a Recovery Learning Center',\n      'I go to an outpatient clinic',\n      'I live in a Vinfen group home',\n      'I receive services from a Vinfen team (outreach worker, peer support, housing support, etc)',\n      'Other'\n    ].map(label => ({ value: label, label }))\n  },\n  {\n    hidden: values => !showDescriptions || values?.type !== 'Clinician',\n    style: { marginLeft: margin },\n    label: 'What hospital, clinic, or community based mental health program are you affiliated with?',\n    Field: Label\n  },\n  {\n    id: 'clinicianAffiliation',\n    hidden: values => values?.type !== 'Clinician',\n    style: { marginLeft: margin },\n    label: 'Clinical Affiliation',\n    required: true\n  },\n  {\n    hidden: values => !showDescriptions || values?.type !== 'Other',\n    style: { marginLeft: margin },\n    label: 'Please describe:',\n    Field: Label\n  },\n  {\n    id: 'otherAffiliation',\n    hidden: values => values?.type !== 'Other',\n    style: { marginLeft: margin },\n    label: 'Other Affiliation',\n    required: true\n  },\n  { Field: Divider, hidden: !showDescriptions },\n  {\n    Field: LabelRight,\n    hidden: !showDescriptions,\n    label: 'Please note: * indicates a required field'\n  }\n];\n\nexport default function ProfileSettings({ showDescriptions = false, className = undefined, profile = {}, setProfile, onSuccess, ...rest }) {\n  const classes = useStyles();\n  const email = useUserEmail(); // Email comes from the auth layer, not the profile layer\n  const fields = getFields(email, showDescriptions);\n\n  const [state, setState] = useDialogState('My Profile');\n  const { loading, submitting } = state;\n\n  const { values, hasChanged, errorCount, errors, mapField } = useValues({\n    open: true,\n    fields,\n    InitialValues: profile,\n    state,\n    setState,\n    validate\n  });\n\n  const values_s = JSON.stringify(values);\n  const handleSubmit = React.useCallback(() => {\n    if (errorCount > 0) {\n      setState(prev => ({ ...prev, showErrors: true }));\n    } else {\n      setProfile && setProfile({ values: JSON.parse(values_s), onSuccess });\n      setState(prev => ({ ...prev, showErrors: false }));\n    }\n  }, [setState, setProfile, values_s, errorCount, onSuccess]);\n\n  const contentProps = {\n    fields,\n    mapField,\n    values\n  };\n\n  const inProgress = loading || submitting;\n  const disabled = inProgress || errors['loading'];\n\n  return (\n    <Card className={clsx(classes.root, className)} {...rest}>\n      <CardContent>\n        <Grid container alignItems='center' spacing={3}>\n          <Fields {...contentProps} />\n        </Grid>\n      </CardContent>\n      <Divider />\n      <Box p={2} display='flex' justifyContent='flex-end'>\n        <StyledButton disabled={disabled || !hasChanged} onClick={handleSubmit}>\n          Save\n        </StyledButton>\n      </Box>\n    </Card>\n  );\n}\n","/* eslint-disable */\n// WARNING: DO NOT EDIT. This file is automatically generated by AWS Amplify. It will be overwritten.\n\nconst awsmobile = {\n  aws_project_region: 'us-east-1',\n  aws_cognito_identity_pool_id: 'us-east-1:e3a43f57-52bb-4180-9332-95340a48a342',\n  aws_cognito_region: 'us-east-1',\n  aws_user_pools_id: 'us-east-1_96DJd1OvH',\n  aws_user_pools_web_client_id: '7iogdrst70l8avelgtgdgrl7b6',\n  oauth: {},\n  aws_user_files_s3_bucket: 'doors103432-dev',\n  aws_user_files_s3_bucket_region: 'us-east-1',\n  aws_dynamodb_all_tables_region: 'us-east-1'\n};\n\nexport default awsmobile;\n\nexport const getObjectUrl = filename => filename && `https://${awsmobile.aws_user_files_s3_bucket}.s3.amazonaws.com/public/${filename}`;\n","import * as React from 'react';\nimport awsconfig from '../aws-exports';\nimport Amplify, { Storage } from 'aws-amplify';\nimport { uuid } from '../helpers';\nAmplify.configure(awsconfig);\n\nexport default function useS3Bucket({ setState = undefined } = {}) {\n  const handleUpload = React.useCallback(\n    ({\n      id = `unknown_${uuid()}`,\n      content = undefined,\n      level = 'public', // public or private\n      contentType = 'text/plain',\n      onStart = undefined,\n      onSuccess = undefined,\n      onError = undefined\n    }) => {\n      console.log('Uploading file...');\n      onStart && onStart();\n      setState && setState(prev => ({ ...prev, loading: true, success: false }));\n      Storage.put(id, content, {\n        level,\n        contentType\n      })\n        .then(result => {\n          console.log({ status: 'Successfully uploaded file', result });\n          onSuccess && onSuccess(result);\n          setState && setState(prev => ({ ...prev, loading: false, success: true }));\n        })\n        .catch(err => {\n          console.error({ status: 'Error uploading file', err });\n          onError && onError(err);\n          setState && setState(prev => ({ ...prev, loading: false, success: false }));\n        });\n    },\n    [setState]\n  );\n\n  return { handleUpload };\n}\n","import * as React from 'react';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport { Typography } from '@material-ui/core';\nimport useS3Bucket from '../../../database/useS3Bucket';\nimport { getFileName, uuid } from '../../../helpers';\nimport DialogButton from '../GenericDialog/DialogButton';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    hidden: {\n      display: 'none'\n    }\n  })\n);\n\nconst FileUploadButton = ({\n  value = '',\n  disabled = undefined,\n  label = 'Upload',\n  margin = 'dense',\n  variant = 'outlined',\n  forceErrorMargin = false,\n  initialValue = undefined,\n  onChange = undefined,\n  ...other\n}) => {\n  const classes = useStyles({});\n\n  const [{ loading, uploading, error }, setState] = React.useState({ loading: false, success: false, uploading: false, error: null });\n  const { handleUpload } = useS3Bucket({ setState });\n\n  const onSuccess = React.useCallback(\n    filename => {\n      onChange && onChange({ target: { value: filename } });\n    },\n    [onChange]\n  );\n\n  const onInput = React.useCallback(\n    e => {\n      const uploadFiles = e.target.files;\n      const arrFiles = Array.from(uploadFiles ?? []);\n      var file: any = arrFiles.length > 0 ? arrFiles[0] : undefined;\n      if (file) {\n        if ((file as any).size > 20 * 1024 * 1024) {\n          alert('File exceeds 20 MB upload limit.');\n        } else {\n          const id = `${getFileName(file)}_${uuid()}`;\n          handleUpload({\n            id,\n            content: file,\n            level: 'public', // public or private\n            contentType: `${file?.type ?? 'text/plain'}`,\n            onStart: () => {\n              setState(prev => ({ ...prev, uploading: true }));\n            },\n            onSuccess: () => {\n              setState(prev => ({ ...prev, uploading: false }));\n              onSuccess && onSuccess(id);\n              // TODO update class with link to newly uploaded file\n            },\n            onError: () => {\n              console.error('Error uploading file');\n              setState(prev => ({ ...prev, uploading: false }));\n              alert('Error uploading file');\n              //onError && onError('');\n            }\n          });\n        }\n      } else {\n        // Error: No file specified or user hit cancel\n      }\n    },\n    [handleUpload, onSuccess]\n  );\n\n  return (\n    <>\n      <input className={classes.hidden} name='fileselect' type='file' accept='*' id='fileselect' onChange={onInput} />\n      <label htmlFor='fileselect'>\n        <DialogButton disabled={loading || uploading || disabled} variant='link' underline='always' onClick={onInput} {...other}>\n          {label}\n        </DialogButton>\n      </label>\n      {error && <Typography color='error'>{error}</Typography>}\n    </>\n  );\n};\n\nexport default FileUploadButton;\n","import React from 'react';\nimport { Avatar, Box, Card, CardContent, Typography, makeStyles, Grid } from '@material-ui/core';\nimport { useUserType } from '../../../hooks';\nimport DialogButton from '../../application/GenericDialog/DialogButton';\nimport { useHandleChangeRoute, useUserEmail } from '../../layout/hooks';\nimport { useDialogState } from '../../application/GenericDialog/useDialogState';\nimport FileUploadButton from '../../application/DialogField/FileUploadButton';\nimport { getObjectUrl } from '../../../aws-exports';\n\nconst useStyles = makeStyles(theme => ({\n  root: {},\n  name: {\n    marginTop: theme.spacing(1)\n  },\n  avatar: {\n    height: 82,\n    width: 82\n  }\n}));\n\nconst ProfileDetails = ({ profile = {} as any, setProfile, onSuccess, ...rest }) => {\n  const classes = useStyles();\n  const userType = useUserType();\n  const email = useUserEmail();\n\n  const changeRoute = useHandleChangeRoute();\n\n  const [state, setState] = useDialogState('My Profile');\n  const { loading, submitting } = state;\n\n  const profile_s = JSON.stringify(profile);\n  const handleChange = React.useCallback(\n    key => event => {\n      const value = event?.target?.value;\n      var newProfile = JSON.parse(profile_s);\n      newProfile[key] = value;\n      setProfile && setProfile({ values: newProfile, onSuccess });\n      setState(prev => ({ ...prev }));\n    },\n    [setState, setProfile, profile_s, onSuccess]\n  );\n\n  const disabled = loading || submitting;\n\n  return (\n    <Card {...rest}>\n      <CardContent>\n        <Box display='flex' alignItems='center' flexDirection='column' textAlign='center'>\n          <Avatar className={classes.avatar} src={getObjectUrl(profile?.picture)} />\n          <FileUploadButton label='UPLOAD PICTURE' onChange={handleChange('picture')} />\n          <Box mt={1}>\n            <Typography className={classes.name} color='textPrimary' variant='h4'>\n              {profile?.name}\n            </Typography>\n            <Typography color='textPrimary' variant='h6'>\n              {userType}\n            </Typography>\n            <Typography color='textPrimary' variant='caption'>\n              {email}\n            </Typography>\n            <Box mt={1}>\n              <Grid container justify='center' spacing={1}>\n                <Grid item>\n                  <DialogButton disabled={disabled} variant='link' underline='always' onClick={changeRoute('/ForgotPassword')}>\n                    CHANGE PASSWORD\n                  </DialogButton>\n                </Grid>\n                {/*<Grid item>\n                  <DialogButton disabled={disabled} variant='link' underline='always' onClick={() => alert('To be implemented')}>\n                    CHANGE EMAIL\n                  </DialogButton>\n                </Grid>\n                */}\n              </Grid>\n            </Box>\n          </Box>\n        </Box>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default ProfileDetails;\n","import * as React from 'react';\nimport { CircularProgress, createStyles, makeStyles, useTheme } from '@material-ui/core';\n\nconst useStyles = makeStyles(({ palette, layout }: any) =>\n  createStyles({\n    progress: {\n      color: palette.primary.light,\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -(layout.progressSize / 2),\n      marginLeft: -(layout.progressSize / 2)\n    }\n  })\n);\n\nexport default function LoadingGate({ loading, children }) {\n  const classes = useStyles();\n  const { layout }: any = useTheme();\n  return loading === true ? <CircularProgress size={layout.progressSize} className={classes.progress} /> : children;\n}\n","import * as React from 'react';\nimport { Box, Container, createStyles, makeStyles } from '@material-ui/core';\nimport Header from '../layout/Header';\nimport DialogButton from '../application/GenericDialog/DialogButton';\nimport LoadingGate from '../layout/LoadingGate';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    container: {\n      marginTop: 8,\n      marginBottom: 8\n    },\n    header: {\n      color: palette.primary.dark\n    }\n  } as any)\n);\n\nexport default function Page({\n  title = '',\n  subtitle = undefined,\n  loading = undefined,\n  ActionButton = undefined,\n  children = <></>,\n  backLabel = 'Back',\n  onBack = undefined\n}) {\n  const classes = useStyles();\n  return (\n    <>\n      {onBack && (\n        <Box mt={-2} mb={1}>\n          <DialogButton variant='link' linkVariant='body1' onClick={onBack}>\n            {`<  ${backLabel}`}\n          </DialogButton>\n        </Box>\n      )}\n      <Header title={title} subtitle={subtitle} ActionButton={ActionButton} />\n      <Container disableGutters={true} className={classes.container} maxWidth={false}>\n        <LoadingGate loading={loading === undefined ? false : loading}>{children}</LoadingGate>\n      </Container>\n    </>\n  );\n}\n","import * as React from 'react';\nimport { useTableFilter } from '../components/application/GenericTable/helpers';\nimport { tables } from './dbConfig';\nimport useTable from './useTable';\n\nexport const useTableData = ({ TableName = tables.students, loadOnMount = true, table = undefined, tab = undefined, requestParams = undefined }) => {\n  const { state, handleRequest } = useTable({ TableName });\n  const { data, loading, success } = state as any;\n\n  const handleRefresh = React.useCallback(() => {\n    handleRequest(requestParams);\n    // eslint-disable-next-line\n  }, [JSON.stringify(requestParams), handleRequest]);\n\n  React.useEffect(() => {\n    loadOnMount && handleRefresh();\n  }, [handleRefresh, loadOnMount, table, tab]);\n\n  const rows = Object.keys(data).map(k => ({ ...data[k] }));\n\n  return {\n    data: useTableFilter(rows, table),\n    handleRefresh,\n    loading,\n    success\n  };\n};\n","import { tables } from './dbConfig';\nimport { useTableData } from './useTableData';\n\nexport default function useInvite({ loadOnMount = true, userId = undefined, Model = tables.students } = {}) {\n  const { data, loading, success, handleRefresh } = useTableData({\n    loadOnMount,\n    TableName: Model,\n    requestParams: {\n      FilterExpression: '(#userId = :userId AND #accepted = :accepted) AND (#deleted = :deleted OR attribute_not_exists(#deleted))',\n      ExpressionAttributeNames: {\n        '#userId': 'userId',\n        '#accepted': 'accepted',\n        '#deleted': 'deleted'\n      },\n      ExpressionAttributeValues: {\n        ':userId': userId,\n        ':accepted': true,\n        ':deleted': false\n      }\n    }\n  });\n\n  const completed = loading === false && success === true;\n\n  return {\n    invite: completed ? data[0] : undefined,\n    loading,\n    handleRefresh\n  };\n}\n","import * as React from 'react';\nimport useTableRow from './useTableRow';\nimport { tables } from './dbConfig';\nimport { useLayout, useUserId } from '../components/layout/hooks';\nimport { isEmpty } from '../helpers';\nimport useInvite from './useInvite';\n\nexport function useProfile({ id: Id = undefined, state: State = undefined, setState: SetState = undefined, active = true, shouldSetLayout = false } = {}) {\n  const userId = useUserId();\n  const id = Id ? Id : userId;\n  const [internalState, setInternalState] = React.useState();\n  const state = State ? State : internalState;\n  const setState = SetState ? SetState : setInternalState;\n  const [, setLayout] = useLayout();\n\n  const handleSuccess = React.useCallback(\n    response => {\n      shouldSetLayout && setLayout({ profile: response?.Item });\n    },\n    [shouldSetLayout, setLayout]\n  );\n\n  const { row, setRow, handleRefresh, loading, readSetRow } = useTableRow({ Model: tables.profiles, id, state, setState, active, onSuccess: handleSuccess });\n\n  const { id: rowId, email } = row ?? {};\n  const loadOnMount = isEmpty(email) && !isEmpty(rowId) && loading === false; // Only get email from invite, if it is not in the profile\n  const { invite } = useInvite({ userId: rowId, loadOnMount }); // Only load if the email is empty and the first query has completed\n\n  const { email: inviteEmail } = invite ?? {};\n  const mergedEmail = email ? email : inviteEmail;\n\n  return { profile: { ...row, email: mergedEmail }, setProfile: setRow, state, setState, handleRefresh, loading, readSetRow };\n}\n","import * as React from 'react';\nimport { Grid } from '@material-ui/core';\nimport ProfileSettings from './ProfileSettings';\nimport ProfileDetails from './ProfileDetails';\nimport Page from '../Page';\nimport { useProfile } from '../../../database/useProfile';\nimport { useUserId } from '../../layout/hooks';\n\nexport const ProfileProvider = () => {\n  const id = useUserId();\n  const { profile, setProfile, handleRefresh, loading } = useProfile({ id, shouldSetLayout: true });\n  return <Profile profile={profile} setProfile={setProfile} handleRefresh={handleRefresh} loading={loading} />;\n};\n\nexport default function Profile({ profile, setProfile, handleRefresh, loading, showDescriptions = false }) {\n  return (\n    <Page title='My Profile' loading={loading}>\n      <Grid container spacing={2}>\n        <Grid item lg={4} md={6} xl={3} xs={12}>\n          <ProfileDetails profile={profile} setProfile={setProfile} onSuccess={handleRefresh} />\n        </Grid>\n        <Grid item lg={8} md={6} xl={9} xs={12}>\n          <ProfileSettings showDescriptions={showDescriptions} profile={profile} setProfile={setProfile} onSuccess={handleRefresh} />\n        </Grid>\n      </Grid>\n    </Page>\n  );\n}\n","import * as React from 'react';\nimport { Switch as MuiSwitch, FormControlLabel } from '@material-ui/core';\nimport { bool } from '../../../helpers';\n\nexport default function Switch({ value = undefined, forceErrorMargin = false, error = undefined, getFieldState = undefined, label = '', onChange = undefined, ...other }) {\n  const handleChange = React.useCallback(\n    (event, value) => {\n      onChange && onChange({ target: { value } });\n    },\n    [onChange]\n  );\n\n  return (\n    <FormControlLabel control={<MuiSwitch color='primary' onChange={handleChange} checked={bool(value)} {...other} />} label={label} labelPlacement='start' />\n  );\n}\n","import * as React from 'react';\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { isError } from '../../../helpers';\n\nconst DateTimePicker = ({ onChange, value, error, forceErrorMargin = false, ...other }) => {\n  return (\n    <MuiPickersUtilsProvider utils={DateFnsUtils}>\n      <KeyboardDateTimePicker\n        fullWidth={true}\n        margin='dense'\n        inputVariant='outlined'\n        KeyboardButtonProps={{\n          'aria-label': 'change date'\n        }}\n        value={value}\n        onChange={React.useCallback(\n          value => {\n            onChange({ target: { value } });\n          },\n          [onChange]\n        )}\n        error={isError(error)}\n        helperText={forceErrorMargin ? error || ' ' : error && error} // Forces a constant helper text margin\n        {...other}\n      />\n    </MuiPickersUtilsProvider>\n  );\n};\n\nexport default DateTimePicker;\n","import * as React from 'react';\nimport { sortNameDescending } from '../helpers';\nimport { tables } from './dbConfig';\nimport useTable from './useTable';\n\nexport const useGroups = ({ active = true, requestParams = undefined } = {}) => {\n  const { state, handleRequest } = useTable({ TableName: tables.groups });\n  const { data, loading, success } = state as any;\n\n  const handleRefresh = React.useCallback(() => {\n    handleRequest(requestParams);\n    // eslint-disable-next-line\n  }, [JSON.stringify(requestParams), handleRequest]);\n\n  React.useEffect(() => {\n    active && handleRefresh();\n  }, [active, handleRefresh]);\n\n  const rows = Object.keys(data).map(k => ({ ...data[k] }));\n\n  return {\n    data: rows?.sort(sortNameDescending),\n    handleRefresh,\n    loading,\n    success\n  };\n};\n","import React from 'react';\nimport { FormControl, InputLabel, Select, FormHelperText } from '@material-ui/core';\nimport { isError, setIfEmpty } from '../../helpers';\n\nexport interface ComponentProps {\n  label?: string;\n  value?: any;\n  margin?: any;\n  forceErrorMargin?: boolean;\n  children?: any;\n}\n\nconst OutlinedSelect = ({\n  label,\n  variant = 'outlined',\n  value,\n  error,\n  required,\n  margin = 'dense',\n  forceErrorMargin = true,\n  getFieldState = undefined,\n  children,\n  ...other\n}: ComponentProps & any) => {\n  const inputLabel = React.useRef<HTMLLabelElement>(null);\n  const [labelWidth, setLabelWidth] = React.useState(0);\n\n  React.useEffect(() => {\n    setLabelWidth(inputLabel.current!.offsetWidth);\n  }, [inputLabel]);\n\n  return (\n    <FormControl variant={variant} required={required} error={isError(error)} fullWidth margin={margin}>\n      <InputLabel ref={inputLabel} shrink={true}>\n        {label}\n      </InputLabel>\n      <Select notched={true} labelWidth={labelWidth} value={setIfEmpty(value)} {...other}>\n        {children}\n      </Select>\n      {(forceErrorMargin || error) && <FormHelperText>{error}</FormHelperText>}\n    </FormControl>\n  );\n};\n\nexport default OutlinedSelect;\n","import * as React from 'react';\nimport { MenuItem } from '@material-ui/core';\nimport OutlinedSelect from '../../general/OutlinedSelect';\n\n// If using multi select, the value must be the item so the === operator works for determining selected items.\nconst Select = ({ items = [], multiple = false, variant = 'outlined', forceErrorMargin = false, ...other }) => (\n  <OutlinedSelect variant={variant} multiple={multiple} forceErrorMargin={forceErrorMargin} {...other}>\n    {items.map((item, i) => (\n      <MenuItem key={i} value={multiple ? item : item.value}>\n        {item.label}\n      </MenuItem>\n    ))}\n  </OutlinedSelect>\n);\n\nexport default Select;\n","import * as React from 'react';\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { isError } from '../../../helpers';\n\nconst DatePicker = ({ onChange, value, error, forceErrorMargin = false, ...other }) => {\n  return (\n    <MuiPickersUtilsProvider utils={DateFnsUtils}>\n      <KeyboardDatePicker\n        fullWidth={true}\n        margin='dense'\n        inputVariant='outlined'\n        format='MM/dd/yyyy'\n        KeyboardButtonProps={{\n          'aria-label': 'change date'\n        }}\n        value={value}\n        onChange={React.useCallback(\n          (e, value) => {\n            onChange({ target: { value } });\n          },\n          [onChange]\n        )}\n        error={isError(error)}\n        helperText={forceErrorMargin ? error || ' ' : error && error} // Forces a constant helper text margin\n        {...other}\n      />\n    </MuiPickersUtilsProvider>\n  );\n};\n\nexport default DatePicker;\n","import React from 'react';\nimport moment from 'moment';\nimport GenericDialog from '../GenericDialog';\nimport { useDialogState } from '../useDialogState';\nimport useProcessData from '../../../../database/useProcessData';\nimport { tables } from '../../../../database/dbConfig';\nimport { isEmpty, uuid } from '../../../../helpers';\nimport { useUserId } from '../../../layout/hooks';\nimport Switch from '../../DialogField/Switch';\nimport DateTimePicker from '../../DialogField/DateTimePicker';\nimport { useTheme } from '@material-ui/core';\nimport { useGroups } from '../../../../database/useGroups';\nimport Select from '../../DialogField/Select';\nimport DatePicker from '../../DialogField/DatePicker';\n\nexport const title = 'Add Event';\nconst Model = tables.events;\n\nconst frequencyItems = [\n  { label: 'Single Event', value: 'Once' },\n  { label: 'Create Event Every Day', value: 'Daily' },\n  { label: 'Create Event Every Week', value: 'Weekly' },\n  { label: 'Create Event Every Other Week (Bi-Weekly)', value: 'BiWeekly' },\n  { label: 'Create Event Every Month', value: 'Monthly' }\n];\n\nexport default function EventDialog({ id = title, onClose }) {\n  const userId = useUserId(); // Only instructors can currently create events, so grab the user id\n\n  const { data: groups } = useGroups({\n    requestParams: {\n      // If instructor mode, then filter groups by instructor's userId\n      FilterExpression: '#userId = :userId',\n      ExpressionAttributeNames: {\n        '#userId': 'userId'\n      },\n      ExpressionAttributeValues: {\n        ':userId': userId\n      }\n    }\n  });\n\n  const [, setState] = useDialogState(id);\n  const handleClose = React.useCallback(\n    (props = undefined) => {\n      setState(prev => ({ ...prev, open: false, loading: false }));\n      onClose && onClose();\n    },\n    [onClose, setState]\n  );\n\n  const processData = useProcessData();\n  const { palette } = useTheme();\n  const color = palette.primary.light;\n\n  const submitData = React.useCallback(\n    ({ values, OnSuccess }) => {\n      const Data = { ...values, color };\n      setState(prev => ({ ...prev, loading: true }));\n\n      const { frequency } = values;\n\n      const onSuccess = ({ data }) => {\n        // Determine if additionl children events need to be created\n        const { start, end, frequencyEnd } = data;\n        var nextStart;\n        var nextEnd;\n        if (frequency === 'Daily') {\n          // Create an event for each day within the timespan\n          nextStart = moment(start).add(1, 'days');\n          nextEnd = moment(end).add(1, 'days');\n        } else if (frequency === 'Weekly') {\n          // Create an event for each week within the timespan\n          nextStart = moment(start).add(1, 'weeks');\n          nextEnd = moment(end).add(1, 'weeks');\n        } \n        else if (frequency === 'BiWeekly') {\n          // Create an event for each week within the timespan\n          nextStart = moment(start).add(2, 'weeks');\n          nextEnd = moment(end).add(2, 'weeks');\n        } \n        else if (frequency === 'Monthly') {\n          // Create an event for each day within the timespan\n          nextStart = moment(start).add(1, 'months');\n          nextEnd = moment(end).add(1, 'months');\n        } else {\n          return OnSuccess(Data);\n        }\n\n        if (nextStart.toDate() <= moment(frequencyEnd).add(1, 'days').toDate()) {\n          const nextData = { ...data, id: uuid(), start: nextStart.toDate().toISOString(), end: nextEnd.toDate().toISOString(), parentId: Data.id };\n          console.log({ status: 'Creating child event', nextData });\n          processData({\n            Model,\n            Action: 'c',\n            Data: nextData,\n            onError: () => setState(prev => ({ ...prev, loading: false, error: 'Error submitting values' })),\n            onSuccess: () => onSuccess({ data: nextData })\n          });\n        } else {\n          console.log('Done creating child events');\n          OnSuccess(Data);\n        }\n      };\n\n      processData({\n        Model,\n        Action: 'c',\n        Data,\n        onError: () => setState(prev => ({ ...prev, loading: false, error: 'Error submitting values' })),\n        onSuccess: () => onSuccess({ data: Data })\n      });\n    },\n    [setState, processData, color]\n  );\n\n  const onError = React.useCallback(() => {\n    handleClose({ open: true, variant: 'error', message: 'Error' });\n  }, [handleClose]);\n\n  const onSuccess = React.useCallback(() => {\n    handleClose({ open: true, variant: 'success', message: 'Success' });\n  }, [handleClose]);\n\n  const handleSubmit = React.useCallback(values => submitData({ values, OnSuccess: onSuccess, OnError: onError }), [submitData, onSuccess, onError]);\n\n  return (\n    <GenericDialog\n      initialValues={{\n        id: uuid(),\n        userId\n      }}\n      id={id}\n      title={id}\n      onSubmit={handleSubmit}\n      submitLabel='Add'\n      onClose={onClose}      \n      fields={[\n        {\n          id: 'id',\n          hidden: true\n        },\n        {\n          id: 'title',\n          label: 'Title',\n          required: true\n        },\n        {\n          id: 'description',\n          label: 'Description'\n        },\n        {\n          id: 'groupId',\n          label: 'Group',\n          Field: Select,\n          items: groups.map(g => ({ label: g.name, value: g.id })),\n          disableClearable: true,\n          required: true,\n          fullWidth: true,\n          xs: 4\n        },\n        {\n          id: 'allDay',\n          label: 'All day',\n          Field: Switch\n        },\n        {\n          id: 'start',\n          label: 'Start',\n          Field: DateTimePicker\n        },\n        {\n          id: 'end',\n          label: 'End',\n          Field: DateTimePicker          \n        },\n        {\n          id: 'frequency',\n          label: 'Event Frequency',\n          Field: Select,\n          items: frequencyItems,\n          disableClearable: true,\n          required: true,\n          fullWidth: true          \n        },\n        {\n          id: 'frequencyEnd',\n          label: 'Until',\n          Field: DatePicker,          \n          hidden: ({ frequency }) => isEmpty(frequency) || frequency === 'Once',\n          fullWidth: true,\n          validate: values => {\n            const { frequency, frequencyEnd, end } = values;\n\n            const fe = moment(frequencyEnd);\n            const e = moment(end);\n            var isInvalid = fe < e;\n\n            var error = isInvalid ? 'Must be after event end date' : undefined;\n            if (!error) {\n              if (frequency === 'Daily') {\n                const dailyMax = e.add(2, 'months').toDate();\n                var dailyError = fe.toDate() > dailyMax;\n                if (dailyError) {\n                  error = 'Timespan must be 2 months or less';\n                }\n              } else if (frequency === 'Weekly') {\n                const weeklyMinEnd = moment(e).add(1, 'weeks').subtract(1, 'days').toDate();\n                const weeklyMax = moment(e).add(6, 'months').toDate();\n                if (weeklyMinEnd > fe.toDate()) {\n                  error = 'Timespan must be at least 1 week from the event end date';\n                } else {\n                  var weeklyError = fe.toDate() > weeklyMax;\n                  if (weeklyError) {\n                    error = 'Timespan must be 6 months or less';\n                  }\n                }\n              } \n              else if (frequency === 'BiWeekly') {\n                const biWeeklyMinEnd = moment(e).add(2, 'weeks').subtract(1, 'days').toDate();\n                const biWeeklyMax = moment(e).add(6, 'months').toDate();\n                if (biWeeklyMinEnd > fe.toDate()) {\n                  error = 'Timespan must be at least 2 weeks from the event end date';\n                } else {\n                  var biWeeklyError = fe.toDate() > biWeeklyMax;\n                  if (biWeeklyError) {\n                    error = 'Timespan must be 6 months or less';\n                  }\n                }\n              } \n              else if (frequency === 'Monthly') {\n                const monthlyMinEnd = moment(e).add(1, 'months').subtract(1, 'days').toDate();\n                const monthlyMax = moment(e).add(12, 'months').toDate();\n                if (monthlyMinEnd > fe.toDate()) {\n                  error = 'Timespan must be at least 1 month from the event end date';\n                } else {\n                  var monthlyError = fe.toDate() > monthlyMax;\n                  if (monthlyError) {\n                    error = 'Timespan must be 12 months or less';\n                  }\n                }\n              } else {\n                error = 'Unknown Frequency';\n              }\n            }\n            return error;\n          }\n        }\n      ]}\n    />\n  );\n}\n","import React from 'react';\nimport type { FC } from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { Grid, makeStyles } from '@material-ui/core';\nimport * as Icons from '@material-ui/icons';\nimport DialogButton from '../GenericDialog/DialogButton';\nimport * as EventDialog from '../GenericDialog/Event';\nimport { useUserId } from '../../layout/hooks';\nimport { uuid } from '../../../helpers';\nimport moment from 'moment';\n\ninterface HeaderProps {\n  className?: string;\n  onAddClick?: () => void;\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {},\n  action: {\n    marginBottom: theme.spacing(1),\n    '& + &': {\n      marginLeft: theme.spacing(1)\n    }\n  }\n}));\n\nconst Header: FC<HeaderProps> = ({ className, onAddClick, ...rest }) => {\n  const classes = useStyles();\n\n  const userId = useUserId(); // Only instructors can currently create events, so grab the user id\n\n  const initialValues = {\n    id: uuid(),\n    userId,\n    start: moment().toDate(),\n    end: moment().add(30, 'minutes').toDate(),\n    frequency: 'Once',\n    frequencyEnd: moment().add(1, 'months').toDate()\n  };\n\n  return (\n    <Grid className={clsx(classes.root, className)} container justify='space-between' spacing={3} {...rest}>\n      <Grid item>\n        <>\n          <DialogButton Module={EventDialog} initialValues={initialValues} mount={false} fullWidth variant='styled' Icon={Icons.Add}>\n            New Event\n          </DialogButton>\n        </>\n      </Grid>\n    </Grid>\n  );\n};\n\nHeader.propTypes = {\n  className: PropTypes.string,\n  onAddClick: PropTypes.func\n};\n\nHeader.defaultProps = {\n  onAddClick: () => {}\n};\n\nexport default Header;\n","import React from 'react';\nimport type { ElementType, FC, ReactNode } from 'react';\nimport clsx from 'clsx';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport { Button, ButtonGroup, Grid, Hidden, IconButton, Tooltip, Typography, makeStyles } from '@material-ui/core';\nimport ViewConfigIcon from '@material-ui/icons/ViewComfyOutlined';\nimport ViewWeekIcon from '@material-ui/icons/ViewWeekOutlined';\nimport ViewDayIcon from '@material-ui/icons/ViewDayOutlined';\nimport ViewAgendaIcon from '@material-ui/icons/ViewAgendaOutlined';\nimport type { View } from '../../../types/calendar';\n\ninterface ToolbarProps {\n  children?: ReactNode;\n  className?: string;\n  date: Date;\n  onDateNext?: () => void;\n  onDatePrev?: () => void;\n  onDateToday?: () => void;\n  onAddClick?: () => void;\n  onViewChange?: (view: View) => void;\n  view: View;\n}\n\ninterface ViewOption {\n  label: string;\n  value: View;\n  icon: ElementType;\n}\n\nconst viewOptions: ViewOption[] = [\n  {\n    label: 'Month',\n    value: 'dayGridMonth',\n    icon: ViewConfigIcon\n  },\n  {\n    label: 'Week',\n    value: 'timeGridWeek',\n    icon: ViewWeekIcon\n  },\n  {\n    label: 'Day',\n    value: 'timeGridDay',\n    icon: ViewDayIcon\n  },\n  {\n    label: 'Agenda',\n    value: 'listWeek',\n    icon: ViewAgendaIcon\n  }\n];\n\nconst useStyles = makeStyles(() => ({\n  root: {}\n}));\n\nconst Toolbar: FC<ToolbarProps> = ({ className, date, onDateNext, onDatePrev, onDateToday, onAddClick, onViewChange, view, ...rest }) => {\n  const classes = useStyles();\n\n  return (\n    <Grid className={clsx(classes.root, className)} alignItems='center' container justify='space-between' spacing={3} {...rest}>\n      <Grid item>\n        <ButtonGroup size='small'>\n          <Button onClick={onDatePrev}>Prev</Button>\n          <Button onClick={onDateToday}>Today</Button>\n          <Button onClick={onDateNext}>Next</Button>\n        </ButtonGroup>\n      </Grid>\n      <Hidden smDown>\n        <Grid item>\n          <Typography variant='h3' color='textPrimary'>\n            {moment(date).format('MMMM YYYY')}\n          </Typography>\n        </Grid>\n        <Grid item>\n          {viewOptions.map(viewOption => {\n            const Icon = viewOption.icon;\n\n            return (\n              <Tooltip key={viewOption.value} title={viewOption.label}>\n                <IconButton color={viewOption.value === view ? 'secondary' : 'default'} onClick={() => onViewChange(viewOption.value)}>\n                  <Icon />\n                </IconButton>\n              </Tooltip>\n            );\n          })}\n        </Grid>\n      </Hidden>\n    </Grid>\n  );\n};\n\nToolbar.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  date: PropTypes.instanceOf(Date).isRequired,\n  onDateNext: PropTypes.func,\n  onDatePrev: PropTypes.func,\n  onDateToday: PropTypes.func,\n  onAddClick: PropTypes.func,\n  onViewChange: PropTypes.func,\n  view: PropTypes.oneOf(['dayGridMonth', 'timeGridWeek', 'timeGridDay', 'listWeek'])\n};\n\nToolbar.defaultProps = {\n  onDateNext: () => {},\n  onDatePrev: () => {},\n  onDateToday: () => {},\n  onAddClick: () => {},\n  onViewChange: () => {}\n};\n\nexport default Toolbar;\n","import * as React from 'react';\nimport { evalFunc, isEmpty } from '../helpers';\nimport { tables } from './dbConfig';\nimport useProcessData from './useProcessData';\n\nconst defaultState = { loading: false, error: undefined, response: undefined, data: undefined };\n\nexport default function useData({ id, active = true, Model = tables.classes, initialState = undefined }) {\n  const processData = useProcessData();\n  const [state, setState] = React.useState({ ...defaultState, ...initialState });\n  const { data = {}, index, loading, error } = state;\n  const data_str = JSON.stringify(data);\n\n  const setData = React.useCallback(data => setState(prev => ({ ...prev, data: evalFunc(data, prev?.data) })), [setState]);\n\n  const handleChange = React.useCallback(\n    key => ({ target }) => {\n      const { value } = target;\n      setData(prev => ({ ...prev, [`${key}`]: value }));\n    },\n    [setData]\n  );\n\n  const handleRefresh = React.useCallback(() => {\n    if (!isEmpty(id)) {\n      setState(prev => ({ ...prev, loading: true, error: undefined, response: undefined }));\n      processData({\n        Model,\n        Action: 'r',\n        Data: { id },\n        onError: response => setState(prev => ({ ...prev, loading: false, error: 'Error reading values', response, data: undefined })),\n        onSuccess: response => setState(prev => ({ ...prev, loading: false, error: undefined, response, data: response?.Item }))\n      });\n    }\n  }, [id, Model, processData, setState]);\n\n  React.useEffect(() => {\n    setState({ ...defaultState, ...initialState });\n    active === true && handleRefresh();\n    // eslint-disable-next-line\n  }, [id, active, handleRefresh, setState, JSON.stringify(initialState)]);\n\n  // Save the newValues data to the back-end\n  const updateData = React.useCallback(\n    (newValues, OnSuccess = undefined, OnError = undefined) => {\n      if (!isEmpty(id)) {\n        setState(prev => ({ ...prev, loading: true, error: undefined, response: undefined }));\n        const Data = { ...JSON.parse(data_str), id, ...newValues };\n        processData({\n          Model,\n          Action: 'u',\n          Data,\n          onError: response => {\n            console.error('Error updating data');\n            setState(prev => ({ ...prev, loading: false, error: 'Error reading values', response }));\n            OnError && OnError(response);\n          },\n          onSuccess: response => {\n            console.log('Successfully updated data');\n            setState(prev => ({ ...prev, loading: false, error: undefined, response, data: Data }));\n            OnSuccess && OnSuccess(response);\n          }\n        });\n      } else {\n        console.error('Error: No id provided to the updateData function');\n      }\n    },\n    [id, Model, setState, processData, data_str]\n  );\n\n  // Save the values in state.data to the back-end\n  const saveData = React.useCallback(({ onSuccess = undefined, onError = undefined }) => updateData(JSON.parse(data_str), onSuccess, onError), [\n    data_str,\n    updateData\n  ]);\n\n  const handleSaveData = React.useCallback(props => () => saveData(props), [saveData]);\n\n  return { loading, index, error, data, setData, handleChange, saveData, handleSaveData, updateData };\n}\n","import { tables } from './dbConfig';\nimport useData from './useData';\n\nexport const useAttendanceRow = ({ id, active }) => {\n  // The student table uses the concatenated key, while the instructor and admin tables use the main key\n  // Format of id = id:sessionId\n  return useData({ id, Model: tables.attendance, active });\n};\n","import * as React from 'react';\nimport { FormControl, FormControlLabel, Checkbox, FormHelperText } from '@material-ui/core';\nimport { bool, isError } from '../../../helpers';\n\nconst Check = ({\n  label = '',\n  variant = undefined,\n  error = undefined,\n  value = undefined,\n  margin = 'dense' as 'dense',\n  onChange = undefined,\n  forceErrorMargin = false,\n  type = undefined, // Don't pass an undefined type to Checkbox.  This filters the prop out\n  initialValue = undefined,\n  ...other\n}) => {\n  const handleChange = React.useCallback(\n    event => {\n      event.target.value = event.target.checked === true ? 1 : 0; // Inject checked value to mimic behavior of other input on change events\n      onChange && onChange(event);\n    },\n    [onChange]\n  );\n\n  return (\n    <FormControl variant={variant} error={isError(error)} fullWidth margin={margin}>\n      <FormControlLabel label={label} control={<Checkbox checked={bool(value)} onChange={handleChange} {...other} />} />\n      {(forceErrorMargin || error) && <FormHelperText>{error}</FormHelperText>}\n    </FormControl>\n  );\n};\n\nexport default Check;\n","import { SurveyQuestionItem } from '../../components/general/SurveyQuestions';\nimport { BlockListItem } from './../../components/general/BlockList';\n\nexport const defaultAgeRankingModels = [\n  {\n    id: 'Under 21'\n  },\n  {\n    id: '21-24'\n  },\n  {\n    id: '25-34'\n  },\n  {\n    id: '35-44'\n  },\n  {\n    id: '45-54'\n  },\n  {\n    id: '56-64'\n  },\n  {\n    id: '65 or older'\n  }\n];\n\nexport const defaultRankingModels: BlockListItem[] = [\n  {\n    id: '0',\n    rankingValue: 1,\n    name: 'I cannot do it on my own',\n    locked: true\n  },\n  {\n    id: '1',\n    rankingValue: 2,\n    name: 'I can do it on my own, but with step by step directions',\n    locked: true\n  },\n  {\n    id: '2',\n    rankingValue: 3,\n    name: 'I can do it mostly on my own, but may have a few questions',\n    locked: true\n  },\n  {\n    id: '3',\n    rankingValue: 4,\n    name: 'I can do it on my own with ease',\n    locked: true\n  },\n  {\n    id: '4',\n    rankingValue: 5,\n    name: 'I can do it and can teach someone else',\n    locked: true\n  }\n].map(i => ({ ...i, canEdit: false, canDelete: false }));\n\nexport interface ClassData {\n  userId?: string; // user id of the admin or instructor user which created the class\n  userType?: string; // user type of creator (admin/instructor)\n  parentClassId?: string; // id of parent class if created from existing class\n  parentUserId?: string; // id of parent user, for query simplicity\n  parentClass?: string; // Copy of parent class data at time of import/copy\n  preRecs?: any[]; // Pre-requisites, which disable the class (for students) unless these are met\n  headline?: string;\n  name?: string;\n  image?: string;\n  ageQuestion?: any;\n  keySkills?: BlockListItem[];\n  rankingModel?: BlockListItem[];\n  surveyQuestions?: SurveyQuestionItem[];\n  classPresentations?: any[];\n  classResources?: any[];\n  created?: number;\n  updated?: number;\n  deleted?: boolean;\n}\n\nexport default interface Class extends ClassData {\n  id?: string; // unique class id\n}\n","import React from 'react';\nimport Chart from 'react-apexcharts';\nimport { Card, CardContent, Typography, useTheme } from '@material-ui/core';\nimport { ageQuestionLabel } from '../../../constants';\nimport { defaultAgeRankingModels } from '../../../database/models/Class';\n\nexport default function AgeChart({ data = [] }) {\n  const theme = useTheme();\n\n  const chartData = {\n    options: {\n      chart: {\n        background: theme.palette.background.paper,\n        toolbar: {\n          show: false\n        }\n      },\n      colors: ['#13affe', '#fbab49'],\n      dataLabels: {\n        enabled: false\n      },\n      grid: {\n        borderColor: theme.palette.divider,\n        yaxis: {\n          lines: {\n            show: false\n          }\n        }\n      },\n      legend: {\n        show: true,\n        labels: {\n          colors: theme.palette.text.secondary\n        }\n      },\n      plotOptions: {\n        bar: {\n          columnWidth: '40%'\n        }\n      },\n      stroke: {\n        show: true,\n        width: 2,\n        colors: ['transparent']\n      },\n      theme: {\n        mode: theme.palette.type\n      },\n      tooltip: {\n        theme: theme.palette.type\n      },\n      xaxis: {\n        axisBorder: {\n          show: true,\n          color: theme.palette.divider\n        },\n        axisTicks: {\n          show: true,\n          color: theme.palette.divider\n        },\n        categories: defaultAgeRankingModels.map(m => m.id),\n        labels: {\n          style: {\n            colors: theme.palette.text.secondary\n          }\n        }\n      },\n      yaxis: {\n        axisBorder: {\n          show: true,\n          color: theme.palette.divider\n        },\n        axisTicks: {\n          show: true,\n          color: theme.palette.divider\n        },\n        labels: {\n          style: {\n            colors: theme.palette.text.secondary\n          }\n        }\n      }\n    },\n    series: [\n      {\n        name: 'Participants',\n        data\n      }\n    ]\n  };\n\n  return (\n    <Card>\n      <CardContent>\n        <Typography variant='subtitle1' color='textPrimary'>\n          {ageQuestionLabel}\n        </Typography>\n        <Chart options={chartData.options} series={chartData.series} type='bar' height='300' />\n      </CardContent>\n    </Card>\n  );\n}\n","import * as React from 'react';\nimport clsx from 'clsx';\nimport { Box, Card, Typography, makeStyles, CardActions, Grid } from '@material-ui/core';\nimport StyledButton from './StyledButton';\nimport { bool } from '../../helpers';\nimport * as Icons from '@material-ui/icons';\nimport { useIsAdmin, useIsAdminMode } from '../../hooks';\n\nconst useStyles = makeStyles(({ palette, spacing }) => ({\n  root: {},\n  header: ({ minHeight = 116 }: any) => ({\n    minHeight,\n    color: palette.common.black,\n    padding: spacing(2)\n  }),\n  actions: {\n    display: 'flex',\n    alignItems: 'flex-end',\n    justifyContent: 'flex-end'\n  },\n  circle: {\n    borderRadius: 50,\n    width: 36,\n    height: 36,\n    border: `2px solid ${palette.primary.main}`\n  },\n  circleText: {\n    textAlign: 'center',\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n}));\n\nexport default function ActionCard({\n  title = undefined,\n  item = {} as any,\n  index = undefined,\n  description = undefined,\n  actionLabel = 'View',\n  onClick = undefined,\n  className = undefined,\n  titleProps = undefined,\n  minHeight = undefined,\n  disabled = undefined,\n  onLock = undefined,\n  onRemove = undefined,\n  onEdit = undefined,\n  isOwner = false,\n  children = undefined,\n  enableLock = true\n}) {\n  const isAdmin = useIsAdmin();\n  const isAdminMode = useIsAdminMode();\n  const classes = useStyles({ minHeight });\n  const { name, locked } = item;\n  const handleLock = React.useCallback(item => () => onLock && onLock(item), [onLock]);\n  const handleRemove = React.useCallback(item => () => onRemove && onRemove(item), [onRemove]);\n  const handleEdit = React.useCallback(item => () => onEdit && onEdit(item), [onEdit]);\n  const Title = title ? title : name ?? '';\n\n  const canEdit = !bool(locked); // Can edit if the user is an admin or an instructor and the object is not locked\n  const canDelete = canEdit;\n  return (\n    <Card className={clsx(classes.root, className)}>\n      <div className={classes.header}>\n        {Title && (\n          <Grid container spacing={1}>\n            {index !== undefined && (\n              <Grid item>\n                <div className={classes.circle}>\n                  <Typography variant='h5' align='center' color='primary'>\n                    {index + 1}\n                  </Typography>\n                </div>\n              </Grid>\n            )}\n            <Grid item xs>\n              {Title && (\n                <Typography noWrap gutterBottom variant='h5' color='primary' {...titleProps}>\n                  {Title}\n                </Typography>\n              )}\n            </Grid>\n          </Grid>\n        )}\n        {description && (\n          <Typography gutterBottom variant='subtitle1' color='textPrimary'>\n            {description}\n          </Typography>\n        )}\n      </div>\n      {children}\n      {onClick && (\n        <Box m={2} textAlign='center'>\n          <StyledButton disabled={disabled} onClick={onClick}>\n            {actionLabel}\n          </StyledButton>\n        </Box>\n      )}\n      <CardActions className={classes.actions}>\n        {onEdit && bool(canEdit) && (\n          <StyledButton variant='text' onClick={handleEdit(item)}>\n            Edit\n          </StyledButton>\n        )}\n        <div>\n          <Grid container justify='flex-end' alignItems='flex-end'>\n            {onRemove && bool(canDelete) && (\n              <Grid item>\n                <StyledButton variant='text' onClick={handleRemove(item)}>\n                  Remove\n                </StyledButton>\n              </Grid>\n            )}\n            {enableLock && ((isAdminMode && isAdmin) || isOwner) && (\n              <Grid item>\n                <StyledButton Icon={bool(locked) ? Icons.Lock : Icons.LockOpen} variant='text' width={140} onClick={handleLock(item)}>\n                  {bool(locked) ? 'Locked' : 'Un-locked'}\n                </StyledButton>\n              </Grid>\n            )}\n          </Grid>\n        </div>\n      </CardActions>\n    </Card>\n  );\n}\n","import * as React from 'react';\nimport { Typography, makeStyles, Tooltip } from '@material-ui/core';\n\nconst useStyles = makeStyles(({ palette, spacing }) => ({\n  circle: ({ width }: any) => ({\n    borderRadius: 50,\n    width,\n    height: 36,\n    border: `2px solid ${palette.primary.main}`\n  }),\n  circleText: {\n    textAlign: 'center',\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n}));\n\nexport default function CircleText({ text = undefined, width = 36, tooltip = undefined, placement = 'left' as any, children = undefined, ...rest }) {\n  const classes = useStyles({ width });\n\n  const Content = (\n    <Typography variant='h5' align='center' color='primary'>\n      {text}\n    </Typography>\n  );\n\n  return (\n    <div className={classes.circle} {...rest}>\n      {tooltip ? (\n        <Tooltip placement={placement} title={tooltip}>\n          {Content}\n        </Tooltip>\n      ) : (\n        Content\n      )}\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Typography } from '@material-ui/core';\nimport { useProfile } from '../../../../database/useProfile';\n\nexport default function StudentSummary({ session, value }) {\n  const { profile = {} } = useProfile({ id: session?.studentUserId });\n  const { name } = profile;\n\n  return (\n    <Grid container justify='space-between' spacing={2}>\n      <Grid item xs zeroMinWidth>\n        <Typography noWrap>{name ?? 'Unknown student'}</Typography>\n      </Grid>\n      <Grid item>\n        <Typography>{value}</Typography>\n      </Grid>\n    </Grid>\n  );\n}\n","import * as React from 'react';\nimport { Box, Divider, Grid, Typography } from '@material-ui/core';\nimport StudentSummary from './StudentSummary';\n\nexport default function ResultSummary({ answers = [] }) {\n  return (\n    <Box width={240}>\n      <Typography>\n        {answers.length} result set{answers.length === 1 ? '' : 's'} provided\n      </Typography>\n      {answers.length > 0 && <Divider style={{ background: 'white', marginBottom: 8 }} />}\n      <Grid container>\n        {answers.map(answer => (\n          <Grid item xs={12}>\n            <StudentSummary session={answer.session} value={answer.value} />\n          </Grid>\n        ))}\n      </Grid>\n    </Box>\n  );\n}\n","import * as React from 'react';\nimport { Box, Grid, Typography } from '@material-ui/core';\nimport ActionCard from '../../../general/ActionCard';\nimport CircleText from '../../../general/CircleText';\nimport ResultSummary from './ResultSummary';\n\nexport default function SurveyResults({ title = 'Pre-Survey', valueKey = 'pre', surveyResults = [] }) {\n  return (\n    <ActionCard title={title} minHeight={40}>\n      <Box pl={2} pr={2}>\n        <Grid container spacing={1}>\n          {surveyResults.length === 0 && (\n            <Grid item>\n              <Typography>There are no survey results to display yet.</Typography>\n            </Grid>\n          )}\n          {surveyResults.map((sr, i) => {\n            const { question } = sr;\n            const value = sr[`${valueKey}AnswersAverage`];\n            const answers = sr[`${valueKey}Answers`];\n            return (\n              <Grid item xs={12} key={i}>\n                <Grid container spacing={1} alignItems='center'>\n                  <Grid item xs>\n                    {question}\n                  </Grid>\n                  <Grid item>\n                    <CircleText text={value} width={72} tooltip={<ResultSummary answers={answers} />} />\n                  </Grid>\n                </Grid>\n              </Grid>\n            );\n          })}\n        </Grid>\n      </Box>\n    </ActionCard>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Typography } from '@material-ui/core';\nimport MarginDivider from '../../../application/DialogField/MarginDivider';\nimport AgeChart from '../AgeChart';\nimport SurveyResults from '../SurveyResults/SurveyResults';\n\nexport default function ResultsSummary({ title = 'Average Group Answers', results, ageQuestionData }) {\n  return (\n    <>\n      <Typography variant='h6'>{title}</Typography>\n      <MarginDivider />\n      <Grid container spacing={3}>\n        <Grid item xs={12} md={4}>\n          <AgeChart data={ageQuestionData} />\n        </Grid>\n        <Grid item xs={12} md={4}>\n          <SurveyResults title='Pre-Survey (Averages)' surveyResults={results} valueKey='pre' />\n        </Grid>\n        <Grid item xs={12} md={4}>\n          <SurveyResults title='Post-Survey (Averages)' surveyResults={results} valueKey='post' />\n        </Grid>\n      </Grid>\n    </>\n  );\n}\n","import * as React from 'react';\nimport { Box, Container, createStyles, makeStyles } from '@material-ui/core';\nimport Header from '../layout/Header';\nimport DialogButton from '../application/GenericDialog/DialogButton';\nimport LoadingGate from '../layout/LoadingGate';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    container: {\n      marginTop: 8,\n      marginBottom: 8\n    },\n    header: {\n      color: palette.primary.dark\n    }\n  } as any)\n);\n\nexport default function ChildPage({\n  loading = undefined,\n  backLabel = 'Back',\n  onBack = undefined,\n  supertitle = undefined,\n  title = undefined,\n  subtitle = undefined,\n  TitleButton = undefined,\n  children = <></>\n}) {\n  const classes = useStyles();\n  return (\n    <>\n      {onBack && (\n        <DialogButton variant='link' linkVariant='subtitle1' onClick={onBack}>\n          {`<  ${backLabel}`}\n        </DialogButton>\n      )}\n      <Box mt={2}>\n        <Header supertitle={supertitle} title={title} subtitle={subtitle} TitleButton={TitleButton} />\n        <Container disableGutters={true} className={classes.container} maxWidth={false}>\n          <LoadingGate loading={loading === undefined ? false : loading}>{children}</LoadingGate>\n        </Container>\n      </Box>\n    </>\n  );\n}\n","import { useLayoutKey } from '../components/layout/hooks';\nimport { tables } from './dbConfig';\nimport useData from './useData';\n\nexport const useClassData = ({ active = true } = {}) => {\n  const data = useLayoutKey('class');\n  return useData({ id: data?.id, Model: tables.classes, initialState: { data }, active });\n};\n","import * as React from 'react';\nimport { tables } from './dbConfig';\nimport useTable from './useTable';\nimport { isExpired } from './useInstructor';\n\nexport default function useGroupStudents({ groupId, active = true }) {\n  const { state, handleRequest } = useTable({ TableName: tables.students });\n\n  const handleRefresh = React.useCallback(() => {\n    handleRequest({\n      FilterExpression: '#groupId = :groupId',\n      ExpressionAttributeNames: {\n        '#groupId': 'groupId'\n      },\n      ExpressionAttributeValues: {\n        ':groupId': groupId\n      }\n    });\n    // eslint-disable-next-line\n  }, [groupId, handleRequest]);\n\n  React.useEffect(() => {\n    active && handleRefresh();\n  }, [active, handleRefresh]);\n\n  const students = Object.keys(state?.data).map(k => ({ ...state?.data[k] }));\n  const activeStudents = students.filter(s => s.accepted && s.deleted !== true);\n  const pendingStudents = students.filter(s => !s.accepted && !isExpired(s) && s.deleted !== true);\n  const expiredStudents = students.filter(s => !s.accepted && isExpired(s) && s.deleted !== true);\n  const deletedStudents = students.filter(s => s.deleted);\n\n  return { state, students, activeStudents, pendingStudents, expiredStudents, deletedStudents, handleRequest, handleRefresh };\n}\n","import * as React from 'react';\nimport { Box, Grid } from '@material-ui/core';\nimport ActionCard from '../../general/ActionCard';\nimport CircleText from '../../general/CircleText';\n\nexport default function RankingModel({ rankingModel = [] }) {\n  return (\n    <ActionCard title='Ranking Model' minHeight={0}>\n      <Box pl={2} pr={2}>\n        <Grid container spacing={1}>\n          {rankingModel.map(({ id, name }) => (\n            <Grid item xs={12} key={id}>\n              <Grid container spacing={1} alignItems='center'>\n                <Grid item>\n                  <CircleText text={Number(id) + 1} />\n                </Grid>\n                <Grid item xs>\n                  {name}\n                </Grid>\n              </Grid>\n            </Grid>\n          ))}\n        </Grid>\n      </Box>\n    </ActionCard>\n  );\n}\n","import { region, identityPoolIdUnauth, sourceEmailAddress } from '../../../../../package.json';\nimport { hostAddress, publicUrl } from '../../../../helpers';\nexport const AWS = require('aws-sdk'); // Load the AWS SDK for Node.js\n\n// Initialize the Amazon Cognito credentials provider\nAWS.config.region = region;\nAWS.config.credentials = new AWS.CognitoIdentityCredentials({\n  IdentityPoolId: identityPoolIdUnauth\n});\n\nexport const sendStudentInvite = ({\n  email,\n  role = 'Student',\n  id,\n  name = 'Unknown Group Name',\n  type = 'Unknown Group Type',\n  location = 'Unknown Location',\n  onSuccess = undefined,\n  onError = undefined\n}) => {\n  console.log('Sending student invite to: ' + email);\n  const body = `You have been invited to the DOORS Web Application:\n    <p>User Email: ${email}</p>  \n    <p>Role: ${role}</p>\n    <p>Group Name: ${name}</p>\n    <p>Group Type: ${type}</p>    \n    <p>Group Location: ${location}</p>    \n    \n    <h2><a href='${hostAddress(publicUrl(`/?i=${id}&t=s`))}'>Click here to accept the invite<a/></h2>\n    `;\n\n  // Create sendEmail params\n  var params = {\n    Destination: {\n      /* required */ CcAddresses: [],\n      ToAddresses: [email]\n    },\n    Message: {\n      /* required */\n      Body: {\n        /* required */\n        Html: {\n          Charset: 'UTF-8',\n          Data: body\n        },\n        Text: {\n          Charset: 'UTF-8',\n          Data: body\n        }\n      },\n      Subject: {\n        Charset: 'UTF-8',\n        Data: `${role} Invitation to DOORS Web Application!`\n      }\n    },\n    Source: sourceEmailAddress /* required */,\n    ReplyToAddresses: [sourceEmailAddress]\n  };\n\n  // Create the promise and SES service object\n  var sendPromise = new AWS.SES({ apiVersion: '2010-12-01' }).sendEmail(params).promise();\n\n  // Handle promise's fulfilled/rejected states\n  sendPromise\n    .then(function (data) {\n      onSuccess && onSuccess(data);\n    })\n    .catch(function (err) {\n      console.error(err, err.stack);\n      onError && onError(err);\n    });\n};\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport Label from '../../DialogField/Label';\nimport MarginDivider from '../../DialogField/MarginDivider';\nimport { useDialogState } from '../useDialogState';\nimport { useSnackBar } from '../../SnackBar/useSnackBar';\nimport useProcessData from '../../../../database/useProcessData';\nimport { tables } from '../../../../database/dbConfig';\nimport Student from '../../../../database/models/Student';\nimport { isEmpty, parseEmails, uuid, validateEmail } from '../../../../helpers';\nimport { useLayout, useUserId } from '../../../layout/hooks';\nimport { sendStudentInvite } from '../CreateGroup/helpers';\n\nexport const title = 'Add New Student';\n\nconst validate = ({ emails }) => {\n  const newErrors = {};\n  if (isEmpty(emails)) {\n    newErrors['emails'] = 'Required';\n  } else {\n    parseEmails(emails).forEach(e => {\n      if (!validateEmail(e)) {\n        newErrors['emails'] = 'Invalid email format';\n      }\n    });\n  }\n  return newErrors;\n};\n\nexport default function AddStudentDialog({ id = title, onClose }) {\n  const [{ initialValues }, setState] = useDialogState(id);\n  const { group = {} } = initialValues;\n  const { id: groupId, name, type, location } = group;\n  const [, setSnackbar] = useSnackBar();\n\n  const handleClose = React.useCallback(\n    (props = undefined, isLast = true) => {\n      props && setSnackbar(props);\n      if (isLast) {\n        setState(prev => ({ ...prev, open: false, loading: false }));\n        onClose && onClose();\n      }\n    },\n    [onClose, setState, setSnackbar]\n  );\n\n  const processData = useProcessData();\n\n  // Students should be invited by the active isntructor (don't use userId because admin's can add users for an instructor via layout.instructor)\n  const [{ instructor }] = useLayout();\n  var parentId = instructor.userId;\n\n  // If for some reason instructor isn't set, then use the current user Id (which is the instructor's userId when lgge in as an instructor)\n  const userId = useUserId();\n  if (!parentId) {\n    parentId = userId;\n  }\n\n  const onSuccess = React.useCallback(() => {\n    handleClose({ open: true, variant: 'success', message: 'Successfully sent invite' });\n  }, [handleClose]);\n\n  const onError = React.useCallback(\n    isLast => () => {\n      handleClose({ open: true, variant: 'error', message: 'Error sending invite' }, isLast);\n    },\n    [handleClose]\n  );\n\n  const handleSubmit = React.useCallback(\n    values => {\n      const { emails } = values;\n      parseEmails(emails).forEach((email, i) => {\n        const id = uuid();\n        const isLast = i === parseEmails(emails).length - 1;\n\n        const Data: Student = {\n          id,\n          groupId,\n          parentId,\n          email\n        };\n\n        setState(prev => ({ ...prev, loading: true }));\n\n        processData({\n          Model: tables.students,\n          Action: 'c',\n          Data,\n          onError: onError(isLast),\n          onSuccess: () => {\n            sendStudentInvite({ id, email, name, type, location, onError: onError(isLast), onSuccess: isLast && onSuccess });\n          }\n        });\n      });\n    },\n    [setState, processData, parentId, onSuccess, onError, name, type, location, groupId]\n  );\n\n  return (\n    <GenericDialog\n      id={id}\n      maxWidth='sm'\n      title={title}\n      submitLabel='Send Invite'\n      onSubmit={handleSubmit}\n      onClose={onClose}\n      validate={validate}\n      fields={[\n        {\n          label: `Students will receive an invitation via their email address, if the student is already registered they will see the class available on their main dashboard.  You can add multiple email addresses at the same time, just enter a space or comma between different email addresses.`,\n          Field: Label\n        },\n        {\n          Field: MarginDivider\n        },\n        {\n          id: 'emails',\n          label: 'Emails to Add',\n          autoFocus: true,\n          placeholder: 'Enter email address to give access to this class',\n          required: true,\n          multiline: true,\n          rows: 4\n        }\n      ]}\n    />\n  );\n}\n","import * as React from 'react';\nimport { tables } from './dbConfig';\nimport useTable from './useTable';\n\nexport const useAttendance = ({ requestParams = undefined, active = true } = {}) => {\n  const { state, handleRequest } = useTable({ TableName: tables.attendance });\n  const { data, loading, success } = state as any;\n\n  const handleRefresh = React.useCallback(() => {\n    handleRequest(requestParams);\n    // eslint-disable-next-line\n  }, [JSON.stringify(requestParams), handleRequest]);\n\n  React.useEffect(() => {\n    active && handleRefresh();\n  }, [active, handleRefresh]);\n\n  const rows = Object.keys(data).map(k => ({ ...data[k] }));\n\n  return {\n    data: rows,\n    handleRefresh,\n    loading,\n    success\n  };\n};\n","import { useAttendance } from '../database/useAttendance';\nimport { isEmpty } from '../helpers';\n\nexport const title = 'Mark Attendance';\n\nexport default function useClassGroupAttendance({ classId, groupId, date = undefined, active = true }) {\n  return useAttendance({\n    active: active && !isEmpty(classId) && !isEmpty(groupId),\n    requestParams:\n      date === undefined\n        ? {\n            FilterExpression: '#classId = :classId AND #groupId = :groupId',\n            ExpressionAttributeNames: {\n              '#classId': 'classId',\n              '#groupId': 'groupId'\n            },\n            ExpressionAttributeValues: {\n              ':classId': classId,\n              ':groupId': groupId\n            }\n          }\n        : {\n            FilterExpression: '#classId = :classId AND #groupId = :groupId AND #date = :date',\n            ExpressionAttributeNames: {\n              '#classId': 'classId',\n              '#groupId': 'groupId',\n              '#date': 'date'\n            },\n            ExpressionAttributeValues: {\n              ':classId': classId,\n              ':groupId': groupId,\n              ':date': date\n            }\n          }\n  });\n}\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport Label from '../../DialogField/Label';\nimport MarginDivider from '../../DialogField/MarginDivider';\nimport { useDialogState } from '../useDialogState';\nimport { useAttendanceRow } from '../../../../database/useAttendanceRow';\nimport StudentAttendance from '../../DialogField/StudentAttendance';\nimport deepmerge from 'deepmerge';\nimport { getDayMonthYear, uuid } from '../../../../helpers';\nimport useClassGroupAttendance from '../../../../database/useClassGroupAttendance';\n\nexport const title = 'Mark Attendance';\n\nexport default function MarkAttendanceDialog({ id: Id = title, onClose }) {\n  const [{ initialValues, open }, setState] = useDialogState(Id);\n\n  const { classId, groupId, date } = initialValues;\n\n  const { data: rows, loading, success, handleRefresh } = useClassGroupAttendance({ classId, groupId, date });\n\n  React.useEffect(() => {\n    open && handleRefresh();\n  }, [open, handleRefresh]);\n\n  const row = rows ? rows[0] : undefined;\n  const rowStr = row && JSON.stringify(row);\n\n  const [id, setId] = React.useState();\n\n  // Sets the id to match an existing database row if it exists, otherwise set a new id\n  React.useEffect(() => {\n    const row = rowStr && JSON.parse(rowStr);\n    if (open && loading === false && success === true) {\n      if (row) {\n        setId(row?.id);\n      } else {\n        setId(uuid());\n      }\n    }\n  }, [open, loading, success, rowStr]);\n\n  const { updateData } = useAttendanceRow({ id, active: false }); // Get hook for updating db row\n\n  const merged = deepmerge(initialValues ?? {}, row ?? {});\n  const iv = { id, ...(merged as any) };\n\n  const handleClose = React.useCallback(() => {\n    setState(prev => ({ ...prev, open: false, loading: false }));\n    onClose && onClose();\n  }, [onClose, setState]);\n\n  const handleSubmit = React.useCallback(\n    values => {\n      updateData(values, handleClose);\n    },\n    [updateData, handleClose]\n  );\n\n  return (\n    <GenericDialog\n      id={Id}\n      title={title}\n      submitLabel='Save'\n      onSubmit={handleSubmit}\n      onClose={onClose}\n      initialValues={iv}\n      fields={[\n        {\n          id: 'id',\n          hidden: true\n        },\n        {\n          id: 'classId',\n          hidden: true\n        },\n        {\n          id: 'groupId',\n          hidden: true\n        },\n        {\n          id: 'date',\n          hidden: true\n        },\n        {\n          id: 'dateString',\n          hidden: true\n        },\n        {\n          label: `Today is ${getDayMonthYear()}`,\n          Field: Label\n        },\n        {\n          Field: MarginDivider\n        },\n        {\n          id: 'students',\n          label: 'Students',\n          autoFocus: true,\n          Field: StudentAttendance\n        }\n      ]}\n    />\n  );\n}\n","import React from 'react';\nimport { useTheme, useMediaQuery } from '@material-ui/core';\nimport { useHeight } from '../../layout/hooks';\n\nconst DialogTableContent = ({ Table, breakpoint = 'sm' as any, toolbar = true, square = true, elevation = 0, ...other }) => {\n  const theme = useTheme();\n  var height = useHeight() - (toolbar ? 0 : 44) - 48 + 192; // Heights for the dialog header and footer\n  const fullScreen = useMediaQuery(theme.breakpoints.down(breakpoint));\n\n  return (\n    <div\n      style={{\n        height: fullScreen && '100%',\n        overflowX: 'hidden',\n        overflowY: fullScreen ? 'hidden' : 'hidden',\n        display: 'fixed',\n        //borderTop: `1px solid ${theme.palette.divider}`,\n        borderBottom: `1px solid ${theme.palette.divider}`\n      }}\n    >\n      <Table height={fullScreen ? height : height * 0.9} elevation={elevation} square={square} toolbar={toolbar} {...other} />\n    </div>\n  );\n};\n\nexport default DialogTableContent;\n","import * as React from 'react';\nimport { Typography } from '@material-ui/core';\nimport { makeStyles, createStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    root: ({ disabled }: any) => ({\n      color: disabled ? palette.text.disabled : 'inherit'\n    })\n  })\n);\n\nexport default function AttendanceFor({ value, disabled }) {\n  const classes = useStyles({ disabled });\n  return <>{value && <Typography className={classes.root}>Attendance for {value}</Typography>}</>;\n}\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport MarginDivider from '../../DialogField/MarginDivider';\nimport { useDialogState } from '../useDialogState';\nimport { useAttendanceRow } from '../../../../database/useAttendanceRow';\nimport StudentAttendance from '../../DialogField/StudentAttendance';\nimport AttendanceFor from '../../DialogField/AttendanceFor';\n\nexport const title = 'Edit Attendance';\n\nexport default function EditAttendanceDialog({ id: dialogId = title, onClose }) {\n  const [{ initialValues, open }, setState] = useDialogState(dialogId);\n\n  const { id } = initialValues;\n\n  const { data, updateData } = useAttendanceRow({ id, active: open }); // Get hook for updating db row\n\n  const handleClose = React.useCallback(() => {\n    setState(prev => ({ ...prev, open: false, loading: false }));\n    onClose && onClose();\n  }, [onClose, setState]);\n\n  const handleSubmit = React.useCallback(\n    values => {\n      updateData(values, handleClose);\n    },\n    [updateData, handleClose]\n  );\n\n  return (\n    <GenericDialog\n      id={dialogId}      \n      title={title}\n      submitLabel='Save'\n      onSubmit={handleSubmit}\n      onClose={onClose}\n      initialValues={data}\n      fields={[\n        {\n          id: 'id',\n          hidden: true\n        },\n        {\n          id: 'eventId',\n          hidden: true\n        },\n        {\n          id: 'classId',\n          hidden: true\n        },\n        {\n          id: 'groupId',\n          hidden: true\n        },\n        {\n          id: 'date',\n          hidden: true\n        },\n        {\n          id: 'dateString',\n          Field: AttendanceFor\n        },\n        {\n          Field: MarginDivider\n        },\n        {\n          id: 'students',\n          label: 'Students',\n          autoFocus: true,\n          Field: StudentAttendance\n        }\n      ]}\n    />\n  );\n}\n","import * as React from 'react';\nimport GenericTableContainer from '../GenericTableContainer';\nimport DialogButton from '../../GenericDialog/DialogButton';\nimport * as EditAttendanceDialog from '../../GenericDialog/EditAttendance';\nimport useClassGroupAttendance from '../../../../database/useClassGroupAttendance';\nimport useTableRow from '../../../../database/useTableRow';\nimport { tables } from '../../../../database/dbConfig';\nimport { Grid, Typography } from '@material-ui/core';\nimport { useTableFilter } from '../helpers';\n\nconst OpenAttendanceButton = props => {\n  const { id, handleRefresh } = props;\n  return (\n    <DialogButton\n      id={`edit-attendance-${id}`}\n      onClose={handleRefresh}\n      initialValues={props}\n      Module={EditAttendanceDialog}\n      variant='link'\n      linkVariant='subtitle2'\n      underline='always'\n    >\n      Edit\n    </DialogButton>\n  );\n};\n\nconst ClassGroupName = ({ groupId, classId }) => {\n  const { row: g } = useTableRow({ id: groupId, Model: tables.groups });\n  const { row: c } = useTableRow({ id: classId, Model: tables.classes });\n  return (\n    <Grid container>\n      <Grid item xs={12}>\n        <Typography variant='subtitle1'>{c?.name}</Typography>\n      </Grid>\n      <Grid item xs={12}>\n        <Typography variant='subtitle2'>{g?.name}</Typography>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default function AttendanceHistory({ name = 'Attendance History', groupId, classId, ...other }) {\n  const { data, loading, handleRefresh } = useClassGroupAttendance({ classId, groupId });\n\n  return (\n    <GenericTableContainer\n      name={name}\n      loading={loading}\n      title={name}\n      columns={[\n        { name: 'groupId', header: 'Class and Group Name', Cell: ClassGroupName },\n        { name: 'dateString', header: 'Date', width: 128 },\n        {\n          name: 'Attendance',\n          header: 'Attendence',\n          width: 200,\n          Cell: ({ students }) => {\n            const length = Object.keys(students ?? {}).length;\n            const present = Object.keys(students ?? {}).filter(k => students[k].present === true).length;\n            return `${present} of ${length} Student${length === 1 ? '' : 's'} Present`;\n          }\n        },\n        {\n          name: 'Edit',\n          header: 'Edit',\n          width: 95,\n          Cell: OpenAttendanceButton\n        }\n      ]}\n      toolbar={true}\n      footer={true}\n      search={true}\n      stacked={true}\n      data={useTableFilter(data, name).map(r => ({ ...r, handleRefresh, getValues: () => r }))}\n      checkbox={false}\n      select={false}\n      {...other}\n    />\n  );\n}\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport { useDialogState } from '../useDialogState';\nimport DialogTableContent from '../DialogTableContent';\nimport AttendanceHistory from '../../GenericTable/AttendanceHistory/table';\n\nexport const title = 'Attendance History';\n\nconst Content = props => <DialogTableContent Table={AttendanceHistory} title={title} {...props} />;\n\nexport default function AttendanceHistoryDialog({ id = title, onClose }) {\n  const [{ initialValues }, setState] = useDialogState(title);\n\n  const { classId, groupId } = initialValues;\n\n  const handleClose = React.useCallback(() => {\n    setState(prev => ({ ...prev, open: false, loading: false }));\n    onClose && onClose();\n  }, [onClose, setState]);\n\n  return (\n    <GenericDialog\n      id={id}\n      maxWidth='md'\n      title={null}\n      submitLabel={null}\n      cancelLabel='Done'\n      onClose={handleClose}\n      Content={Content}\n      ContentProps={{ groupId, classId }}\n    />\n  );\n}\n","import * as React from 'react';\nimport useTable from '../../../database/useTable';\nimport { tables } from '../../../database/dbConfig';\n\nconst Model = tables.events;\n\nexport default function useEvents({ requestParams = undefined } = {}) {\n  const { state, handleRequest } = useTable({ TableName: Model });\n  const { data, loading, success } = state as any;\n\n  const handleRefresh = React.useCallback(() => {\n    handleRequest(requestParams);\n    // eslint-disable-next-line\n  }, [JSON.stringify(requestParams), handleRequest]);\n\n  React.useEffect(() => {\n    handleRefresh();\n  }, [handleRefresh]);\n\n  const rows = Object.keys(data).map(k => ({ ...data[k] }));\n\n  return {\n    data: rows,\n    handleRefresh,\n    loading,\n    success\n  };\n}\n\nexport const useEventsByUserId = ({ userId }) => {\n  return useEvents({\n    requestParams: {\n      FilterExpression: '#userId = :userId',\n      ExpressionAttributeNames: {\n        '#userId': 'userId'\n      },\n      ExpressionAttributeValues: {\n        ':userId': userId\n      }\n    }\n  });\n};\n","import * as React from 'react';\nimport GenericTableContainer from '../GenericTableContainer';\nimport DialogButton from '../../GenericDialog/DialogButton';\nimport * as EditAttendanceDialog from '../../GenericDialog/EditAttendance';\nimport { Grid, Typography } from '@material-ui/core';\nimport { useTableFilter } from '../helpers';\nimport useGroupAttendance from '../../../../database/useGroupAttendance';\nimport { getDayTimeFromTimestamp, isEmpty } from '../../../../helpers';\nimport useGroupEvents from '../../../pages/Calendar/useGroupEvents';\n\nconst OpenAttendanceButton = props => {\n  const { id, handleRefresh } = props;\n  return (\n    <DialogButton\n      id={`edit-attendance-${id}`}\n      onClose={handleRefresh}\n      initialValues={props}\n      Module={EditAttendanceDialog}\n      variant='link'\n      linkVariant='subtitle2'\n      underline='always'\n    >\n      Edit\n    </DialogButton>\n  );\n};\n\nconst EventGroupName = ({ groupName, eventTitle }) => {\n  return (\n    <Grid container>\n      <Grid item xs={12}>\n        <Typography variant='subtitle1'>{eventTitle}</Typography>\n      </Grid>\n      <Grid item xs={12}>\n        <Typography variant='subtitle2'>{groupName}</Typography>\n      </Grid>\n    </Grid>\n  );\n};\n\nconst getDateString = val => (isEmpty(val) ? '' : getDayTimeFromTimestamp(Date.parse(val)));\n\nexport default function EventAttendanceHistory({ name = 'Event Attendance History', groupName, groupId, ...other }) {\n  const { data, loading, handleRefresh: handleRefreshGroupAttendance } = useGroupAttendance({ groupId });\n  const { data: events, loading: loadingEvents, handleRefresh: handleRefreshEvents } = useGroupEvents({ groupId });\n  var rows = data\n    .filter(d => !isEmpty(d.eventId)) // Ensure only event attendance is used\n    .map(r => {\n      var event = events.find(e => e.id === r.eventId);\n      return {\n        ...r,\n        groupName,\n        start: getDateString(event?.start),\n        end: getDateString(event?.end),\n        eventTitle: event?.title\n      };\n    });\n\n  const handleRefresh = React.useCallback(() => {\n    handleRefreshGroupAttendance();\n    handleRefreshEvents();\n  }, [handleRefreshGroupAttendance, handleRefreshEvents]);\n\n  return (\n    <GenericTableContainer\n      name={name}\n      data={useTableFilter(rows, name).map(r => ({ ...r, handleRefresh, getValues: () => r }))}\n      loading={loading || loadingEvents}\n      title={name}\n      columns={[\n        { name: 'groupId', header: 'Event and Group Name', Cell: EventGroupName },\n        { name: 'start', header: 'Start' },\n        { name: 'end', header: 'End' },\n        {\n          name: 'Attendance',\n          header: 'Attendence',\n          width: 200,\n          Cell: ({ students }) => {\n            const length = Object.keys(students ?? {}).length;\n            const present = Object.keys(students ?? {}).filter(k => students[k].present === true).length;\n            return `${present} of ${length} Student${length === 1 ? '' : 's'} Present`;\n          }\n        },\n        {\n          name: 'Edit',\n          header: 'Edit',\n          width: 95,\n          Cell: OpenAttendanceButton\n        }\n      ]}\n      toolbar={true}\n      footer={true}\n      search={true}\n      stacked={true}\n      checkbox={false}\n      select={false}\n      {...other}\n    />\n  );\n}\n","import { useAttendance } from './useAttendance';\nimport { isEmpty } from '../helpers';\n\nexport default function useGroupAttendance({ groupId, active = true }) {\n  return useAttendance({\n    active: active && !isEmpty(groupId),\n    requestParams: {\n      FilterExpression: '#groupId = :groupId',\n      ExpressionAttributeNames: {\n        '#groupId': 'groupId'\n      },\n      ExpressionAttributeValues: {\n        ':groupId': groupId\n      }\n    }\n  });\n}\n","import useEvents from './useEvents';\n\nexport default function useGroupEvents({ groupId }) {\n  return useEvents({\n    requestParams: {\n      FilterExpression: '#groupId = :groupId',\n      ExpressionAttributeNames: {\n        '#groupId': 'groupId'\n      },\n      ExpressionAttributeValues: {\n        ':groupId': groupId\n      }\n    }\n  });\n}\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport { useDialogState } from '../useDialogState';\nimport DialogTableContent from '../DialogTableContent';\nimport EventAttendanceHistory from '../../GenericTable/EventAttendanceHistory/table';\n\nexport const title = 'Event Attendance History';\n\nconst Content = props => <DialogTableContent Table={EventAttendanceHistory} title={title} {...props} />;\n\nexport default function EventAttendanceHistoryDialog({ id = title, onClose }) {\n  const [{ initialValues }, setState] = useDialogState(title);\n\n  const { groupName, groupId } = initialValues;\n  \n  const handleClose = React.useCallback(() => {\n    setState(prev => ({ ...prev, open: false, loading: false }));\n    onClose && onClose();\n  }, [onClose, setState]);\n\n  return (\n    <GenericDialog\n      id={id}\n      maxWidth='md'\n      title={null}\n      submitLabel={null}\n      cancelLabel='Done'\n      onClose={handleClose}\n      Content={Content}\n      ContentProps={{ groupName, groupId }}\n    />\n  );\n}\n","import * as React from 'react';\nimport useProcessData from '../../database/useProcessData';\nimport { useSnackBar } from '../application/SnackBar/useSnackBar';\n\nconst actions = {\n  c: 'creating',\n  r: 'reading',\n  u: 'updating',\n  d: 'deleting'\n};\n\nexport const actionText = action => actions[action];\n\nexport default function useProcessDataState({ validate = undefined, Model }) {\n  const [formState, setFormState] = React.useState({\n    loading: false,\n    error: undefined,\n    errors: {}\n  });\n  const processData = useProcessData();\n  const [, setSnackbar] = useSnackBar();\n\n  const handleSubmit = React.useCallback(\n    ({ Data, Action = 'c' as any, onSuccess = undefined, onError = undefined }) => {\n      setFormState(prev => ({ ...prev, loading: true, error: undefined, errors: {} }));\n      const errors = validate ? validate(Data) : {};\n      if (Object.keys(errors).length > 0) {\n        setFormState(prev => ({ ...prev, loading: false, errors }));\n        setSnackbar({ open: true, variant: 'error', message: 'Input validation error' });\n      } else {\n        processData({\n          Model,\n          Action,\n          Data,\n          onError: () => {\n            setFormState(prev => ({ ...prev, loading: false, error: `Error ${actionText(Action)}` }));\n            setSnackbar({ open: true, variant: 'error', message: `Error ${actionText(Action)}` });\n            onError && onError();\n          },\n          onSuccess: () => {\n            setFormState(prev => ({ ...prev, loading: false, error: undefined }));\n            onSuccess && onSuccess();\n          }\n        });\n      }\n    },\n    [setFormState, validate, Model, processData, setSnackbar]\n  );\n\n  const handleCreate = React.useCallback(({ Data, onSuccess = undefined }) => handleSubmit({ Data, Action: 'c', onSuccess }), [handleSubmit]);\n  const handleUpdate = React.useCallback(({ Data, onSuccess = undefined }) => handleSubmit({ Data, Action: 'u', onSuccess }), [handleSubmit]);\n  const handleDelete = React.useCallback(({ Data, onSuccess = undefined }) => handleSubmit({ Data, Action: 'd', onSuccess }), [handleSubmit]);\n\n  return {\n    handleCreate,\n    handleUpdate,\n    handleDelete,\n    formState\n  };\n}\n","import * as React from 'react';\nimport useTable from './useTable';\nimport { tables } from './dbConfig';\nimport { useChangeRouteLayout } from '../components/layout/hooks';\nimport useProcessDataState from '../components/hooks/useProcessDataState';\nimport { uuid } from '../helpers';\n\nexport default function useSessions({ requestParams = undefined } = {}) {\n  const { state, handleRequest } = useTable({ TableName: tables.sessions });\n  const { data, loading, success } = state as any;\n\n  const handleRefresh = React.useCallback(() => {\n    handleRequest(requestParams);\n    // eslint-disable-next-line\n  }, [JSON.stringify(requestParams), handleRequest]);\n\n  React.useEffect(() => {\n    handleRefresh();\n  }, [handleRefresh]);\n\n  return {\n    sessions: Object.keys(data).map(k => ({ ...data[k] })),\n    handleRefresh,\n    loading,\n    success\n  };\n}\n\nexport const useSessionsByStudentId = ({ studentId }) => {\n  return useSessions({\n    requestParams: {\n      FilterExpression: '#studentId = :studentId',\n      ExpressionAttributeNames: {\n        '#studentId': 'studentId'\n      },\n      ExpressionAttributeValues: {\n        ':studentId': studentId\n      }\n    }\n  });\n};\n\nexport const useHandleCreateSession = ({ studentId, studentUserId, nextRoute = '/Pre-Survey' }) => {\n  const changeRouteLayout = useChangeRouteLayout();\n\n  const { handleUpdate } = useProcessDataState({ Model: tables.sessions });\n\n  return React.useCallback(\n    c => () => {\n      const session = {\n        ...c, // Copy class data\n        id: uuid(), // Create new session id\n        classId: c.id, // Link the class id\n        studentId,\n        studentUserId\n      };\n      handleUpdate({\n        Data: session,\n        onSuccess: () => {\n          changeRouteLayout(nextRoute, { session });\n        }\n      }); // insert into database and change route on success\n    },\n    [studentId, studentUserId, handleUpdate, changeRouteLayout, nextRoute]\n  );\n};\n","import * as React from 'react';\nimport { Typography, makeStyles, Grid } from '@material-ui/core';\nimport ParticipantDetailed from './ParticipantDetailed';\n\nconst useStyles = makeStyles(() => ({\n  bold: {\n    fontWeight: 'bold'\n  }\n}));\n\nexport const ParticipantsDetailed = ({ participants, label, ...other }) => {\n  const classes = useStyles();\n  return (\n    <Grid container justify='flex-start' spacing={2}>\n      <Grid item xs={12}>\n        <Typography variant='subtitle1' className={classes.bold}>\n          {participants.length} {label}\n        </Typography>\n      </Grid>\n      {participants.map((p, i) => (\n        <Grid item key={p?.student?.id}>\n          <ParticipantDetailed participant={p} {...other} />\n        </Grid>\n      ))}\n    </Grid>\n  );\n};\n","import * as React from 'react';\nimport clsx from 'clsx';\nimport { Card, Typography, makeStyles, Grid, Box, Divider, Tooltip } from '@material-ui/core';\nimport StyledButton from '../../general/StyledButton';\nimport { getDateFromTimestamp, getDayMonthYear, isEmpty, sortUdpatedDescending, yyyymmdd } from '../../../helpers';\nimport DialogButton from '../../application/GenericDialog/DialogButton';\nimport * as AddStudentDialog from '../../application/GenericDialog/AddStudent';\nimport * as MarkAttendanceDialog from '../../application/GenericDialog/MarkAttendance';\nimport * as AttendanceHistoryDialog from '../../application/GenericDialog/AttendanceHistory';\nimport * as EventAttendanceHistoryDialog from '../../application/GenericDialog/EventAttendanceHistory';\nimport useGroupStudents from '../../../database/useGroupStudents';\nimport { tables } from '../../../database/dbConfig';\nimport { useHandleChangeRouteLayout } from '../../layout/hooks';\nimport MarginDivider from '../../application/DialogField/MarginDivider';\nimport useTableRow from '../../../database/useTableRow';\nimport useSessions from '../../../database/useSessions';\nimport { ParticipantsDetailed } from './ParticipantsDetailed';\nimport { red } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles(({ palette, spacing }) => ({\n  root: {},\n  summary: {\n    padding: spacing(1),\n    background: palette.primary.light,\n    color: palette.common.white\n  },\n  summaryDeleted: {\n    padding: spacing(1),\n    background: red[400],\n    color: palette.common.white\n  },\n  actions: {\n    padding: spacing(1),\n    display: 'flex',\n    alignItems: 'flex-start'\n  },\n  details: {\n    padding: spacing(1),\n    display: 'flex',\n    flexDirection: 'column'\n  },\n\n  bold: {\n    fontWeight: 'bold'\n  },\n  semibold: {\n    fontWeight: 500\n  },\n  light: {\n    fontWeight: 550\n  },\n  createdOn: {\n    fontWeight: 500\n  }\n}));\n\nexport const buildParticipants = (students, sessions, includeStatus = true) => {\n  var participants = [];\n  students.forEach(as => {\n    const ss = sessions.filter(s => s.studentId === as.id);\n    participants.push({\n      student: as,\n      sessions: ss,\n      completed: includeStatus && ss.filter(c => c.completed === true && !c.deleted).sort(sortUdpatedDescending),\n      inProgress: includeStatus && ss.filter(c => c.completed !== true && !c.deleted).sort(sortUdpatedDescending)\n    });\n  });\n\n  return participants.sort((a, b) => {\n    if (a.completed.length > b.completed.length) return 1;\n    if (a.completed.length < b.completed.length) return -1;\n    if (a.inProgress.length > b.inProgress.length) return 1;\n    if (a.inProgress.length < b.inProgress.length) return -1;\n    return 0;\n  });\n};\n\nconst Model = tables.groups;\nexport default function ClassGroup({\n  mount = false,\n  id = undefined,\n  userId = undefined,\n  classId = undefined,\n  deleted,\n  name = 'Group Name',\n  location = 'Unknown Location',\n  type = 'Unknown Type',\n  created = undefined,\n  className = undefined,\n  handleRefreshGroups\n}) {\n  const classes = useStyles();\n\n  const { row: instructorProfile } = useTableRow({ Model: tables.profiles, id: userId });\n  const { students, pendingStudents, deletedStudents, activeStudents, handleRefresh } = useGroupStudents({ groupId: id });\n  const changeRouteLayout = useHandleChangeRouteLayout();\n\n  const { sessions } = useSessions();\n  const filtered = sessions.filter(session => (isEmpty(classId) || session?.classId === classId) && students.find(student => student.id === session.studentId)); // TODO Filter by active student id's instead\n\n  const instructorName = instructorProfile?.name;\n\n  const activeParticipants = buildParticipants(activeStudents, filtered, !isEmpty(classId));\n  const pendingParticipants = buildParticipants(pendingStudents, filtered, !isEmpty(classId));\n  const deletedParticipants = buildParticipants(deletedStudents, filtered, !isEmpty(classId));\n  const { readSetRow } = useTableRow({ id, Model });\n\n  const handleArchive = React.useCallback(() => {\n    readSetRow({ values: { deleted: true }, onSuccess: handleRefreshGroups });\n  }, [readSetRow, handleRefreshGroups]);\n\n  const handleRestore = React.useCallback(() => {\n    readSetRow({ values: { deleted: false }, onSuccess: handleRefreshGroups });\n    handleRefreshGroups && handleRefreshGroups();\n  }, [readSetRow, handleRefreshGroups]);\n  \n  return (\n    <Card className={clsx(classes.root, className)}>\n      <Grid container>\n        <Grid item xs={12} sm={12} md={4} lg={3} xl={2} className={deleted ? classes.summaryDeleted : classes.summary}>\n          <Grid container spacing={0}>\n            <Grid item xs={12}>\n              <Tooltip\n                title={\n                  <>\n                    <Typography noWrap variant='h6' className={classes.semibold}>\n                      Group ID: {id}\n                    </Typography>\n                    {classId && (\n                      <Typography noWrap variant='h6' className={classes.semibold}>\n                        Class ID: {classId}\n                      </Typography>\n                    )}\n                    <Typography noWrap variant='h6' className={classes.semibold}>\n                      User ID: {userId}\n                    </Typography>\n                  </>\n                }\n              >\n                <Typography noWrap variant='h6' className={classes.semibold}>\n                  {name}\n                </Typography>\n              </Tooltip>\n            </Grid>\n            <Grid item xs={12}>\n              <Divider style={{ background: 'white', marginTop: 8 }} />\n            </Grid>\n            <Grid item xs={12}>\n              <Typography noWrap variant='caption'>\n                Instructor: {instructorName}\n              </Typography>\n            </Grid>\n            <Grid item xs={12}>\n              <Typography noWrap variant='caption'>\n                Location: {location}\n              </Typography>\n            </Grid>\n            <Grid item xs={12}>\n              <Typography noWrap variant='caption'>\n                Type: {type}\n              </Typography>\n            </Grid>\n            {created && (\n              <Grid item xs={12}>\n                <Typography variant='caption'>Created on {getDateFromTimestamp(created)}</Typography>\n              </Grid>\n            )}\n          </Grid>\n        </Grid>\n        <Grid item xs={12} sm={12} md={8} lg={9} xl={10} className={classes.details}>\n          <Grid container justify='space-between' spacing={2}>\n            <Grid item xs>\n              {[\n                { participants: activeParticipants, label: activeParticipants.length === 1 ? 'Student' : 'Students' },\n                {\n                  participants: pendingParticipants,\n                  label: pendingParticipants.length === 1 ? 'Pending Invite (Not Accepted)' : 'Pending Invites (Not Accepted)'\n                },\n                { participants: deletedParticipants, label: deletedParticipants.length === 1 ? 'Archived Student' : 'Archived Students' }\n              ]\n                .filter(i => i.participants.length > 0)\n                .map((props, i) => (\n                  <Box key={i} mb={1}>\n                    {i !== 0 && <MarginDivider />}\n                    <ParticipantsDetailed move={true} onRefreshGroups={handleRefreshGroups} onRefresh={handleRefresh} {...props} />\n                  </Box>\n                ))}\n            </Grid>\n            <Grid item xs={12} sm={12} md={7} lg={4} xl={3} className={classes.actions}>\n              <Grid container spacing={1}>\n                {!deleted && (\n                  <Grid item xs={12}>\n                    <DialogButton\n                      id={id}\n                      Module={AddStudentDialog}\n                      fullWidth={true}\n                      onClose={handleRefresh}\n                      variant='styled'\n                      size='large'\n                      tooltip=''\n                      initialValues={{\n                        group: {\n                          id,\n                          name,\n                          type,\n                          location\n                        }\n                      }}\n                    >\n                      Add New Student\n                    </DialogButton>\n                  </Grid>\n                )}\n                {!isEmpty(classId) && (\n                  <>\n                    {!deleted && (\n                      <Grid item xs={12}>\n                        <DialogButton\n                          Module={MarkAttendanceDialog}\n                          mount={mount}\n                          fullWidth={true}\n                          onClose={handleRefresh}\n                          variant='styled'\n                          size='large'\n                          tooltip=''\n                          initialValues={{\n                            groupId: id,\n                            classId,\n                            date: yyyymmdd(),\n                            dateString: getDayMonthYear(),\n                            students: activeStudents.reduce((f, c) => {\n                              f[c.id] = c;\n                              return f;\n                            }, {})\n                          }}\n                        >\n                          Mark Attendance\n                        </DialogButton>\n                      </Grid>\n                    )}\n                    <Grid item xs={12}>\n                      <DialogButton\n                        Module={AttendanceHistoryDialog}\n                        mount={mount}\n                        fullWidth={true}\n                        onClose={handleRefresh}\n                        variant='styled'\n                        styledVariant='secondary'\n                        size='large'\n                        tooltip=''\n                        initialValues={{\n                          classId,\n                          groupId: id,\n                          date: yyyymmdd(),\n                          dateString: getDayMonthYear(),\n                          students: activeStudents.reduce((f, c) => {\n                            f[c.id] = c;\n                            return f;\n                          }, {})\n                        }}\n                      >\n                        View Attendance History\n                      </DialogButton>\n                    </Grid>\n                    <Grid item xs={12}>\n                      <StyledButton\n                        variant='secondary'\n                        fullWidth={true}\n                        onClick={changeRouteLayout('/ClassReport', {\n                          groupId: id,\n                          classId,\n                          sessions: filtered\n                        })}\n                      >\n                        View Class Report\n                      </StyledButton>\n                    </Grid>\n                  </>\n                )}\n                <Grid item xs={12}>\n                  <DialogButton\n                    Module={EventAttendanceHistoryDialog}\n                    mount={mount}\n                    fullWidth={true}\n                    onClose={handleRefresh}\n                    variant='styled'\n                    styledVariant='secondary'\n                    size='large'\n                    tooltip=''\n                    initialValues={{\n                      groupId: id,\n                      groupName: name,\n                      students: activeStudents.reduce((f, c) => {\n                        f[c.id] = c;\n                        return f;\n                      }, {})\n                    }}\n                  >\n                    Event Attendance History\n                  </DialogButton>\n                </Grid>\n                <Grid item xs={12}>\n                  <DialogButton\n                    fullWidth={true}\n                    onClick={deleted === true ? handleRestore : handleArchive}\n                    onClose={handleArchive}\n                    variant='styled'\n                    size='large'\n                    tooltip=''\n                  >\n                    {deleted === true ? 'Restore' : 'Archive'} Group\n                  </DialogButton>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Card>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Box, Divider, Typography } from '@material-ui/core';\nimport ChildPage from '../../ChildPage';\nimport { useHandleChangeRouteLayout, useLayout } from '../../../layout/hooks';\nimport { tables } from '../../../../database/dbConfig';\nimport { getClassTitle, getDateFromTimestamp, isEmpty, onlyUnique } from '../../../../helpers';\nimport { useFullScreen } from '../../../../hooks';\nimport { useClassData } from '../../../../database/useClassData';\nimport useTableRow from '../../../../database/useTableRow';\nimport useGroupStudents from '../../../../database/useGroupStudents';\nimport RankingModel from '../RankingModel';\nimport MarginDivider from '../../../application/DialogField/MarginDivider';\nimport { defaultAgeRankingModels, defaultRankingModels } from '../../../../database/models/Class';\nimport Session from '../../../../database/models/Session';\nimport Decimal from 'decimal.js-light';\nimport { buildParticipants } from '../ClassGroup';\nimport { ParticipantsDetailed } from '../ParticipantsDetailed';\nimport ResultsSummary from './ResultsSummary';\n\nconst getRankingValue = id => {\n  return defaultRankingModels.find(rm => rm.id === id)?.rankingValue;\n};\n\nexport const getReportData = (sessions: Session[]) => {\n  const surveyQuestions = sessions.map(s => s.surveyQuestions).reduce((f, c) => f.concat(c), []);\n  const surveyQuestionNames = surveyQuestions.map(sq => sq.name).filter(onlyUnique);\n\n  var results = [];\n\n  // For each question create an array of the ranking model and the number of answers for each ranking model\n  surveyQuestionNames.forEach(question => {\n    var preAnswers = [];\n    var postAnswers = [];\n    sessions.forEach(session => {\n      session.surveyQuestions.forEach(sq => {\n        if (sq.name === question) {\n          if (!isEmpty(sq.preSurveyAnswer)) {\n            preAnswers = [\n              ...preAnswers,\n              {\n                session: session,\n                value: getRankingValue(sq.preSurveyAnswer.id)\n              }\n            ];\n          }\n          if (!isEmpty(sq.postSurveyAnswer)) {\n            postAnswers = [\n              ...postAnswers,\n              {\n                session: session,\n                value: getRankingValue(sq.postSurveyAnswer.id)\n              }\n            ];\n          }\n        }\n      });\n    });\n\n    results.push({\n      question,\n      preAnswers,\n      postAnswers,\n      preAnswersAverage: new Decimal(preAnswers.reduce((t, c) => t + c.value, 0)).dividedBy(preAnswers.length).toDecimalPlaces(2).toNumber(),\n      postAnswersAverage: new Decimal(postAnswers.reduce((t, c) => t + c.value, 0)).dividedBy(postAnswers.length).toDecimalPlaces(2).toNumber()\n    });\n  });\n\n  return {\n    ageQuestionData: defaultAgeRankingModels.map(rm => sessions.filter(s => s.ageQuestion.preSurveyAnswer.id === rm.id).length),\n    results\n  };\n};\n\nexport default function ClassReport() {\n  const [state, setState] = React.useState({ loading: false });\n  const [{ groupId, sessions }] = useLayout();\n\n  const { data }: any = useClassData();\n  const { row: group } = useTableRow({ Model: tables.groups, id: groupId, state, setState });\n  const { activeStudents } = useGroupStudents({ groupId });\n  const activeParticipants = buildParticipants(activeStudents, sessions);\n\n  const completed = activeParticipants.map(ap => ap.completed).reduce((t, c) => [...t, ...c], []);\n\n  const { results, ageQuestionData } = getReportData(completed);\n\n  const { rankingModel } = data;\n  const { name, headline } = data;\n\n  const handleChangeRouteLayout = useHandleChangeRouteLayout();\n  const fs = useFullScreen();\n\n  return (\n    <ChildPage\n      backLabel='Back to Class Roster'\n      onBack={handleChangeRouteLayout('/ClassRoster', { class: data })}\n      title={getClassTitle({ headline, name })}\n      subtitle='Class Report'\n    >\n      <Box mt={2}>\n        <Divider />\n        <Grid container style={{ padding: !fs ? 24 : 8 }} spacing={fs ? 2 : 4}>\n          <Grid item xs={12} md={6}>\n            <Typography variant='h5'>{group?.name}</Typography>\n            {!isEmpty(group?.location) && <Typography variant='body2'>Location: {group?.location}</Typography>}\n            {!isEmpty(group?.type) && <Typography variant='body2'>Type: {group?.location}</Typography>}\n            {!isEmpty(group?.created) && (\n              <Box mt={1}>\n                <Typography variant='caption'>Created on {getDateFromTimestamp(group?.created)}</Typography>\n              </Box>\n            )}\n          </Grid>\n          <Grid item xs={12} md={6}>\n            <RankingModel rankingModel={rankingModel} />\n          </Grid>\n          <Grid item xs={12}>\n            <ResultsSummary results={results} ageQuestionData={ageQuestionData} />\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant='h6'>View Individual Answers</Typography>\n            <MarginDivider />\n            <Box mt={2}>\n              <Grid container>\n                <Grid item xs>\n                  {[{ participants: activeParticipants, label: 'Active Participants', view: false, viewReport: true, remove: false }]\n                    .filter(i => i.participants.length > 0)\n                    .map((props, i) => (\n                      <ParticipantsDetailed key={i} {...props} />\n                    ))}\n                </Grid>\n              </Grid>\n            </Box>\n          </Grid>\n        </Grid>\n      </Box>\n    </ChildPage>\n  );\n}\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport { useDialogState } from '../useDialogState';\nimport ResultsSummary from '../../../pages/Class/ClassReport/ResultsSummary';\nimport { getReportData } from '../../../pages/Class/ClassReport/ClassReport';\n\nexport const title = 'View Report';\n\nexport default function ViewReportDialog({ id = title, onClose = undefined, ...other }) {\n  const [state] = useDialogState(id);\n  const { initialValues } = state;\n  const { participant } = initialValues;\n\n  const sessions = participant?.sessions ?? [];\n  const { ageQuestionData, results } = getReportData(sessions);\n\n  return (\n    <GenericDialog\n      id={id}\n      title={title}\n      maxWidth='xl'\n      onClose={onClose}\n      cancelLabel='Done'\n      submitLabel={null}\n      fields={[\n        {\n          id: 'results',\n          Field: () => <ResultsSummary title='Results' ageQuestionData={ageQuestionData} results={results} />\n        }\n      ]}\n      {...other}\n    />\n  );\n}\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport { useDialogState } from '../useDialogState';\nimport { useSnackBar } from '../../SnackBar/useSnackBar';\nimport { useProfile } from '../../../../database/useProfile';\nimport YesNo from '../../DialogField/YesNo';\nimport VinfenSelector from '../../DialogField/VinfenSelector';\nimport MultiSelectCheck from '../../DialogField/MultiSelectCheck';\n\nexport const title = 'Profile';\n\nexport default function ProfileDialog({ id = title, onClose = undefined, ...other }) {\n  const [state, setState] = useDialogState(id);\n  const { initialValues } = state;\n  const [, setSnackbar] = useSnackBar();\n\n  const { profile, setProfile } = useProfile({ id: initialValues?.id, state, setState, shouldSetLayout: false });\n\n  const handleClose = React.useCallback(\n    (props = undefined) => {\n      props && setSnackbar(props);\n      setState(prev => ({ ...prev, open: false, loading: false }));\n      onClose && onClose();\n    },\n    [onClose, setState, setSnackbar]\n  );\n\n  const onError = React.useCallback(() => handleClose({ open: true, variant: 'success', message: 'Error saving profile' }), [handleClose]);\n  const onSuccess = React.useCallback(() => handleClose({ open: true, variant: 'success', message: 'Successfully saved profile' }), [handleClose]);\n  const handleSubmit = React.useCallback((values, setValues) => setProfile({ values, onSuccess, onError }), [setProfile, onSuccess, onError]);\n\n  return (\n    <GenericDialog\n      id={id}\n      title={title}\n      onClose={onClose}\n      cancelLabel='Done'\n      submitLabel={null}\n      initialValues={profile}\n      onSubmit={handleSubmit}\n      fields={[\n        {\n          id: 'name',\n          label: 'Username',\n          required: true,\n          disabled: true\n        },\n        {\n          id: 'email',\n          label: 'Email',\n          disabled: true\n        },\n        { id: 'vinfenServices', label: 'Do you work at or receive services from Vinfen?', Field: YesNo, disabled: true },\n        { id: 'type', label: 'Are you a clinician, a person served by Vinfen or other?', Field: VinfenSelector, disabled: true },\n        {\n          id: 'affiliatedProgram',\n          label: 'Affiliated Vinfen Programs',\n          Field: MultiSelectCheck,\n          disabled: true,\n          hidden: values => values?.type !== 'Person Served by Vinfen',\n          items: [\n            'I go to a Clubhouse',\n            'I go to a Recovery Learning Center',\n            'I go to an outpatient clinic',\n            'I live in a Vinfen group home',\n            'I receive services from a Vinfen team (outreach worker, peer support, housing support, etc)',\n            'Other'\n          ].map(label => ({ value: label, label }))\n        },\n        {\n          id: 'affiliatedProgram',\n          label: 'Affiliated Vinfen Programs',\n          Field: MultiSelectCheck,\n          disabled: true,\n          hidden: values => values?.type !== 'Person Served by Vinfen',\n          items: [\n            'I go to a Clubhouse',\n            'I go to a Recovery Learning Center',\n            'I go to an outpatient clinic',\n            'I live in a Vinfen group home',\n            'I receive services from a Vinfen team (outreach worker, peer support, housing support, etc)',\n            'Other'\n          ].map(label => ({ value: label, label }))\n        },\n        {\n          id: 'clinicianAffiliation',\n          hidden: values => values?.type !== 'Clinician',\n          label: 'Clinical Affiliation',\n          disabled: true\n        },\n        {\n          id: 'otherAffiliation',\n          hidden: values => values?.type !== 'Other',\n          label: 'Other Affiliation',\n          disabled: true\n        }\n      ]}\n      {...other}\n    />\n  );\n}\n","import * as React from 'react';\nimport { makeStyles, Chip, Tooltip } from '@material-ui/core';\nimport { deepPurple, green, red } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles(({ palette }) => ({\n  completed: {\n    margin: 2,\n    color: palette.common.white,\n    background: green[500]\n  },\n  inProgress: {\n    margin: 2,\n    color: palette.common.white,\n    background: deepPurple[300]\n  },\n  archived: {\n    margin: 2,\n    color: palette.common.white,\n    background: red[500]\n  },\n  isAvailable: {\n    margin: 2,\n    color: palette.common.white,\n    background: palette.primary.main\n  }\n}));\n\nexport const getClassStatusLabel = (text, count, check = true) => {\n  const classText = count === 1 ? 'Class' : 'Classes';\n  return check === false ? ` ${count} ${classText} ${text}` : count > 1 ? text + ` (${count})` : text;\n};\n\nexport default function ClassStatusChip({ isArchived = false, inProgress = false, isAvailable = false, label, tooltip = '' }) {\n  const classes = useStyles({});\n  return (\n    <Tooltip title={tooltip}>\n      <Chip\n        className={isArchived ? classes.archived : isAvailable ? classes.isAvailable : inProgress ? classes.inProgress : classes.completed}\n        size='small'\n        variant='outlined'\n        label={label}\n      />\n    </Tooltip>\n  );\n}\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport Label from '../../DialogField/Label';\nimport { useDialogState } from '../useDialogState';\nimport useTableRow from '../../../../database/useTableRow';\nimport { tables } from '../../../../database/dbConfig';\nimport { useLayout } from '../../../layout/hooks';\nimport { useGroups } from '../../../../database/useGroups';\nimport Select from '../../DialogField/Select';\n\nexport const title = 'Change Group';\n\nexport default function ChangeGroupDialog({ id: Id = title, onClose }) {\n  const [state, setState] = useDialogState(Id);\n  const { initialValues, open } = state;\n  const { id } = initialValues; // Get Student Id\n  const [{ instructor }] = useLayout();\n\n  const { data: groups, handleRefresh } = useGroups({\n    active: false,\n    requestParams: instructor && {\n      FilterExpression: '#userId = :userId',\n      ExpressionAttributeNames: {\n        '#userId': 'userId'\n      },\n      ExpressionAttributeValues: {\n        ':userId': instructor?.userId\n      }\n    }\n  });\n\n  React.useEffect(() => {\n    open && handleRefresh();\n  }, [open, handleRefresh]);\n\n  const { row: student, setRow } = useTableRow({ Model: tables.students, id, state, setState });\n\n  const handleClose = React.useCallback(() => {\n    setState(prev => ({ ...prev, open: false, loading: false }));\n    onClose && onClose();\n  }, [onClose, setState]);\n\n  const handleSubmit = React.useCallback(\n    values => {\n      setRow({ values, onSuccess: handleClose });\n    },\n    [setRow, handleClose]\n  );\n\n  const items = groups.map(g => ({\n    label: g.name,\n    value: g.id\n  }));\n\n  return (\n    <GenericDialog\n      id={Id}\n      title={title}\n      submitLabel='Save'\n      onSubmit={handleSubmit}\n      onClose={onClose}\n      initialValues={student}\n      fields={[\n        {\n          label: `Please select desired group:`,\n          Field: Label\n        },\n        {\n          id: 'groupId',\n          label: 'Group',\n          Field: Select,\n          fullWidth: true,\n          items\n        }\n      ]}\n    />\n  );\n}\n","import * as React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles, Grid, Avatar, Typography } from '@material-ui/core';\nimport DialogButton from '../../application/GenericDialog/DialogButton';\nimport { getStudentName, isEmpty, minutesFrom, minutesToTimeAgo } from '../../../helpers';\nimport { useProfile } from '../../../database/useProfile';\nimport * as ViewReportDialog from '../../application/GenericDialog/ViewReport';\nimport * as ProfileDialog from '../../application/GenericDialog/Profile';\nimport { tables } from '../../../database/dbConfig';\nimport useTableRow from '../../../database/useTableRow';\nimport { useSnackBar } from '../../application/SnackBar/useSnackBar';\nimport { green, yellow } from '@material-ui/core/colors';\nimport ClassStatusChip, { getClassStatusLabel } from './ClassStatusChip';\nimport { getObjectUrl } from '../../../aws-exports';\nimport * as ChangeGroupDialog from '../../application/GenericDialog/ChangeGroup';\n\nconst useStyles = makeStyles(({ palette }) => ({\n  root: {\n    display: 'flex',\n    width: 164\n  },\n  completed: {\n    margin: 2,\n    color: palette.common.white,\n    background: green[400]\n  },\n  inProgress: {\n    margin: 2,\n    color: palette.common.white,\n    background: yellow[700]\n  },\n  avatar: {\n    height: 82,\n    width: 82\n  }\n}));\n\nexport default function ParticipantDetailed({\n  participant,\n  className = undefined,\n  view = true,\n  viewReport = false,\n  remove = true,\n  move = false,\n  onRefresh = undefined,\n  onRefreshGroups = undefined,\n  ...rest\n}) {\n  const classes = useStyles();\n  const student = participant?.student;\n  const active = !isEmpty(student?.userId);\n  const { profile } = useProfile({ id: student?.userId, active }); // only pull profile if student has a userId\n  const [state, setState] = React.useState();\n  const { readSetRow } = useTableRow({ Model: tables.students, id: student?.id, state, setState });\n  const [, setSnackbar] = useSnackBar();\n\n  const handleRemove = React.useCallback(\n    deleted => () => {\n      readSetRow({\n        values: { deleted: !deleted },\n        onSuccess: () => {\n          onRefresh && onRefresh();\n          setSnackbar({ open: true, variant: 'success', message: `Successfully ${deleted ? 'restored' : 'deleted'} participant` });\n        }\n      });\n    },\n    [readSetRow, setSnackbar, onRefresh]\n  );\n\n  return (\n    <div className={clsx(classes.root, className)} {...rest}>\n      <Grid container alignItems='center' justify='center' spacing={0}>\n        <Grid item>\n          <Avatar className={classes.avatar} src={getObjectUrl(profile?.picture)} />\n        </Grid>\n        <Grid item xs={12}>\n          <Typography noWrap align='center' variant='subtitle2'>\n            {getStudentName({ student, profile })}\n          </Typography>\n        </Grid>\n        {participant.completed?.length > 0 && (\n          <ClassStatusChip\n            tooltip={getClassStatusLabel('Completed', participant.completed.length, false)}\n            label={getClassStatusLabel('Completed', participant.completed.length)}\n          />\n        )}\n        {participant.inProgress?.length > 0 && (\n          <ClassStatusChip\n            inProgress={true}\n            tooltip={getClassStatusLabel('In Progress', participant.inProgress.length, false)}\n            label={getClassStatusLabel('In Progress', participant.inProgress.length)}\n          />\n        )}\n        {view && !isEmpty(student?.userId) && (\n          <Grid item xs={12} style={{ textAlign: 'center' }}>\n            <DialogButton\n              id={`view-profile-${student?.id}`}\n              Module={ProfileDialog}\n              mount={true}\n              initialValues={{ id: student?.userId }}\n              variant='link'\n              underline='always'\n              linkVariant='body2'\n              fullWidth\n            >\n              View Profile\n            </DialogButton>\n          </Grid>\n        )}\n        {viewReport && !isEmpty(student?.userId) && (\n          <Grid item xs={12} style={{ textAlign: 'center' }}>\n            <DialogButton\n              id={`view-report-${student?.id}`}\n              Module={ViewReportDialog}\n              mount={true}\n              initialValues={{ participant }}\n              variant='link'\n              underline='always'\n              linkVariant='body2'\n              fullWidth\n            >\n              View Report\n            </DialogButton>\n          </Grid>\n        )}\n        {move && (\n          <Grid item xs={12} style={{ textAlign: 'center' }}>\n            <DialogButton\n              id={['change-group', student?.id].join('-')}\n              onClose={onRefreshGroups}\n              Module={ChangeGroupDialog}\n              initialValues={{ id: student?.id }}\n              variant='link'\n              underline='always'\n              linkVariant='body2'\n              fullWidth\n            >\n              Change Group\n            </DialogButton>\n          </Grid>\n        )}\n        {student.accepted === true\n          ? remove && (\n              <Grid item xs={12} style={{ textAlign: 'center' }}>\n                <DialogButton onClick={handleRemove(student?.deleted)} variant='link' underline='always' linkVariant='body2' fullWidth>\n                  {student?.deleted ? 'Restore' : 'Remove'}\n                </DialogButton>\n              </Grid>\n            )\n          : view && <Typography variant='caption'>Sent {minutesToTimeAgo(minutesFrom(student?.created))}</Typography>}\n      </Grid>\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Typography } from '@material-ui/core';\nimport Check from './Check';\nimport { bool } from '../../../helpers';\nimport ParticipantDetailed from '../../pages/Class/ParticipantDetailed';\n\nexport default function StudentAttendance({ value = {}, onChange = undefined }) {\n  const value_str = JSON.stringify(value);\n  const handleCheck = React.useCallback(\n    student => event => {\n      const newStudents = JSON.parse(value_str);\n      newStudents[student.id] = { ...student, present: !bool(student.present) };\n      onChange && onChange({ target: { value: newStudents } });\n    },\n    [value_str, onChange]\n  );\n\n  const students = Object.keys(value).map(k => value[k]);\n  return students.length === 0 ? (\n    <>\n      <Typography color='secondary'>There are no active students in group.</Typography>\n    </>\n  ) : (\n    <Grid container spacing={2}>\n      <Grid item xs={12}>\n        <Grid container justify='space-between' spacing={1}>\n          <Grid item xs>\n            <Typography>Student</Typography>\n          </Grid>\n          <Grid item style={{ width: 64 }}>\n            <Typography>Present</Typography>\n          </Grid>\n        </Grid>\n      </Grid>\n      {students.map(student => (\n        <Grid item key={student.id} xs={12}>\n          <Grid container justify='space-between' spacing={1}>\n            <Grid item xs>\n              <ParticipantDetailed participant={{ student }} view={false} remove={false} viewReport={false} />\n            </Grid>\n            <Grid item style={{ width: 64 }}>\n              <Check value={student.present} color='primary' onChange={handleCheck(student)} />\n            </Grid>\n          </Grid>\n        </Grid>\n      ))}\n    </Grid>\n  );\n}\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport { useDialogState } from '../useDialogState';\nimport { useAttendanceRow } from '../../../../database/useAttendanceRow';\nimport StudentAttendance from '../../DialogField/StudentAttendance';\nimport deepmerge from 'deepmerge';\nimport { uuid } from '../../../../helpers';\nimport useEventGroupAttendance from '../../../../database/useEventGroupAttendance';\nimport useGroupStudents from '../../../../database/useGroupStudents';\n\nexport const title = 'Mark Event Attendance';\n\nexport default function MarkEventAttendanceDialog({ id: Id = title, onClose }) {\n  const [{ initialValues = {}, open }, setState] = useDialogState(Id);\n  const { eventId, groupId } = initialValues;\n\n  // Pull the student information\n  const { state, activeStudents } = useGroupStudents({ groupId, active: open });\n  initialValues.students = activeStudents.reduce((f, c) => {\n    f[c.id] = c;\n    return f;\n  }, {});\n\n  const { data: rows, loading, success, handleRefresh } = useEventGroupAttendance({ eventId, groupId });\n\n  React.useEffect(() => {\n    open && handleRefresh();\n  }, [open, handleRefresh]);\n\n  const row = rows ? rows[0] : undefined;\n  const rowStr = row && JSON.stringify(row);\n\n  const [id, setId] = React.useState();\n\n  // Sets the id to match an existing database row if it exists, otherwise set a new id\n  React.useEffect(() => {\n    const row = rowStr && JSON.parse(rowStr);\n    if (open && loading === false && success === true) {\n      if (row) {\n        setId(row?.id);\n      } else {\n        setId(uuid());\n      }\n    }\n  }, [open, loading, success, rowStr]);\n\n  const { updateData } = useAttendanceRow({ id, active: false }); // Get hook for updating db row\n\n  const merged = deepmerge(initialValues ?? {}, row ?? {});\n  const iv = { id, ...(merged as any) };\n\n  const handleClose = React.useCallback(() => {\n    setState(prev => ({ ...prev, open: false, loading: false }));\n    onClose && onClose();\n  }, [onClose, setState]);\n\n  const handleSubmit = React.useCallback(\n    values => {\n      updateData(values, handleClose);\n    },\n    [updateData, handleClose]\n  );\n\n  return (\n    <GenericDialog\n      id={Id}\n      loading={loading || state?.loading}\n      title={title}\n      submitLabel='Save'\n      onSubmit={handleSubmit}\n      onClose={onClose}\n      initialValues={iv}\n      fields={[\n        {\n          id: 'id',\n          hidden: true\n        },\n        {\n          id: 'eventId',\n          hidden: true\n        },\n        {\n          id: 'groupId',\n          hidden: true\n        },\n        {\n          id: 'date',\n          hidden: true\n        },\n        {\n          id: 'dateString',\n          hidden: true\n        },\n        {\n          id: 'students',\n          label: 'Students',\n          autoFocus: true,\n          Field: StudentAttendance\n        }\n      ]}\n    />\n  );\n}\n","import { useAttendance } from '../database/useAttendance';\nimport { isEmpty } from '../helpers';\n\nexport const title = 'Mark Event Attendance';\n\nexport default function useEventGroupAttendance({ eventId, groupId, date = undefined, active = true }) {  \n  return useAttendance({\n    active: active && !isEmpty(eventId) && !isEmpty(groupId),\n    requestParams: isEmpty(eventId)\n      ? undefined\n      : date === undefined\n      ? {\n          FilterExpression: '#eventId = :eventId AND #groupId = :groupId',\n          ExpressionAttributeNames: {\n            '#eventId': 'eventId',\n            '#groupId': 'groupId'\n          },\n          ExpressionAttributeValues: {\n            ':eventId': eventId,\n            ':groupId': groupId\n          }\n        }\n      : {\n          FilterExpression: '#eventId = :eventId AND #groupId = :groupId AND #date = :date',\n          ExpressionAttributeNames: {\n            '#eventId': 'eventId',\n            '#groupId': 'groupId',\n            '#date': 'date'\n          },\n          ExpressionAttributeValues: {\n            ':eventId': eventId,\n            ':groupId': groupId,\n            ':date': date\n          }\n        }\n  });\n}\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport { useDialogState } from '../useDialogState';\nimport useProcessData from '../../../../database/useProcessData';\nimport { tables } from '../../../../database/dbConfig';\nimport Switch from '../../DialogField/Switch';\nimport DateTimePicker from '../../DialogField/DateTimePicker';\nimport useTableRow from '../../../../database/useTableRow';\nimport { useGroups } from '../../../../database/useGroups';\nimport { useUserId } from '../../../layout/hooks';\nimport { useIsInstructorMode } from '../../../../hooks';\nimport Select from '../../DialogField/Select';\nimport DialogButton from '../DialogButton';\nimport * as MarkEventAttendanceDialog from '../MarkEventAttendance';\nimport Label from '../../DialogField/Label';\nimport { Divider } from '@material-ui/core';\n\nexport const title = 'Edit Event';\nconst Model = tables.events;\n\nconst MarkAttendanceButton = ({ values }) => {\n  const { id, groupId } = values;\n\n  return (\n    <DialogButton\n      disabled={!groupId}\n      Module={MarkEventAttendanceDialog}\n      mount={false}\n      fullWidth={true}\n      variant='styled'\n      size='large'\n      tooltip=''\n      initialValues={{\n        eventId: id,\n        groupId\n      }}\n    >\n      View or Mark Attendance\n    </DialogButton>\n  );\n};\n\nexport default function EditEventDialog({ id = title, disabled = false, onClose }) {\n  const [{ eventId, open }, setState] = useDialogState(id);\n\n  const userId = useUserId(); // Only instructors can currently create events, so grab the user id\n  const isInstructorMode = useIsInstructorMode();\n\n  //Edit event can either be instructor or admin, so select groups accordningly\n\n  const { data: groups } = useGroups({\n    requestParams: isInstructorMode && {\n      // If instructor mode, then filter groups by instructor's userId\n      FilterExpression: '#userId = :userId',\n      ExpressionAttributeNames: {\n        '#userId': 'userId'\n      },\n      ExpressionAttributeValues: {\n        ':userId': userId\n      }\n    }\n  });\n\n  const { row: initialValues } = useTableRow({ id: eventId, Model: tables.events, active: open });\n\n  const handleClose = React.useCallback(\n    (props = undefined) => {\n      setState(prev => ({ ...prev, open: false, loading: false }));\n      onClose && onClose();\n    },\n    [onClose, setState]\n  );\n\n  const processData = useProcessData();\n\n  const submitData = React.useCallback(\n    ({ values, OnSuccess }) => {\n      const Data = values;\n      setState(prev => ({ ...prev, loading: true }));\n      processData({\n        Model,\n        Action: 'u',\n        Data,\n        onError: () => setState(prev => ({ ...prev, loading: false, error: 'Error submitting values' })),\n        onSuccess: () => OnSuccess(Data)\n      });\n    },\n    [setState, processData]\n  );\n\n  const onError = React.useCallback(() => {\n    handleClose({ open: true, variant: 'error', message: 'Error' });\n  }, [handleClose]);\n\n  const onSuccess = React.useCallback(() => {\n    handleClose({ open: true, variant: 'success', message: 'Success' });\n  }, [handleClose]);\n\n  const handleDelete = React.useCallback(\n    values => {\n      const Data = { ...values, deleted: true };\n      setState(prev => ({ ...prev, loading: true }));\n      processData({\n        Model,\n        Action: 'u',\n        Data,\n        onError: () => setState(prev => ({ ...prev, loading: false, error: 'Error submitting values' })),\n        onSuccess: () => onSuccess()\n      });\n    },\n    [setState, processData, onSuccess]\n  );\n\n  const handleSubmit = React.useCallback(values => submitData({ values, OnSuccess: onSuccess, OnError: onError }), [submitData, onSuccess, onError]);\n\n  return (\n    <GenericDialog\n      id={id}\n      title={disabled ? 'View Event' : id}\n      onSubmit={handleSubmit}\n      initialValues={initialValues}\n      onClose={onClose}\n      onDelete={!disabled ? handleDelete : undefined}\n      submitLabel={disabled ? null : 'Save'}\n      cancelLabel='Close'\n      fields={[\n        {\n          id: 'id',\n          hidden: true\n        },\n        {\n          Field: Label,\n          label: 'Event Information'\n        },\n        {\n          Field: Divider\n        },\n        {\n          id: 'title',\n          label: 'Title',\n          required: true,\n          disabled\n        },\n        {\n          id: 'description',\n          label: 'Description',\n          disabled\n        },\n        {\n          id: 'allDay',\n          label: 'All day',\n          Field: Switch,\n          disabled\n        },\n        {\n          id: 'start',\n          label: 'Start',\n          Field: DateTimePicker,\n          disabled\n        },\n        {\n          id: 'end',\n          label: 'End',\n          Field: DateTimePicker,\n          disabled\n        },\n        {\n          id: 'groupId',\n          label: value => groups.find(g => g.id === value)?.name,\n          Field: Label,\n          items: groups.map(g => ({ label: g.name, value: g.id })),\n          disableClearable: true,\n          required: true,\n          fullWidth: true,\n          disabled: true,\n          xs: 4\n        },\n        {\n          Field: Label,\n          label: 'Attendance Information',\n          style: { marginTop: 8 }\n        },\n        {\n          Field: Divider\n        },\n        {\n          id: 'groupId',\n          label: 'Group',\n          Field: Select,\n          items: groups.map(g => ({ label: g.name, value: g.id })),\n          disableClearable: true,\n          required: true,\n          fullWidth: true,\n          disabled: true,\n          xs: 4\n        },\n        {\n          id: 'groupId',\n          Field: MarkAttendanceButton\n        }\n      ]}\n    />\n  );\n}\n","import '@fullcalendar/core/main.css';\nimport '@fullcalendar/daygrid/main.css';\nimport '@fullcalendar/timegrid/main.css';\nimport '@fullcalendar/list/main.css';\nimport React, { useState, useRef, useEffect } from 'react';\nimport moment from 'moment';\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport listPlugin from '@fullcalendar/list';\nimport timelinePlugin from '@fullcalendar/timeline';\nimport { Container, Paper, useTheme, useMediaQuery, makeStyles } from '@material-ui/core';\nimport type { View } from '../../../types/calendar';\nimport Header from './Header';\nimport Toolbar from './Toolbar';\nimport * as EditEventDialog from '../GenericDialog/EditEvent';\nimport { renderDialogModule } from '../GenericDialog/DialogButton';\nimport { useDialogState } from '../GenericDialog/useDialogState';\nimport * as EventDialog from '../GenericDialog/Event';\nimport * as MarkEventAttendanceDialog from '../GenericDialog/MarkEventAttendance';\nimport { uuid } from '../../../helpers';\nimport { useUserId } from '../../layout/hooks';\n\nconst useStyles = makeStyles((theme: any) => ({\n  root: {\n    backgroundColor: theme.palette.background.dark,\n    minHeight: '100%',\n    paddingTop: theme.spacing(3),\n    paddingBottom: theme.spacing(3)\n  },\n  calendar: {\n    marginTop: theme.spacing(3),\n    padding: theme.spacing(2),\n    '& .fc-unthemed .fc-head': {\n      backgroundColor: theme.palette.background.dark\n    },\n    '& .fc-unthemed .fc-body': {\n      backgroundColor: theme.palette.background.default\n    },\n    '& .fc-unthemed .fc-row': {\n      borderColor: theme.palette.divider\n    },\n    '& .fc-unthemed .fc-axis': {\n      ...theme.typography.body2\n    },\n    '& .fc-unthemed .fc-divider': {\n      backgroundColor: theme.palette.background.dark,\n      borderColor: theme.palette.divider\n    },\n    '& .fc-unthemed th': {\n      borderColor: theme.palette.divider\n    },\n    '& .fc-unthemed td': {\n      borderColor: theme.palette.divider\n    },\n    '& .fc-unthemed td.fc-today': {\n      backgroundColor: theme.palette.background.dark\n    },\n    '& .fc-unthemed .fc-highlight': {\n      backgroundColor: theme.palette.background.dark\n    },\n    '& .fc-unthemed .fc-event': {\n      backgroundColor: theme.palette.secondary.main,\n      color: theme.palette.secondary.contrastText,\n      borderWidth: 2,\n      opacity: 0.9,\n      '& .fc-time': {\n        ...theme.typography.h6,\n        color: 'inherit'\n      },\n      '& .fc-title': {\n        ...theme.typography.body1,\n        color: 'inherit'\n      }\n    },\n    '& .fc-unthemed .fc-day-top': {\n      ...theme.typography.body2\n    },\n    '& .fc-unthemed .fc-day-header': {\n      ...theme.typography.subtitle2,\n      fontWeight: theme.typography.fontWeightMedium,\n      color: theme.palette.text.secondary,\n      padding: theme.spacing(1),\n      backgroundColor: theme.palette.background.dark\n    },\n    '& .fc-unthemed .fc-list-view': {\n      borderColor: theme.palette.divider\n    },\n    '& .fc-unthemed .fc-list-empty': {\n      ...theme.typography.subtitle1\n    },\n    '& .fc-unthemed .fc-list-heading td': {\n      backgroundColor: theme.palette.background.dark,\n      borderColor: theme.palette.divider\n    },\n    '& .fc-unthemed .fc-list-heading-main': {\n      ...theme.typography.h6\n    },\n    '& .fc-unthemed .fc-list-heading-alt': {\n      ...theme.typography.h6\n    },\n    '& .fc-unthemed .fc-list-item:hover td': {\n      backgroundColor: theme.palette.background.dark\n    },\n    '& .fc-unthemed .fc-list-item-title': {\n      ...theme.typography.body1\n    },\n    '& .fc-unthemed .fc-list-item-time': {\n      ...theme.typography.body2\n    }\n  }\n}));\n\nconst CalendarView = ({ events, readSetRow, handleRefresh, create = false, edit = false }) => {\n  const classes = useStyles();\n  const calendarRef = useRef<FullCalendar | null>(null);\n  const theme = useTheme();\n  const mobileDevice = useMediaQuery(theme.breakpoints.down('sm'));\n\n  const [date, setDate] = useState<Date>(moment().toDate());\n  const [view, setView] = useState<View>(mobileDevice ? 'listWeek' : 'dayGridMonth');\n\n  const [, setDialogState] = useDialogState('Add Event');\n  const [, setEditDialogState] = useDialogState('Edit Event');\n\n  const handleDateToday = (): void => {\n    const calendarEl = calendarRef.current;\n\n    if (calendarEl) {\n      const calendarApi = calendarEl.getApi();\n\n      calendarApi.today();\n      setDate(calendarApi.getDate());\n    }\n  };\n\n  const handleViewChange = (newView: View): void => {\n    const calendarEl = calendarRef.current;\n\n    if (calendarEl) {\n      const calendarApi = calendarEl.getApi();\n\n      calendarApi.changeView(newView);\n      setView(newView);\n    }\n  };\n\n  const handleDatePrev = (): void => {\n    const calendarEl = calendarRef.current;\n\n    if (calendarEl) {\n      const calendarApi = calendarEl.getApi();\n\n      calendarApi.prev();\n      setDate(calendarApi.getDate());\n    }\n  };\n\n  const handleDateNext = (): void => {\n    const calendarEl = calendarRef.current;\n\n    if (calendarEl) {\n      const calendarApi = calendarEl.getApi();\n\n      calendarApi.next();\n      setDate(calendarApi.getDate());\n    }\n  };\n\n  const userId = useUserId();\n\n  const handleRangeSelect = (arg: any): void => {\n    const calendarEl = calendarRef.current;\n\n    if (calendarEl) {\n      const calendarApi = calendarEl.getApi();\n\n      calendarApi.unselect();\n    }\n\n    setDialogState({\n      open: true,\n      initialValues: {\n        id: uuid(),\n        userId,\n        allDay: false,\n        color: '',\n        description: '',\n        end: moment(arg.start).add(1, 'hours').toDate(), //new Date(arg.end),\n        start: new Date(arg.start),\n        frequency: 'Once',\n        frequencyEnd: moment(arg.start).add(1, 'months').toDate(),\n        title: '',\n        submit: null\n      }\n    });\n  };\n\n  const handleEventSelect = (arg: any): void => {\n    setEditDialogState({\n      open: true,\n      type: 'Edit',\n      eventId: arg.event.id\n    });\n  };\n\n  const handleEventResize = async ({ event }: any): Promise<void> => {\n    readSetRow({\n      id: event.id,\n      values: {\n        allDay: event.allDay,\n        start: event.start.toISOString(),\n        end: event.end.toISOString()\n      },\n      onSuccess: handleRefresh\n    });\n  };\n\n  const handleEventDrop = async ({ event }: any): Promise<void> => {\n    readSetRow({\n      id: event.id,\n      values: {\n        allDay: event.allDay,\n        start: event.start.toISOString(),\n        end: event.end.toISOString()\n      },\n      onSuccess: handleRefresh\n    });\n  };\n\n  useEffect(() => {\n    const calendarEl = calendarRef.current;\n\n    if (calendarEl) {\n      const calendarApi = calendarEl.getApi();\n      const newView = mobileDevice ? 'listWeek' : 'dayGridMonth';\n\n      calendarApi.changeView(newView);\n      setView(newView);\n    }\n  }, [mobileDevice]);\n\n  return (\n    <Container maxWidth={false}>\n      {create && renderDialogModule({ ...EventDialog, onClose: handleRefresh })}\n      {renderDialogModule({ ...EditEventDialog, disabled: !edit, onClose: handleRefresh })}\n      {renderDialogModule({ ...MarkEventAttendanceDialog, onClose: handleRefresh })}\n      {create && <Header />}\n      <Toolbar date={date} onDateNext={handleDateNext} onDatePrev={handleDatePrev} onDateToday={handleDateToday} onViewChange={handleViewChange} view={view} />\n      <Paper className={classes.calendar}>\n        <FullCalendar\n          allDayMaintainDuration\n          defaultDate={date}\n          defaultView={view}\n          droppable\n          editable\n          eventClick={handleEventSelect}\n          eventDrop={handleEventDrop}\n          eventLimit\n          eventResizableFromStart\n          eventResize={handleEventResize}\n          events={events.filter(e => !e.deleted)}\n          header={false}\n          height={800}\n          ref={calendarRef}\n          rerenderDelay={10}\n          select={handleRangeSelect}\n          selectable\n          weekends\n          plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin, listPlugin, timelinePlugin]}\n        />\n      </Paper>\n    </Container>\n  );\n};\n\nexport default CalendarView;\n","import * as React from 'react';\nimport { tables } from '../../../database/dbConfig';\nimport useTableRow from '../../../database/useTableRow';\nimport CalendarView from '../../application/Calendar';\nimport Page from '../Page';\nimport useEvents from './useEvents';\n\nexport default function AdminCalendar() {\n  const { data: events, handleRefresh } = useEvents();\n  const { readSetRow } = useTableRow({ Model: tables.events });\n  return (\n    <Page title='Admin Calendar'>\n      <CalendarView create={false} edit={true} events={events.filter(e => !e.deleted)} readSetRow={readSetRow} handleRefresh={handleRefresh} />\n    </Page>\n  );\n}\n","import * as React from 'react';\nimport { tables } from '../../../database/dbConfig';\nimport useTableRow from '../../../database/useTableRow';\nimport CalendarView from '../../application/Calendar';\nimport { useLayout } from '../../layout/hooks';\nimport Page from '../Page';\nimport { useEventsByUserId } from './useEvents';\n\nexport default function StudentCalendar() {\n  const [{ student }] = useLayout();\n  const { parentId } = student;\n  const { data: events, handleRefresh } = useEventsByUserId({ userId: parentId });\n  const { readSetRow } = useTableRow({ Model: tables.events });\n  return (\n    <Page title='Student Calendar'>\n      <CalendarView create={false} edit={false} events={events.filter(e => !e.deleted)} readSetRow={readSetRow} handleRefresh={handleRefresh} />\n    </Page>\n  );\n}\n","import * as React from 'react';\nimport { tables } from '../../../database/dbConfig';\nimport useTableRow from '../../../database/useTableRow';\nimport CalendarView from '../../application/Calendar';\nimport { useUserId } from '../../layout/hooks';\nimport Page from '../Page';\nimport { useEventsByUserId } from './useEvents';\n\nexport default function InstructorCalendar() {\n  const userId = useUserId();\n  const { data: events, handleRefresh } = useEventsByUserId({ userId });\n  const { readSetRow } = useTableRow({ Model: tables.events });\n  return (\n    <Page title='Instructor Calendar'>\n      <CalendarView create={true} edit={true} events={events.filter(e => !e.deleted)} readSetRow={readSetRow} handleRefresh={handleRefresh} />\n    </Page>\n  );\n}\n","import * as React from 'react';\nimport { useIsAdminMode, useIsStudentMode } from '../../../hooks';\nimport AdminCalendar from './AdminCalendar';\nimport StudentCalendar from './StudentCalendar';\nimport InstructorCalendar from './InstructorCalendar';\n\nexport default function Calendar() {\n  const isAdminMode = useIsAdminMode();\n  const isStudentMode = useIsStudentMode();\n  return isStudentMode ? <StudentCalendar /> : isAdminMode ? <AdminCalendar /> : <InstructorCalendar />;\n}\n","import calendar from '../../../images/calendar.png';\nimport wifi from '../../../images/wifi.png';\nimport picture from '../../../images/picture.png';\nimport contacts from '../../../images/contacts.png';\nimport musicplayer from '../../../images/musicplayer.png';\nimport newspaper from '../../../images/newspaper.png';\nimport checkbox from '../../../images/checkbox.png';\nimport video from '../../../images/video.png';\n\nexport const images = {\n  wifi,\n  calendar,\n  picture,\n  contacts,\n  musicplayer,\n  newspaper,\n  checkbox,\n  video\n};\n\nexport const getImage = key => images[key];\n","import React from 'react';\nimport clsx from 'clsx';\nimport { Box, Card, Typography, makeStyles, Grid, Tooltip } from '@material-ui/core';\nimport StyledButton from '../../general/StyledButton';\nimport { BlockListItem } from '../../general/BlockList';\nimport { getImage } from './helpers';\nimport { timeAgo } from '../../../helpers';\nimport ClassStatusChip, { getClassStatusLabel } from './ClassStatusChip';\nimport DialogButton from '../../application/GenericDialog/DialogButton';\nimport useTableRow from '../../../database/useTableRow';\nimport { tables } from '../../../database/dbConfig';\n\nconst minHeight = 96;\nconst useStyles = makeStyles(({ palette, spacing }) => ({\n  root: {\n    minHeight: 450\n  },\n  header: {\n    color: palette.common.black,\n    padding: spacing(2),\n    minHeight\n  },\n  imageContainer: {\n    marginTop: spacing(4),\n    textAlign: 'center',\n    marginBottom: spacing(4)\n  },\n  summary: {\n    minHeight: 124,\n    alignItems: 'center',\n    color: palette.common.white,\n    background: palette.primary.light,\n    padding: spacing(1, 2, 1, 2)\n  }\n}));\n\nconst KeySkills = ({ keySkills }) => {\n  return keySkills.map(({ id, name }) => (\n    <Typography key={id} component='h6' gutterBottom variant='subtitle1'>\n      {name}\n    </Typography>\n  ));\n};\n\nconst maxKeySkills = 3;\n\nexport default function Class({\n  id,\n  Model = tables.classes,\n  preRecsMet = true, // default to try by default, if a student this may be false\n  inProgress = false,\n  isAvailable = false,\n  buttonLabel = 'View',\n  buttonLabel2 = undefined,\n  headline = '',\n  name = '',\n  updated = undefined,\n  created = undefined,\n  canArchive = false,\n  completed,\n  deleted,\n  showUpdated = false,\n  image = 'calendar',\n  keySkills = [] as BlockListItem[],\n  className = undefined,\n  onClick = undefined,\n  onClick2 = undefined,\n  rankingModel = [] as BlockListItem[],\n  surveyQuestions = [] as BlockListItem[],\n  classResources = [],\n  classPresentations = [],\n  showChildClasses = false,\n  ActionButton = undefined as any,\n  childClasses = [],\n  onRefresh = undefined,\n  ...rest\n}) {\n  const classes = useStyles();\n  const filteredKeySkills = keySkills.filter((ks, i) => i < maxKeySkills);\n  const moreKeySkills = keySkills.filter((ks, i) => i >= maxKeySkills);\n\n  const { readSetRow } = useTableRow({ id, Model });\n\n  const handleArchive = React.useCallback(() => {\n    readSetRow({ values: { deleted: true }, onSuccess: onRefresh });\n  }, [readSetRow, onRefresh]);\n\n  const handleRestore = React.useCallback(() => {\n    readSetRow({ values: { deleted: false }, onSuccess: onRefresh });\n    onRefresh && onRefresh();\n  }, [readSetRow, onRefresh]);\n\n  return (\n    <Card className={clsx(classes.root, className)}>\n      <div className={classes.header}>\n        <Grid container justify='space-between'>\n          <Grid item zeroMinWidth xs>\n            <Typography noWrap gutterBottom variant='subtitle1' color='textSecondary'>\n              {headline}\n            </Typography>\n            <Typography noWrap gutterBottom variant='h6' color='textPrimary'>\n              {name}\n            </Typography>\n          </Grid>\n          {deleted ? (\n            <Grid item>\n              <ClassStatusChip isArchived={true} label={getClassStatusLabel('Archived', 1)} />\n            </Grid>\n          ) : ActionButton ? (\n            <Grid item>{ActionButton}</Grid>\n          ) : completed ? (\n            <Grid item>\n              <ClassStatusChip label={getClassStatusLabel('Completed', 1)} />\n            </Grid>\n          ) : inProgress ? (\n            <Grid item>\n              <ClassStatusChip inProgress={inProgress} label={getClassStatusLabel('In Progress', 1)} />\n            </Grid>\n          ) : isAvailable ? (\n            <Grid item>\n              <ClassStatusChip isAvailable={isAvailable} label={getClassStatusLabel('Available', 1)} />\n            </Grid>\n          ) : (\n            <></>\n          )}\n        </Grid>\n      </div>\n      <div className={classes.imageContainer}>\n        <img src={getImage(image)} alt={headline} />\n      </div>\n      <Grid container className={classes.summary} alignItems='center'>\n        <Grid item>\n          {keySkills.length <= maxKeySkills + 1 ? (\n            <KeySkills keySkills={keySkills} />\n          ) : (\n            <>\n              <KeySkills keySkills={filteredKeySkills} />\n              {moreKeySkills.length > 0 && (\n                <Tooltip title={<KeySkills keySkills={moreKeySkills} />}>\n                  <Typography>\n                    {moreKeySkills.length} Additional Key Skill{moreKeySkills.length === 1 ? '' : 's'}\n                  </Typography>\n                </Tooltip>\n              )}\n            </>\n          )}\n        </Grid>\n      </Grid>\n      <Box m={2} textAlign='center'>\n        <Grid container justify='center' spacing={2}>\n          {deleted ? (\n            <Grid item>\n              <StyledButton disabled={true}>Archived</StyledButton>\n            </Grid>\n          ) : !preRecsMet ? (\n            <Box m={1}>\n              <Typography color='error'>Pre-requisite not met</Typography>\n              <Typography>Complete required classes to enable</Typography>\n            </Box>\n          ) : (\n            <>\n              <Grid item>\n                <StyledButton onClick={onClick}>{buttonLabel}</StyledButton>\n              </Grid>\n              {buttonLabel2 && (\n                <Grid item>\n                  <StyledButton onClick={onClick2}>{buttonLabel2}</StyledButton>\n                </Grid>\n              )}\n            </>\n          )}\n        </Grid>\n      </Box>\n      <Grid container style={{ paddingLeft: 8, paddingRight: 8 }} alignItems='center' justify='space-between'>\n        <Grid item>\n          {showUpdated && (\n            <Typography noWrap align='right' variant='caption' color='textPrimary'>\n              {`Last updated ${timeAgo(updated ?? created)}`}\n            </Typography>\n          )}\n          {completed && !showUpdated && (\n            <Typography noWrap align='right' variant='caption' color='textPrimary'>\n              {`Completed ${timeAgo(updated ?? created)}`}\n            </Typography>\n          )}\n        </Grid>\n        {(showChildClasses || childClasses.length > 0) && (\n          <Grid item>\n            <Typography variant='caption'>\n              {childClasses.length} Instructor{childClasses.length === 1 ? '' : 's'}\n            </Typography>\n          </Grid>\n        )}\n        {canArchive && (\n          <Grid item>\n            <DialogButton onClick={deleted === true ? handleRestore : handleArchive} variant='link' underline='always'>\n              {deleted === true ? 'Restore' : 'Archive'}\n            </DialogButton>\n          </Grid>\n        )}\n      </Grid>\n    </Card>\n  );\n}\n","import * as React from 'react';\nimport useTable from '../../../database/useTable';\nimport { tables } from '../../../database/dbConfig';\nimport { sortHeadlineDescending } from '../../../helpers';\n\nconst Model = tables.classes;\n\nexport default function useClasses({ requestParams = undefined } = {}) {\n  const { state, handleRequest } = useTable({ TableName: Model });\n  const { data, loading, success } = state as any;\n\n  const handleRefresh = React.useCallback(() => {\n    handleRequest(requestParams);\n    // eslint-disable-next-line\n  }, [JSON.stringify(requestParams), handleRequest]);\n\n  React.useEffect(() => {\n    handleRefresh();\n  }, [handleRefresh]);\n\n  const rows = Object.keys(data).map(k => ({ ...data[k] }));\n\n  return {\n    data: rows?.sort(sortHeadlineDescending),\n    handleRefresh,\n    loading,\n    success\n  };\n}\n\nexport const useClassesByUserId = ({ userId }) => {\n  return useClasses({\n    requestParams: {\n      FilterExpression: '#userId = :userId',\n      ExpressionAttributeNames: {\n        '#userId': 'userId'\n      },\n      ExpressionAttributeValues: {\n        ':userId': userId\n      }\n    }\n  });\n};\n","import useClasses from './useClasses';\n\nexport default function useClassesByUserId({ userId, parentUserId = undefined }) {\n  return useClasses({\n    requestParams: parentUserId\n      ? {\n          FilterExpression: '#userId = :userId OR #parentUserId = :parentUserId',\n          ExpressionAttributeNames: {\n            '#userId': 'userId',\n            '#parentUserId': 'parentUserId'\n          },\n          ExpressionAttributeValues: {\n            ':userId': userId,\n            ':parentUserId': parentUserId\n          }\n        }\n      : {\n          FilterExpression: '#userId = :userId',\n          ExpressionAttributeNames: {\n            '#userId': 'userId'\n          },\n          ExpressionAttributeValues: {\n            ':userId': userId\n          }\n        }\n  });\n}\n","import { useUserId } from '../components/layout/hooks';\nimport { tables } from './dbConfig';\nimport { useTableData } from './useTableData';\n\nexport default function useStudentsByUserId({ userId: UserId = undefined, loadOnMount = false } = {}) {\n  const userId = useUserId();\n\n  const { data, loading, success, handleRefresh } = useTableData({\n    loadOnMount,\n    TableName: tables.students,\n    requestParams: {\n      FilterExpression: '#userId = :userId AND #accepted = :accepted AND (#deleted = :deleted OR attribute_not_exists(#deleted))',\n      ExpressionAttributeNames: {\n        '#userId': 'userId',\n        '#accepted': 'accepted',\n        '#deleted': 'deleted'\n      },\n      ExpressionAttributeValues: {\n        ':userId': UserId ? UserId : userId,\n        ':accepted': true,\n        ':deleted': false\n      }\n    }\n  });\n\n  const completed = loading === false && success === true;\n  return {\n    loading,\n    students: completed ? data : undefined,\n    handleRefresh\n  };\n}\n","import * as React from 'react';\nimport { Box, Grid, Typography } from '@material-ui/core';\nimport Class from '../Class';\nimport Page from '../../Page';\nimport { useChangeRouteLayout, useHandleChangeRouteLayout, useLayout } from '../../../layout/hooks';\nimport { useHandleCreateSession, useSessionsByStudentId } from '../../../../database/useSessions';\nimport { sortUdpatedDescending } from '../../../../helpers';\nimport useClassesByUserId from '../useClassesByUserId';\nimport { tables } from '../../../../database/dbConfig';\nimport DialogButton from '../../../application/GenericDialog/DialogButton';\nimport useStudentsByUserId from '../../../../database/useStudentsByUserId';\n\nconst nextRoute = '/Pre-Survey';\n\nconst preRecsMet = (preRecs = {}, groupIds = [], completedClasses = []) => {\n  var pass = true;\n\n  Object.keys(preRecs).forEach(id => {\n    const pr = preRecs[id];\n    const { classId, groupId } = pr;\n    var g = groupIds.find(gId => gId === groupId);\n    var c = completedClasses.find(cc => cc.id === classId);\n    if ((groupId === 'All Groups' || g) && !c) {\n      // If pre req specifies all groups or a user belongs to the specified group and a comleted class can not be found, then the pre-rec does not pass\n      pass = false;\n    }\n  });\n  return pass;\n};\n\nexport default function StudentClasses() {\n  const [{ student }] = useLayout();\n  const { id: studentId, userId: studentUserId, parentId } = student;\n\n  // To get associated groups, grab all student entries then obtain the groupId's\n  const { students = [], loading: loadingStudents } = useStudentsByUserId({ userId: studentUserId, loadOnMount: true });\n  const groupIds = students.map(s => s.groupId); // Gets all active, non deleted group id's related to the student\n\n  const { data: instructorClasses, handleRefresh: handleRefreshClasses, loading } = useClassesByUserId({ userId: parentId });\n\n  const { sessions, handleRefresh: handleRefreshSessions, loading: loadingSessions } = useSessionsByStudentId({ studentId });\n\n  const handleRefresh = React.useCallback(() => {\n    handleRefreshClasses();\n    handleRefreshSessions();\n  }, [handleRefreshClasses, handleRefreshSessions]);\n\n  const deleted = sessions.filter(c => c.deleted).sort(sortUdpatedDescending);\n  const completed = sessions.filter(c => c.completed === true && !c.deleted).sort(sortUdpatedDescending);\n  const inProgress = sessions.filter(c => c.completed !== true && !c.deleted).sort(sortUdpatedDescending);\n\n  const handleChangeRouteLayout = useHandleChangeRouteLayout();\n  const changeRouteLayout = useChangeRouteLayout();\n\n  const handleCreateSession = useHandleCreateSession({ studentId, studentUserId, nextRoute });\n\n  const handleResume = React.useCallback(\n    session => () => {\n      // Restore the last route, if applicable\n      const route = ['/Pre-Survey', '/Lessons', '/Post-Survey', '/Resources'].find(r => r === session?.currentRoute) ?? nextRoute;\n      changeRouteLayout(route, { session });\n    },\n    [changeRouteLayout]\n  );\n\n  const [showArchived, setShowArchived] = React.useState(false);\n\n  const ShowButton = React.useCallback(() => {\n    return (\n      <DialogButton size='large' onClick={() => setShowArchived(!showArchived)} fullWidth variant='styled'>\n        {showArchived ? 'Hide Archived' : 'Show Archived'}\n      </DialogButton>\n    );\n  }, [showArchived]);\n\n  return (\n    <>\n      <Page title='Student Classes' ActionButton={ShowButton} loading={loading || loadingSessions || loadingStudents}>\n        <Grid container spacing={3}>\n          {!showArchived && (\n            <>\n              {[\n                instructorClasses\n                  .filter(c => !c.deleted && !completed.find(s => s.classId === c.id) && !inProgress.find(s => s.classId === c.id)) // Don't show available class in progress or completed\n                  .map(c => (\n                    <Grid key={[c.id, c.title].join('-')} item lg={3} sm={6} xs={12}>\n                      <Class\n                        preRecsMet={preRecsMet(c.preRecs, groupIds, completed)}\n                        isAvailable={true}\n                        showUpdated={true}\n                        {...c}\n                        buttonLabel='Start'\n                        onClick={handleCreateSession(c)}\n                      />\n                    </Grid>\n                  ))\n              ]}\n              {inProgress.length > 0 && [\n                inProgress.map(s => (\n                  <Grid key={[s.id, s.title].join('-')} item lg={3} sm={6} xs={12}>\n                    <Class\n                      canArchive={true}\n                      {...s}\n                      Model={tables.sessions}\n                      inProgress={true}\n                      showUpdated={true}\n                      buttonLabel='Resume'\n                      onClick={handleResume(s)}\n                      onRefresh={handleRefresh}\n                    />\n                  </Grid>\n                ))\n              ]}\n              {completed.length > 0 && [\n                completed.map(s => {\n                  // Determine if the class can be started again.  Check if another session is already in progress and if the class still exists\n                  const isInProgress = inProgress.find(ip => ip.classId === s.classId) ? true : false;\n                  const instructorClass = instructorClasses.find(ic => ic.id === s.classId && ic.deleted !== true);\n                  const canStartNew = !isInProgress && instructorClass;\n\n                  return (\n                    <Grid key={[s.id, s.title].join('-')} item lg={3} sm={6} xs={12}>\n                      <Class\n                        {...s}\n                        canArchive={true}\n                        Model={tables.sessions}\n                        onRefresh={handleRefresh}\n                        buttonLabel='View'\n                        buttonLabel2={canStartNew && 'Start'}\n                        onClick2={canStartNew && handleCreateSession(instructorClass)} // Start a new class using the latest revision\n                        onClick={handleChangeRouteLayout('/Pre-Survey', { session: s })}\n                      />\n                    </Grid>\n                  );\n                })\n              ]}\n            </>\n          )}\n          {showArchived && deleted.length === 0 && (\n            <Box m={3}>\n              <Typography>There are no archived classes at this time.</Typography>\n            </Box>\n          )}\n          {showArchived &&\n            deleted.length > 0 && [\n              deleted.map(s => (\n                <Grid key={[s.id, s.title].join('-')} item lg={3} sm={6} xs={12}>\n                  <Class\n                    {...s}\n                    inProgress={s.completed !== true}\n                    canArchive={true}\n                    Model={tables.sessions}\n                    showUpdated={true}\n                    buttonLabel='Resume'\n                    onClick={handleResume(s)}\n                    onRefresh={handleRefresh}\n                  />\n                </Grid>\n              ))\n            ]}\n        </Grid>\n      </Page>\n    </>\n  );\n}\n","import * as React from 'react';\nimport { useHandleChangeRoute } from '../../../layout/hooks';\nimport StyledButton from '../../../general/StyledButton';\n\nexport default function CreateNewClassButton() {\n  const changeRoute = useHandleChangeRoute();\n  return <StyledButton onClick={changeRoute('/CreateClass')}>Create New Class</StyledButton>;\n}\n","import useClasses from './useClasses';\n\nexport default function useAdminClasses() {\n  return useClasses({\n    requestParams: {\n      FilterExpression: '#userType = :userType',\n      ExpressionAttributeNames: {\n        '#userType': 'userType'\n      },\n      ExpressionAttributeValues: {\n        ':userType': 'Admin'\n      }\n    }\n  });\n}\n","import * as React from 'react';\nimport { Box, Grid, Typography } from '@material-ui/core';\nimport Class from '../Class';\nimport Page from '../../Page';\nimport { useHandleChangeRouteLayout } from '../../../layout/hooks';\nimport CreateNewClassButton from './CreateNewClassButton';\nimport DialogButton from '../../../application/GenericDialog/DialogButton';\nimport useAdminClasses from '../useAdminClasses';\n\nexport default function AdminClasses() {\n  const { data, handleRefresh, loading } = useAdminClasses();\n\n  const changeRouteLayout = useHandleChangeRouteLayout();\n\n  const [showArchived, setShowArchived] = React.useState(false);\n\n  const Buttons = React.useCallback(() => {\n    return (\n      <Grid container spacing={3}>\n        <Grid item>\n          <DialogButton size='large' onClick={() => setShowArchived(!showArchived)} fullWidth variant='styled'>\n            {showArchived ? 'Hide Archived' : 'Show Archived'}\n          </DialogButton>\n        </Grid>\n\n        <Grid item>\n          <CreateNewClassButton />\n        </Grid>\n      </Grid>\n    );\n  }, [showArchived]);\n\n  return (\n    <Page title='Administrator Classes' loading={loading} ActionButton={Buttons}>\n      <Grid container spacing={3}>\n        {data.length === 0 && (\n          <Grid item>\n            <Box mt={2}>\n              <Typography color='error'>No classes found, click the Create New Class button to add a class.</Typography>\n            </Box>\n          </Grid>\n        )}\n        {showArchived && data.filter(c => c.deleted).length === 0 && (\n          <>\n            <Box m={3}>\n              <Typography>There are no archived classes at this time.</Typography>\n            </Box>\n          </>\n        )}\n        {[\n          data\n            .filter(c => (showArchived && c.deleted) || (!showArchived && !c.deleted))\n            .map((c, i) => (\n              <Grid key={[c.id, c.title, i].join('-')} item lg={3} sm={6} xs={12}>\n                <Class\n                  {...c}\n                  buttonLabel='View'\n                  showUpdated={true}\n                  onClick={changeRouteLayout('/ClassDashboard', {\n                    instructor: undefined, // Reset instructor to ensure the class roster isn't visible for admin classes\n                    class: c\n                  })}\n                  canArchive={true}\n                  onRefresh={handleRefresh}\n                />\n              </Grid>\n            ))\n        ]}\n      </Grid>\n    </Page>\n  );\n}\n","import { FormControl, FormHelperText } from '@material-ui/core';\nimport * as React from 'react';\nimport { sortHeadlineDescending, isEmpty, isError } from '../../../helpers';\nimport Check from './Check';\n\nconst ClassSelector = ({\n  label = undefined,\n  value = undefined,\n  onChange = undefined,\n  error = undefined,\n  margin = 'dense' as 'dense',\n  forceErrorMargin = false,\n  variant = undefined,\n  ...other\n}) => {\n  const value_str = JSON.stringify(value);\n  const handleChange = React.useCallback(\n    id => event => {\n      var v = JSON.parse(value_str);\n      var imported = event.target.checked === true ? 1 : 0; // Inject checked value to mimic behavior of other input on change events\n      v.forEach(c => {\n        if (c.id === id) {\n          c.imported = imported;\n        }\n      });\n      const e = { target: { value: v } };\n      onChange && onChange(e);\n    },\n    [onChange, value_str]\n  );\n\n  return (\n    <FormControl variant={variant} error={isError(error)} fullWidth margin={margin}>\n      {value?.sort(sortHeadlineDescending).map(c => (\n        <Check color='primary' label={[c.headline, c.name].filter(t => !isEmpty(t)).join(': ')} value={c.imported} onChange={handleChange(c.id)} {...other} />\n      ))}\n\n      {(forceErrorMargin || error) && <FormHelperText>{error}</FormHelperText>}\n    </FormControl>\n  );\n};\n\nexport default ClassSelector;\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport { bool, copyToLower } from '../../../../helpers';\nimport { useDialogState } from '../useDialogState';\nimport Label from '../../DialogField/Label';\nimport ClassSelector from '../../DialogField/ClassSelector';\nimport { Divider } from '@material-ui/core';\nimport useTableRow from '../../../../database/useTableRow';\nimport { tables } from '../../../../database/dbConfig';\nimport { uuid } from '../../../../helpers';\nimport { useUserType } from '../../../../hooks';\nimport { useLayout } from '../../../layout/hooks';\n\nexport const title = 'Class Import';\n\nconst validate = (values, dialogState) => {\n  const { classes = [] } = values;\n  var errors = copyToLower(dialogState.errors); // start with server generated errors, ensure all keys start with lowercase letter\n\n  var foundImport = false;\n  Array.isArray(classes) &&\n    classes.forEach(c => {\n      foundImport = foundImport || bool(c.imported);\n    });\n\n  if (!foundImport) {\n    errors['classes'] = 'Must select at least one class to import.';\n  }\n\n  return errors;\n};\n\nexport default function ClassImportDialog({ id = title, onClose }) {\n  const [, setState] = useDialogState(id);\n  const [{ instructor }] = useLayout();\n  const { userId } = instructor;\n  const { setRow } = useTableRow({ Model: tables.classes });\n  const userType = useUserType();\n\n  const handleSubmit = React.useCallback(\n    values => {\n      const done = () => {\n        onClose && onClose();\n        setState({ open: false });\n      };\n\n      const classes = values?.classes?.filter(c => bool(c.imported));\n      \n      if (classes && classes.length > 0) {\n        classes.forEach((c, i) => {\n          const { created, updated, deleted, ...other } = c;\n          const id = uuid();\n          const now = new Date().getTime();\n          done();\n          setRow({\n            id,\n            values: { ...other, id, parentUserId: c.userId, parentClassId: c.id, parentClass: c, userId, created: now, updated: now, userType },\n            onSuccess: () => {\n              if (i === classes.length - 1) {\n                done();\n              }\n            }\n          });\n        });\n      } else {\n        done();\n      }\n    },\n    [setState, onClose, setRow, userId, userType]\n  );\n\n  return (\n    <GenericDialog\n      id={id}\n      title={title}\n      onSubmit={handleSubmit}\n      validate={validate}\n      submitLabel='Import'\n      cancelLabel={'Cancel'}\n      maxWidth='sm'\n      fields={[\n        {\n          id: 'label',\n          Field: Label,\n          label: 'Please select desired classes to import:'\n        },\n        {\n          Field: Divider\n        },\n        {\n          id: 'classes',\n          Field: ClassSelector,\n          color: 'primary',\n          style: { marginLeft: 24 }\n        }\n      ]}\n      onClose={onClose}\n    />\n  );\n}\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport { bool, copyToLower } from '../../../../helpers';\nimport { useDialogState } from '../useDialogState';\nimport Label from '../../DialogField/Label';\nimport ClassSelector from '../../DialogField/ClassSelector';\nimport { Divider } from '@material-ui/core';\nimport useTableRow from '../../../../database/useTableRow';\nimport { tables } from '../../../../database/dbConfig';\nimport { uuid } from '../../../../helpers';\nimport { useUserType } from '../../../../hooks';\nimport { useLayout } from '../../../layout/hooks';\n\nexport const title = 'Class Update';\n\nconst validate = (values, dialogState) => {\n  const { classes = [] } = values;\n  var errors = copyToLower(dialogState.errors); // start with server generated errors, ensure all keys start with lowercase letter\n\n  var foundImport = false;\n  Array.isArray(classes) &&\n    classes.forEach(c => {\n      foundImport = foundImport || bool(c.imported);\n    });\n\n  if (!foundImport) {\n    errors['classes'] = 'Must select at least one class to import.';\n  }\n\n  return errors;\n};\n\nexport default function ClassImportDialog({ id = title, onClose }) {\n  const [, setState] = useDialogState(id);\n  const [{ instructor }] = useLayout();\n  const { userId } = instructor;\n  const { setRow } = useTableRow({ Model: tables.classes });\n  const userType = useUserType();\n\n  const handleSubmit = React.useCallback(\n    values => {\n      const done = () => {\n        onClose && onClose();\n        setState({ open: false });\n      };\n\n      const archiveClasses = values?.archiveClasses?.filter(c => bool(c.imported));\n\n      if (archiveClasses && archiveClasses.length > 0) {\n        archiveClasses.forEach((c, i) => {\n          const { id, created, updated, deleted, ...other } = c;\n          const now = new Date().getTime();\n\n          setRow({\n            id,\n            values: { id, ...other, deleted: true, updated: now }\n          });\n        });\n      }\n\n      const classes = values?.classes?.filter(c => bool(c.imported));\n\n      if (classes && classes.length > 0) {\n        classes.forEach((c, i) => {\n          const { created, updated, deleted, ...other } = c;\n          const id = uuid();\n          const now = new Date().getTime();\n          done();\n          setRow({\n            id,\n            values: { ...other, id, parentUserId: c.userId, parentClassId: c.id, parentClass: c, userId, created: now, updated: now, userType },\n            onSuccess: () => {\n              if (i === classes.length - 1) {\n                done();\n              }\n            }\n          });\n        });\n      } else {\n        done();\n      }\n    },\n    [setState, onClose, setRow, userId, userType]\n  );\n\n  return (\n    <GenericDialog\n      id={id}\n      title={title}\n      onSubmit={handleSubmit}\n      hasChanged={true} // Force enable the submit button\n      validate={validate}\n      submitLabel='Confirm Update'\n      cancelLabel={'Cancel'}\n      maxWidth='sm'\n      fields={[\n        {\n          id: 'label',\n          Field: Label,\n          label: 'Import new class data:'\n        },\n        {\n          Field: Divider\n        },\n        {\n          id: 'classes',\n          Field: ClassSelector,\n          color: 'primary',\n          style: { marginLeft: 24 }\n        },\n        {\n          id: 'label',\n          Field: Label,\n          label: 'Previous class data will be automatically archived:',\n          style: { marginTop: 32 }\n        },\n        {\n          Field: Divider\n        },\n        {\n          id: 'archiveClasses',\n          Field: ClassSelector,\n          color: 'primary',\n          style: { marginLeft: 24 }\n        }\n      ]}\n      onClose={onClose}\n    />\n  );\n}\n","import * as React from 'react';\nimport { Box, Grid, Typography } from '@material-ui/core';\nimport Class from '../Class';\nimport Page from '../../Page';\nimport { useHandleChangeRouteLayout, useLayout } from '../../../layout/hooks';\nimport CreateNewClassButton from './CreateNewClassButton';\nimport useClassesByUserId from '../useClassesByUserId';\nimport DialogButton from '../../../application/GenericDialog/DialogButton';\nimport useTableRow from '../../../../database/useTableRow';\nimport { tables } from '../../../../database/dbConfig';\nimport { uuid } from '../../../../helpers';\nimport { useIsAdminMode, useUserType } from '../../../../hooks';\nimport useAdminClasses from '../useAdminClasses';\nimport * as ClassImportDialog from '../../../application/GenericDialog/ClassImport';\nimport * as ClassImportReplaceDialog from '../../../application/GenericDialog/ClassImportReplace';\n\nexport default function InstructorClasses() {\n  const isAdminMode = useIsAdminMode();\n  const [{ back, instructor }] = useLayout();\n  const { userId } = instructor;\n  const [showArchived, setShowArchived] = React.useState(false);\n\n  const { data: instructorClasses, handleRefresh: refreshInstructor, loading } = useClassesByUserId({ userId });\n  const { data: adminClasses, handleRefresh: refreshAdmin, loading: loadingParent } = useAdminClasses();\n\n  const notAddedClasses = adminClasses.filter(\n    ac => !ac.deleted && !instructorClasses.filter(ic => ic.deleted !== true).find(ic => ic.parentClassId === ac.id || ic.id === ac.id)\n  );\n  const notAddedClasses_str = JSON.stringify(notAddedClasses);\n\n  /*console.log({\n    notAddedClasses,\n    instructor,\n    instructorClasses,\n    adminClasses,\n    showArchived,\n    ic: instructorClasses.filter(c => (showArchived && c.deleted) || (!showArchived && !c.deleted))\n  });\n  */\n\n  // Determines which classes have newer versions available and sets up the data structures for the import dialog\n  var importUpdateClasses = [];\n  var archiveClasses = [];\n\n  instructorClasses\n    .filter(c => (showArchived && c.deleted) || (!showArchived && !c.deleted))\n    .forEach(c => {\n      const parentAdminClass = adminClasses.find(ac => (!ac.deleted && ac.id === c.parentClassId) || c.id === ac.id);\n      const isNew =\n        parentAdminClass &&\n        parentAdminClass.updated &&\n        (parentAdminClass.updated > c.updated || (c.parentClass && c.parentClass.updated && c.parentClass.updated < parentAdminClass.updated));\n      if (isNew) {\n        importUpdateClasses.push({ ...parentAdminClass, imported: true }); // Select import by default\n        archiveClasses.push({ ...c, imported: true }); // Select import by default\n      }\n    });\n\n  const handleRefresh = React.useCallback(() => {\n    refreshInstructor();\n    refreshAdmin();\n  }, [refreshInstructor, refreshAdmin]);\n\n  const changeRouteLayout = useHandleChangeRouteLayout();\n\n  const { setRow } = useTableRow({ Model: tables.classes });\n\n  const userType = useUserType();\n\n  const handleAdd = React.useCallback(() => {\n    const classes = JSON.parse(notAddedClasses_str);\n    classes.forEach((c, i) => {\n      const { created, updated, deleted, ...other } = c;\n      const id = uuid();\n      const now = new Date().getTime();\n      setRow({\n        id,\n        values: { ...other, id, parentUserId: c.userId, parentClassId: c.id, parentClass: c, userId, created: now, updated: now, userType },\n        onSuccess: i === classes.length - 1 && handleRefresh\n      });\n    });\n  }, [setRow, handleRefresh, notAddedClasses_str, userId, userType]);\n\n  const Buttons = React.useCallback(() => {\n    return (\n      <Grid container spacing={3}>\n        <Grid item>\n          <DialogButton size='large' onClick={() => setShowArchived(!showArchived)} fullWidth variant='styled'>\n            {showArchived ? 'Hide Archived' : 'Show Archived'}\n          </DialogButton>\n        </Grid>\n        {!isAdminMode && (\n          <Grid item>\n            <CreateNewClassButton />\n          </Grid>\n        )}\n      </Grid>\n    );\n  }, [isAdminMode, showArchived]);\n\n  return (\n    <Page\n      title='Instructor Classes'\n      loading={loading || loadingParent}\n      ActionButton={Buttons}\n      backLabel={back?.label}\n      onBack={back?.route && changeRouteLayout(back.route)}\n    >\n      <Grid container spacing={3}>\n        {!showArchived && (notAddedClasses.length > 0 || importUpdateClasses.length > 0) && (\n          <Grid item xs={12}>\n            <Box pt={1} pb={1}>\n              {notAddedClasses.length > 0 && (\n                <Grid container spacing={1}>\n                  <Grid item>\n                    <Typography variant='body2' color='error'>\n                      {notAddedClasses.length === 1\n                        ? `There is ${notAddedClasses.length} admin class which is not included in your available classes.`\n                        : `There are ${notAddedClasses.length} admin classes which are not included in your available classes.`}\n                    </Typography>\n                  </Grid>\n                  <Grid item>\n                    <Typography variant='body2'>|</Typography>\n                  </Grid>\n                  <Grid item>\n                    <DialogButton onClick={handleAdd} variant='link' underline='always'>\n                      Import All\n                    </DialogButton>\n                  </Grid>\n                  <Grid item>\n                    <Typography variant='body2'>|</Typography>\n                  </Grid>\n                  <Grid item>\n                    <DialogButton\n                      Module={ClassImportDialog}\n                      initialValues={{ classes: notAddedClasses }}\n                      onClose={handleRefresh}\n                      variant='link'\n                      underline='always'\n                    >\n                      Manual Import\n                    </DialogButton>\n                  </Grid>\n                </Grid>\n              )}\n              {importUpdateClasses.length > 0 && (\n                <Grid container spacing={1}>\n                  <Grid item>\n                    <Typography variant='body2' color='error'>\n                      {importUpdateClasses.length === 1\n                        ? `There is ${importUpdateClasses.length} admin class which has been updated with newer revisions.`\n                        : `There are ${importUpdateClasses.length} admin classes which have been updated with newer revisions.`}\n                    </Typography>\n                  </Grid>\n                  <Grid item>\n                    <Typography variant='body2'>|</Typography>\n                  </Grid>\n                  <Grid item>\n                    <DialogButton\n                      Module={ClassImportReplaceDialog}\n                      initialValues={{ classes: importUpdateClasses, archiveClasses }}\n                      onClose={handleRefresh}\n                      variant='link'\n                      underline='always'\n                    >\n                      Import New Updates\n                    </DialogButton>\n                  </Grid>\n                </Grid>\n              )}\n            </Box>\n          </Grid>\n        )}\n        {showArchived && instructorClasses.filter(c => c.deleted).length === 0 && (\n          <>\n            <Box m={3}>\n              <Typography>There are no archived classes at this time.</Typography>\n            </Box>\n          </>\n        )}\n        {instructorClasses\n          .filter(c => (showArchived && c.deleted) || (!showArchived && !c.deleted))\n          .map(c => {\n            const parentAdminClass = adminClasses.find(ac => (!ac.deleted && ac.id === c.parentClassId) || c.id === ac.id);\n            const isNew =\n              parentAdminClass &&\n              parentAdminClass.updated &&\n              (parentAdminClass.updated > c.updated || (c.parentClass && c.parentClass.updated && c.parentClass.updated < parentAdminClass.updated));\n\n            return (\n              <Grid key={[c.id, c.title].join('-')} item lg={3} sm={6} xs={12}>\n                <Class\n                  {...c}\n                  ActionButton={\n                    isNew && (\n                      <DialogButton\n                        Module={ClassImportReplaceDialog}\n                        initialValues={{ classes: [{ ...parentAdminClass, imported: 1 }], archiveClasses: [{ ...c, imported: 1 }] }}\n                        onClose={handleRefresh}\n                        variant='link'\n                        underline='always'\n                        size='small'\n                      >\n                        Import New Updates\n                      </DialogButton>\n                    )\n                  }\n                  buttonLabel='View'\n                  showUpdated={true}\n                  onClick={changeRouteLayout('/ClassDashboard', {\n                    class: c\n                  })}\n                  canArchive={true}\n                  onRefresh={handleRefresh}\n                />\n              </Grid>\n            );\n          })}\n      </Grid>\n    </Page>\n  );\n}\n","import * as React from 'react';\nimport { useIsAdminMode, useIsStudentMode } from '../../../../hooks';\nimport StudentClasses from './StudentClasses';\nimport AdminClasses from './AdminClasses';\nimport InstructorClasses from './InstructorClasses';\n\nexport default function Classes() {\n  const isAdminMode = useIsAdminMode();\n  const isStudentMode = useIsStudentMode();\n  return isStudentMode ? <StudentClasses /> : isAdminMode ? <AdminClasses /> : <InstructorClasses />;\n}\n","import * as React from 'react';\nimport { Box, Typography } from '@material-ui/core';\nimport { isEmpty } from '../../../../helpers';\n\nexport default function KeySkills({ keySkills }) {\n  return (\n    <>\n      <Typography variant='h6' style={{ fontWeight: 'bold' }}>\n        Key Skills:\n      </Typography>\n      <Box mt={1} ml={1} mb={3}>\n        {keySkills\n          .filter(s => !isEmpty(s))\n          .map(({ id, name }, i) => (\n            <Typography key={`${name}-${id}`} variant='subtitle1'>\n               {name}\n            </Typography>\n          ))}\n      </Box>\n    </>\n  );\n}\n","import * as React from 'react';\nimport { Grid } from '@material-ui/core';\nimport ActionCard from '../../../general/ActionCard';\nimport { useHandleChangeRouteLayout, useLayout } from '../../../layout/hooks';\nimport { useHandleCreateSession } from '../../../../database/useSessions';\n\nexport default function ActionCards({ cards }) {\n  const [{ class: classData }] = useLayout();\n\n  const handleChangeRouteLayout = useHandleChangeRouteLayout();\n  const handleCreateSession = useHandleCreateSession({ studentId: undefined, studentUserId: undefined }); // Don't specify student or group id's when viewing as student\n\n  return (\n    <Grid container spacing={3}>\n      {cards.map(ac => (\n        <Grid key={ac.title} item lg={4} sm={4} xs={12}>\n          <ActionCard\n            {...ac}\n            minHeight={150}\n            onClick={ac.createSession ? handleCreateSession({ ...classData, deleted: true }) : handleChangeRouteLayout(ac.route)}\n          />\n        </Grid>\n      ))}\n    </Grid>\n  );\n}\n","export default [\n  {\n    title: 'Class Mode',\n    description: 'View the class materials the way your students will',\n    disabled: false,\n    createSession: true,\n    enableLock: false\n  },\n  { title: 'Edit Materials', description: 'Review and edit class materials', route: '/ClassMaterials', enableLock: false },\n  { title: 'Class Roster', description: 'View current participants and new members', route: '/ClassRoster', enableLock: false }\n];\n","import * as React from 'react';\nimport { useIsAdminMode } from '../../../../hooks';\nimport { Box } from '@material-ui/core';\nimport ChildPage from '../../ChildPage';\nimport { useHandleChangeRouteLayout, useLayout } from '../../../layout/hooks';\nimport { useSignedInAsText } from '../../../../hooks';\nimport KeySkills from './KeySkills';\nimport ActionCards from './ActionCards';\nimport cards from './cards';\n\nexport default function ClassDashboard() {\n  const isAdminMode = useIsAdminMode();\n  const [{ instructor, class: classData }] = useLayout();\n  const { userId, name, headline, keySkills = [] } = classData;\n  const handleChangeRouteLayout = useHandleChangeRouteLayout();\n\n  const isInstructorClass = instructor && instructor.userId === userId;\n\n  return (\n    <ChildPage backLabel='Back to Classes' onBack={handleChangeRouteLayout('/Classes')} supertitle={name} title={headline} subtitle={useSignedInAsText()}>\n      <Box mt={2}>\n        <KeySkills keySkills={keySkills} />\n        <ActionCards cards={isAdminMode && !isInstructorClass ? cards.filter(c => c.title !== 'Class Roster') : cards} />\n      </Box>\n    </ChildPage>\n  );\n}\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport { useDialogState } from '../useDialogState';\nimport Check from '../../DialogField/Check';\nimport { uuid } from '../../../../helpers';\n\nexport const title = 'Block List';\n\nexport default function BlockListDialog({ id = title, onClose = undefined, onSubmit, anchorEl = undefined, setValues = undefined, ...other }) {\n  const [{ type }, setState] = useDialogState(id);\n\n  const handleClose = React.useCallback(() => {\n    setState(prev => ({ ...prev, open: false, loading: false }));\n    onClose && onClose();\n  }, [onClose, setState]);\n\n  const handleSubmit = React.useCallback(\n    (values, setValues) => {\n      onSubmit && onSubmit({ values, setValues, type });\n      handleClose();\n    },\n    [onSubmit, type, handleClose]\n  );\n\n  return (\n    <GenericDialog\n      id={id}\n      title={id}\n      onClose={onClose}\n      submitLabel={'Done'}\n      onSubmit={handleSubmit}\n      fields={[\n        {\n          id: 'id',\n          hidden: true,\n          initialValue: type === 'Add' ? uuid() : undefined\n        },\n        {\n          id: 'name',\n          label: 'Name',\n          placeholder: 'Enter name',\n          autoFocus: true\n        },\n        {\n          id: 'locked',\n          label: 'Is locked for editing?',\n          Field: Check,\n          color: 'primary'\n        }\n      ]}\n      {...other}\n    />\n  );\n}\n","import * as React from 'react';\nimport { Grid, Box, Typography } from '@material-ui/core';\nimport ActionCard from '../general/ActionCard';\nimport * as BlockListDialog from '../application/GenericDialog/BlockList';\nimport DialogButton from '../application/GenericDialog/DialogButton';\nimport { bool } from '../../helpers';\nimport { useDialogState } from '../application/GenericDialog/useDialogState';\n\nexport interface BlockListItem {\n  id: string;\n  name: string;\n  rankingValue?: number;\n  canEdit?: boolean;\n  canDelete?: boolean;\n  locked?: boolean;\n  deleted?: boolean;\n}\n\nexport function BlockList({\n  title = undefined,\n  subtitle = undefined,\n  value = [],\n  showIndexBadges = undefined,\n  add = undefined,\n  edit = undefined,\n  remove = undefined,\n  DialogModule = BlockListDialog,\n  onChange,\n  isOwner\n}) {  \n  const value_str = JSON.stringify(value);\n\n  // Replace or remove (set item to undefined when removing)\n  const handleReplace = React.useCallback(\n    (id: string, item: BlockListItem = undefined) => {\n      var value = JSON.parse(value_str);\n      if (item === undefined) {\n        value = value.filter(i => i.id !== id); // Remove item without replacement\n      } else {\n        const index = value.findIndex(i => i?.id === id);\n        if (index >= 0) {\n          value[index] = item; // Found item in array, update with new value\n        } else {\n          value.push(item); // Item does not exist, so add it to the end\n        }\n      }\n      onChange && onChange({ target: { value } });\n    },\n    [onChange, value_str]\n  );\n  const [, setDialogState] = useDialogState(title);\n\n  const handleSubmit = React.useCallback(\n    ({ values: item, type }) => {\n      type === 'Add' && onChange({ target: { value: [...JSON.parse(value_str), item] } });\n      type === 'Edit' && handleReplace(item?.id, item);\n    },\n    [onChange, handleReplace, value_str]\n  );\n  const onLock = React.useCallback(item => handleReplace(item?.id, { ...item, locked: !bool(item?.locked) }), [handleReplace]);\n  const onRemove = React.useCallback(\n    item => {\n      var result = window.confirm('Are you sure you wish to remove this item?');\n      if (result) {\n        handleReplace(item?.id);\n      }\n    },\n    [handleReplace]\n  );\n  const onEdit = React.useCallback(\n    item => {\n      setDialogState({\n        type: 'Edit',\n        open: true,\n        initialValues: item\n      });\n    },\n    [setDialogState]\n  );\n\n  return (\n    <>\n      {title && (\n        <Typography variant='h5' color='textPrimary' style={{ fontWeight: 'bold' }}>\n          {title}\n        </Typography>\n      )}\n      {subtitle && (\n        <Typography variant='subtitle1' color='textPrimary'>\n          {subtitle}\n        </Typography>\n      )}\n      <Box mt={1}>\n        <Grid container spacing={2}>\n          {value.map((item, i) => (\n            <Grid key={i} item lg={4} sm={6} xs={12}>\n              <ActionCard\n                item={item}\n                index={showIndexBadges && i}\n                isOwner={isOwner}\n                onLock={onLock}\n                onRemove={remove && onRemove}\n                onEdit={edit && onEdit}\n                minHeight={112}\n                titleProps={{ noWrap: false, variant: 'h6', color: 'textPrimary' }}\n              />\n            </Grid>\n          ))}\n\n          <Grid style={{ display: add ? 'flex' : 'none' }} key={'add'} item lg={4} sm={6} xs={12}>\n            <DialogButton Module={{ ...DialogModule, id: title, title }} variant='styled' styledVariant='secondary' onSubmit={handleSubmit}>\n              Add New\n            </DialogButton>\n          </Grid>\n        </Grid>\n      </Box>\n    </>\n  );\n}\n\n/*\n <Grid item style={{ display: 'inline-flex', width: 175 }}>\n                <Icons.Lock color='primary' />\n                <Typography variant='subtitle1' color='primary'>\n                  You can't remove any locked items\n                </Typography>\n              </Grid>\n              */\n","import * as React from 'react';\nimport useProcessData from '../../database/useProcessData';\nimport { useSnackBar } from '../application/SnackBar/useSnackBar';\n\nconst actions = {\n  c: 'creating',\n  r: 'reading',\n  u: 'updating',\n  d: 'deleting'\n};\n\nexport const actionText = action => actions[action];\n\nexport default function useFormState({ validate = undefined, Model, onError: OnError = undefined, onSuccess: OnSuccess = undefined }) {\n  const [formState, setFormState] = React.useState({\n    loading: false,\n    error: undefined,\n    errors: {}\n  });\n  const processData = useProcessData();\n  const [, setSnackbar] = useSnackBar();\n\n  const handleSubmit = React.useCallback(\n    (Data, Action = 'c' as any) => () => {\n      setFormState(prev => ({ ...prev, loading: true, error: undefined, errors: {} }));\n      const errors = validate ? validate(Data) : {};      \n      if (Object.keys(errors).length > 0) {\n        setFormState(prev => ({ ...prev, loading: false, errors }));\n        setSnackbar({ open: true, variant: 'error', message: 'Input validation error' });\n      } else {\n        processData({\n          Model,\n          Action,\n          Data,\n          onError: () => {\n            setFormState(prev => ({ ...prev, loading: false, error: `Error ${actionText(Action)}` }));\n            setSnackbar({ open: true, variant: 'error', message: `Error ${actionText(Action)}` });\n            OnError && OnError();\n          },\n          onSuccess: () => {\n            setFormState(prev => ({ ...prev, loading: false, error: undefined }));\n            //setSnackbar({ open: true, variant: 'success', message: `Success ${actionText(Action)}` });\n            OnSuccess && OnSuccess();\n          }\n        });\n      }\n    },\n    [setFormState, validate, Model, OnError, OnSuccess, processData, setSnackbar]\n  );\n\n  const handleCreate = React.useCallback(Data => handleSubmit(Data, 'c'), [handleSubmit]);\n  const handleUpdate = React.useCallback(Data => handleSubmit(Data, 'u'), [handleSubmit]);\n  const handleDelete = React.useCallback(Data => handleSubmit(Data, 'd'), [handleSubmit]);\n\n  return {\n    handleCreate,\n    handleUpdate,\n    handleDelete,\n    formState\n  };\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Grid, InputLabel, makeStyles, createStyles } from '@material-ui/core';\nimport NotchedOutline from '@material-ui/core/OutlinedInput/NotchedOutline';\nimport { isError } from '../../../helpers';\n\nconst useStyles = makeStyles(({ palette, shadows }: any) =>\n  createStyles({\n    root: {\n      position: 'relative',\n      width: '100%'\n    },\n    container: {\n      position: 'relative'\n    },\n    content: {\n      minHeight: 40,\n      paddingLeft: 16,\n      paddingRight: 16,\n      paddingTop: 8,\n      paddingBottom: 8,\n      borderRadius: 30,\n      borderColor: palette.type === 'light' ? 'rgba(0, 0, 0, 0.23)' : 'rgba(255, 255, 255, 0.23)',\n      '&:hover': {\n        borderColor: palette.text.primary\n      }\n    },\n    inputLabel: {\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      // slight alteration to spec spacing to match visual spec result\n      transform: 'translate(0, 24px) scale(1)'\n    },\n    notchedOutline: ({ error, active }: any) => ({\n      borderColor: isError(error) ? palette.error.main : active ? palette.primary.main : 'inherit',\n      borderWidth: isError(error) || active ? 4 : 1,\n      color: palette.text.primary,\n      boxShadow: shadows[1]\n    })\n  })\n);\n\n// Needs some work to handle focused state.  It should use FormControl and formControlState.\nexport default function OutlinedDivActive({\n  label = '',\n  active = false,\n  error = undefined,\n  width = undefined,\n  maxWidth = undefined,\n  margin = undefined,\n  marginTop = undefined,\n  marginBottom = undefined,\n  height = undefined,\n  children = undefined\n}) {\n  const classes = useStyles({ active, error });\n  const [labelWidth, setLabelWidth] = React.useState(0);\n  const labelRef = React.useRef(null);\n  React.useEffect(() => {\n    const labelNode: any = ReactDOM.findDOMNode(labelRef.current);\n    setLabelWidth(labelNode != null ? labelNode.offsetWidth : 0);\n  }, [label]);\n\n  return (\n    <div className={classes.root} style={{ width, maxWidth, margin, marginTop, marginBottom, height }}>\n      <InputLabel ref={labelRef} htmlFor={label} variant='outlined' className={classes.inputLabel} shrink>\n        {label}\n      </InputLabel>\n      <div className={classes.container}>\n        <Grid container id={label} className={classes.content} alignItems='center'>\n          <Grid item xs={12}>\n            {children}\n          </Grid>\n          <NotchedOutline className={classes.notchedOutline} notched labelWidth={labelWidth} />\n        </Grid>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { makeStyles, Grid, Box, Typography } from '@material-ui/core';\nimport { getImage, images } from '../../pages/Class/helpers';\nimport OutlinedDivActive from '../../general/OutlinedDiv/OutlinedDivActive';\n\nconst useStyles = makeStyles(({ spacing }) => ({\n  root: {},\n  imageContainer: {\n    marginTop: spacing(4),\n    textAlign: 'center',\n    marginBottom: spacing(4)\n  },\n  item: {\n    cursor: 'pointer'\n  },\n  image: {\n    height: 72,\n    width: 72\n  }\n}));\n\nexport default function ImageSelector({ value = 'calendar', label, className = undefined, onChange, ...rest }) {\n  const classes = useStyles();\n  const handleChange = React.useCallback(\n    value => () => {\n      onChange && onChange({ target: { value } });\n    },\n    [onChange]\n  );\n\n  return (\n    <Box>\n      <Typography variant='h5' color='textPrimary' style={{ fontWeight: 'bold' }}>\n        {label}\n      </Typography>\n      <Box mt={1}>\n        <Grid container spacing={2}>\n          {Object.keys(images).map(key => (\n            <Grid key={key} item className={classes.item} onClick={handleChange(key)}>\n              <OutlinedDivActive active={key === value}>\n                <Box width={72} height={72}>\n                  <Typography align='center'>\n                    <img draggable='false' className={classes.image} src={getImage(key)} alt={key} />\n                  </Typography>\n                </Box>\n              </OutlinedDivActive>\n            </Grid>\n          ))}\n        </Grid>\n      </Box>\n    </Box>\n  );\n}\n","import * as React from 'react';\nimport { TextField } from '@material-ui/core';\nimport { getFileName, isEmpty, isError } from '../../../helpers';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport { blue } from '@material-ui/core/colors';\nimport * as Icons from '@material-ui/icons';\nimport { Menu, MenuItem, Typography } from '@material-ui/core';\nimport useS3Bucket from '../../../database/useS3Bucket';\nimport { uuid } from '../../../helpers';\nimport { getObjectUrl } from '../../../aws-exports';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      maxWidth: 345\n    },\n    avatar: {\n      backgroundColor: blue[500]\n    },\n    hidden: {\n      display: 'none'\n    }\n  })\n);\n\nexport const FileActions = ({ onSuccess = undefined, onError = undefined }) => {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n  const open = Boolean(anchorEl);\n\n  const [{ loading, uploading, error }, setState] = React.useState({ loading: false, success: false, uploading: false, error: null });\n\n  const { handleUpload } = useS3Bucket({ setState });\n\n  const handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = React.useCallback(() => {\n    setAnchorEl(null);\n  }, [setAnchorEl]);\n\n  const onInput = React.useCallback(\n    e => {\n      handleClose();\n      const uploadFiles = e.target.files;\n      const arrFiles = Array.from(uploadFiles ?? []);\n      var file: any = arrFiles.length > 0 ? arrFiles[0] : undefined;\n      if (file) {\n        if ((file as any).size > 20 * 1024 * 1024) {\n          alert('File exceeds 20 MB upload limit.');\n        } else {\n          const id = `${getFileName(file)}_${uuid()}`;\n          handleUpload({\n            id,\n            content: file,\n            level: 'public', // public or private\n            contentType: `${file?.type ?? 'text/plain'}`,\n            onStart: () => {\n              setState(prev => ({ ...prev, uploading: true }));\n            },\n            onSuccess: () => {\n              setState(prev => ({ ...prev, uploading: false }));\n\n              onSuccess && onSuccess(id);\n              // TODO update class with link to newly uploaded file\n            },\n            onError: () => {\n              console.error('Error uploading file');\n              setState(prev => ({ ...prev, uploading: false }));\n              onError && onError('');\n            }\n          });\n        }\n      } else {\n        // Error: No file specified or user hit cancel\n      }\n    },\n    [handleClose, handleUpload, onSuccess, onError]\n  );\n  return (\n    <div>\n      <IconButton size='small' disabled={loading || uploading} aria-label='settings' onClick={handleClick}>\n        <Icons.MoreVert />\n      </IconButton>\n      <Menu id='long-menu' anchorEl={anchorEl} keepMounted open={open} onClose={handleClose}>\n        <div>\n          <input className={classes.hidden} name='fileselect' type='file' accept='*' id='fileselect' onChange={onInput} />\n          <label htmlFor='fileselect'>\n            <MenuItem key={'replace'} onClick={onInput} component='span'>\n              Upload New File\n            </MenuItem>\n          </label>\n        </div>\n        {error && <Typography color='error'>{error}</Typography>}\n      </Menu>\n    </div>\n  );\n};\n\nconst FileUploadLink = ({\n  value = '',\n  margin = 'dense',\n  variant = 'outlined',\n  forceErrorMargin = false,\n  error = undefined,\n  initialValue = undefined,\n  onChange = undefined,\n  ...other\n}) => {\n  const onSuccess = React.useCallback(\n    filename => {\n      onChange && onChange({ target: { value: isEmpty(filename) ? '' : getObjectUrl(filename) } });\n    },\n    [onChange]\n  );\n  return (\n    <TextField\n      value={value}\n      onChange={onChange}\n      error={isError(error)}\n      helperText={forceErrorMargin ? error || ' ' : error} // Forces a constant helper text margin\n      margin={margin as any}\n      variant={variant as any}\n      fullWidth\n      InputProps={{ endAdornment: <FileActions onSuccess={onSuccess} onError={onSuccess} /> }}\n      InputLabelProps={{\n        shrink: true\n      }}\n      {...other}\n    />\n  );\n};\n\nexport default FileUploadLink;\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport { useDialogState } from '../useDialogState';\nimport Check from '../../DialogField/Check';\nimport { uuid } from '../../../../helpers';\nimport Select from '../../DialogField/Select';\nimport FileUploadLink from '../../DialogField/FileUploadLink';\n\nexport const title = 'Class Resource';\n\nexport default function ClassResourceDialog({ id = title, onClose = undefined, onSubmit, anchorEl = undefined, setValues = undefined, ...other }) {\n  const [{ type }, setState] = useDialogState(id);\n\n  const handleClose = React.useCallback(() => {\n    setState(prev => ({ ...prev, open: false, loading: false }));\n    onClose && onClose();\n  }, [onClose, setState]);\n\n  const handleSubmit = React.useCallback(\n    (values, setValues) => {\n      const id = type === 'Add' ? uuid() : values?.id;\n      onSubmit && onSubmit({ values: { ...values, id }, setValues, type });\n      handleClose();\n    },\n    [onSubmit, type, handleClose]\n  );\n\n  return (\n    <GenericDialog\n      id={id}\n      title={id}\n      onClose={onClose}\n      submitLabel={'Done'}\n      onSubmit={handleSubmit}\n      fields={[\n        {\n          id: 'id',\n          hidden: true\n        },\n        {\n          id: 'name',\n          label: 'Resource Name',\n          placeholder: 'Enter name',\n          required: true,\n          autoFocus: true,\n          xs: 8\n        },\n\n        {\n          id: 'type',\n          label: 'Type',\n          Field: Select,\n          items: [\n            { label: 'PDF', value: 'PDF' },\n            //{ label: 'Video', value: 'Video' },\n            { label: 'Link', value: 'Link' }\n          ],\n          disableClearable: true,\n          required: true,          \n          xs: 4\n        },\n\n        {\n          id: 'link',\n          label: 'Resource Link',\n          Field: FileUploadLink,\n          http: true,\n          placeholder: 'Enter link to resource or upload file',\n          required: true,          \n          xs: 12\n        },\n        {\n          id: 'locked',\n          label: 'Is locked for editing?',\n          Field: Check,\n          color: 'primary'\n        }\n      ]}\n      {...other}\n    />\n  );\n}\n","import * as React from 'react';\nimport clsx from 'clsx';\nimport { Box, Card, Typography, makeStyles, CardActions, Grid } from '@material-ui/core';\nimport StyledButton from './StyledButton';\nimport { bool } from '../../helpers';\nimport * as Icons from '@material-ui/icons';\nimport { useHandleLink, useIsAdmin, useIsAdminMode } from '../../hooks';\n\nconst useStyles = makeStyles(({ palette, spacing }) => ({\n  root: {\n    maxWidth: 320\n  },\n  header: {\n    color: palette.common.black,\n    paddingTop: spacing(2),\n    paddingLeft: spacing(2),\n    paddingRight: spacing(2)\n  },\n  actions: {\n    display: 'flex',\n    alignItems: 'flex-end',\n    justifyContent: 'flex-end'\n  },\n  circle: {\n    borderRadius: 50,\n    width: 36,\n    height: 36,\n    border: `2px solid ${palette.primary.main}`\n  },\n  circleText: {\n    textAlign: 'center',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  icon: {\n    width: 128,\n    height: 128\n  },\n  iconContainer: {\n    background: palette.primary.light,\n    color: palette.common.white,\n    cursor: 'pointer'\n  }\n}));\n\nexport default function ActionCardClassResource({\n  title = undefined,\n  item,\n  viewLabel = 'View Resource',\n  actionLabel = 'View',\n  onClick = undefined,\n  handleLink: HandleLink = undefined,\n  className = undefined,\n  disabled = undefined,\n  onLock = undefined,\n  onRemove = undefined,\n  onEdit = undefined,\n  children = undefined,\n  viewed = false,\n  isOwner,\n  enableLock = true,\n  ...rest\n}) {\n  const isAdmin = useIsAdmin();\n  const isAdminMode = useIsAdminMode();\n  const classes = useStyles();\n  const { name, type, link, locked } = item;\n  const handleLock = React.useCallback(item => () => onLock && onLock(item), [onLock]);\n  const handleRemove = React.useCallback(item => () => onRemove && onRemove(item), [onRemove]);\n  const handleEdit = React.useCallback(item => () => onEdit && onEdit(item), [onEdit]);\n\n  const canEdit = bool(!locked); // Can edit if the user is an admin or an instructor and the object is not locked\n  const canDelete = canEdit;\n\n  const Icon = type === 'PDF' ? Icons.PictureAsPdf : type === 'Video' ? Icons.YouTube : Icons.Http;\n\n  const handleLink = useHandleLink(link);\n\n  return (\n    <Card className={clsx(classes.root, className)}>\n      <Box textAlign='center' pt={1} className={classes.iconContainer} onClick={HandleLink ? HandleLink(item) : handleLink}>\n        <Grid container>\n          <Grid item xs={12}>\n            <Icon className={classes.icon} />\n          </Grid>\n          <Grid item xs={12}>\n            <StyledButton color='inherit' variant='whiteText' onClick={HandleLink ? HandleLink(item) : handleLink}>\n              {viewLabel}\n              {viewed && <Icons.CheckCircle style={{ height: 20, marginLeft: 2 }} />}\n            </StyledButton>\n          </Grid>\n        </Grid>\n      </Box>\n      <div className={classes.header}>\n        <Grid container>\n          <Grid item xs={12}>\n            {name && (\n              <Typography noWrap gutterBottom variant='h5'>\n                {name}\n              </Typography>\n            )}\n          </Grid>\n          {type && (\n            <Grid item xs={12}>\n              <Typography gutterBottom variant='subtitle1' color='textPrimary'>\n                {type}\n              </Typography>\n            </Grid>\n          )}\n        </Grid>\n      </div>\n      {children}\n\n      {onClick && (\n        <Box m={2} textAlign='center'>\n          <StyledButton disabled={disabled} onClick={onClick}>\n            {actionLabel}\n          </StyledButton>\n        </Box>\n      )}\n      <CardActions className={classes.actions}>\n        {onEdit && bool(canEdit) && (\n          <StyledButton variant='text' onClick={handleEdit(item)}>\n            Edit\n          </StyledButton>\n        )}\n        <div>\n          <Grid container justify='flex-end' alignItems='flex-end'>\n            {onRemove && bool(canDelete) && (\n              <Grid item>\n                <StyledButton variant='text' onClick={handleRemove(item)}>\n                  Remove\n                </StyledButton>\n              </Grid>\n            )}\n            {enableLock && ((isAdminMode && isAdmin) || isOwner) && (\n              <Grid item>\n                <StyledButton Icon={bool(locked) ? Icons.Lock : Icons.LockOpen} variant='text' width={140} onClick={handleLock(item)}>\n                  {bool(locked) ? 'Locked' : 'Un-locked'}\n                </StyledButton>\n              </Grid>\n            )}\n          </Grid>\n        </div>\n      </CardActions>\n    </Card>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Box, Typography } from '@material-ui/core';\nimport * as ClassResourceDialog from '../application/GenericDialog/ClassResource';\nimport DialogButton from '../application/GenericDialog/DialogButton';\nimport { bool } from '../../helpers';\nimport { useDialogState } from '../application/GenericDialog/useDialogState';\nimport { BlockListItem } from './BlockList';\nimport ActionCardClassResource from './ActionCardClassResource';\n\nexport interface BlockListClassResourceItem extends BlockListItem {\n  type: string;\n  link: string;\n}\n\nexport function BlockListClassResource({\n  title = undefined,\n  subtitle = undefined,\n  value = [],\n  add = undefined,\n  edit = undefined,\n  remove = undefined,\n  DialogModule = ClassResourceDialog,\n  viewLabel = 'View Resource',\n  onChange = undefined,\n  handleLink = undefined,\n  viewed = undefined,\n  isOwner,\n  enableLock\n}) {\n  const value_str = JSON.stringify(value);\n\n  // Replace or remove (set item to undefined when removing)\n  const handleReplace = React.useCallback(\n    (id: string, item: BlockListItem = undefined) => {\n      var value = JSON.parse(value_str);\n      if (item === undefined) {\n        value = value.filter(i => i.id !== id); // Remove item without replacement\n      } else {\n        const index = value.findIndex(i => i?.id === id);\n        if (index >= 0) {\n          value[index] = item; // Found item in array, update with new value\n        } else {\n          value.push(item); // Item does not exist, so add it to the end\n        }\n      }\n      onChange && onChange({ target: { value } });\n    },\n    [onChange, value_str]\n  );\n  const [, setDialogState] = useDialogState(title);\n\n  const handleSubmit = React.useCallback(\n    ({ values: item, type }) => {\n      type === 'Add' && onChange({ target: { value: [...JSON.parse(value_str), item] } });\n      type === 'Edit' && handleReplace(item?.id, item);\n    },\n    [onChange, handleReplace, value_str]\n  );\n  const onLock = React.useCallback(item => handleReplace(item?.id, { ...item, locked: !bool(item?.locked) }), [handleReplace]);\n  const onRemove = React.useCallback(\n    item => {\n      var result = window.confirm('Are you sure you wish to remove this item?');\n      if (result) {\n        handleReplace(item?.id);\n      }\n    },\n    [handleReplace]\n  );\n  const onEdit = React.useCallback(\n    item => {\n      setDialogState({\n        type: 'Edit',\n        open: true,\n        initialValues: item\n      });\n    },\n    [setDialogState]\n  );\n\n  return (\n    <>\n      {title && (\n        <Typography variant='h5' color='textPrimary' style={{ fontWeight: 'bold' }}>\n          {title}\n        </Typography>\n      )}\n      {subtitle && (\n        <Typography variant='subtitle1' color='textPrimary'>\n          {subtitle}\n        </Typography>\n      )}\n      <Box mt={1}>\n        <Grid container spacing={2}>\n          {value.map((item, i) => (\n            <Grid key={i} item>\n              <ActionCardClassResource\n                item={item}\n                onLock={onLock}\n                onRemove={remove && onRemove}\n                onEdit={edit && onEdit}\n                minHeight={112}\n                titleProps={{ noWrap: false, variant: 'h6', color: 'textPrimary' }}\n                viewLabel={viewLabel}\n                isOwner={isOwner}\n                handleLink={handleLink}\n                viewed={viewed && viewed.find(id => id === item.id)}\n                enableLock={enableLock}\n              />\n            </Grid>\n          ))}\n\n          <Grid style={{ display: add ? 'flex' : 'none' }} key={'add'} item lg={4} sm={6} xs={12}>\n            <DialogButton Module={{ ...DialogModule, id: title, title }} variant='styled' styledVariant='secondary' onSubmit={handleSubmit}>\n              Add New\n            </DialogButton>\n          </Grid>\n        </Grid>\n      </Box>\n    </>\n  );\n}\n","import React from 'react';\nimport Text from '../../application/DialogField/Text';\nimport { IconButton, InputAdornment } from '@material-ui/core';\nimport * as Icons from '@material-ui/icons';\nimport { isEmpty } from '../../../helpers';\nimport { useHandleLink } from '../../../hooks';\n\nconst YouTubeAdornment = ({ disabled = undefined, onClick = undefined }) => (\n  <InputAdornment position='end'>\n    <IconButton disabled={disabled} onClick={onClick} color='primary' aria-label='open link'>\n      <Icons.YouTube />\n    </IconButton>\n  </InputAdornment>\n);\n\nexport default function ClassPresentationLink({ value, label = 'Class Presenation Link', onChange, ...other }) {\n  const handleLink = useHandleLink(value);\n\n  return (\n    <Text\n      label={label}\n      value={value}\n      onChange={onChange}\n      InputProps={{ endAdornment: <YouTubeAdornment onClick={handleLink} disabled={isEmpty(value)} /> }}\n      {...other}\n    />\n  );\n}\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport { useDialogState } from '../useDialogState';\nimport { uuid } from '../../../../helpers';\nimport Select from '../../DialogField/Select';\nimport ClassPresentationLink from '../../../pages/Class/ClassPresentationLink';\nimport Check from '../../DialogField/Check';\n\nexport const title = 'Class Presentation';\n\nexport default function ClassPresentationDialog({ id = title, onClose = undefined, onSubmit, anchorEl = undefined, setValues = undefined, ...other }) {\n  const [{ type }, setState] = useDialogState(id);\n\n  const handleClose = React.useCallback(() => {\n    setState(prev => ({ ...prev, open: false, loading: false }));\n    onClose && onClose();\n  }, [onClose, setState]);\n\n  const handleSubmit = React.useCallback(\n    (values, setValues) => {\n      const id = type === 'Add' ? uuid() : values?.id;\n      onSubmit && onSubmit({ values: { ...values, id }, setValues, type });\n      handleClose();\n    },\n    [onSubmit, type, handleClose]\n  );\n\n  return (\n    <GenericDialog\n      id={id}\n      title={id}\n      onClose={onClose}\n      submitLabel={'Save'}\n      onSubmit={handleSubmit}\n      fields={[\n        {\n          id: 'id',\n          hidden: true\n        },\n        {\n          id: 'name',\n          label: 'Presentation Name',\n          placeholder: 'Enter name',\n          required: true,\n          autoFocus: true\n        },\n        {\n          id: 'type',\n          label: 'Type',\n          Field: Select,\n          items: [\n            //{ label: 'PDF', value: 'PDF' },\n            { label: 'Video', value: 'Video' }\n            //{ label: 'Link', value: 'Link' }\n          ],\n          hidden: true,\n          initialValue: 'Video'\n        },\n        {\n          id: 'link',\n          label: 'Presentation Link',\n          http: true,\n          Field: ClassPresentationLink,\n          placeholder: 'Enter link to video presentation',\n          required: true,\n          xs: 12\n        },\n        {\n          id: 'locked',\n          label: 'Is locked for editing?',\n          Field: Check,\n          color: 'primary'\n        }\n      ]}\n      {...other}\n    />\n  );\n}\n","import * as React from 'react';\nimport { Grid, Box, Typography } from '@material-ui/core';\nimport * as ClassPresentationDialog from '../application/GenericDialog/ClassPresentation';\nimport DialogButton from '../application/GenericDialog/DialogButton';\nimport { bool } from '../../helpers';\nimport { useDialogState } from '../application/GenericDialog/useDialogState';\nimport { BlockListItem } from './BlockList';\nimport ActionCardClassResource from './ActionCardClassResource';\n\nexport interface BlockListClassResourceItem extends BlockListItem {\n  type: string;\n  link: string;\n}\n\nexport function BlockListClassPresentation({\n  title = undefined,\n  subtitle = undefined,\n  value = [],\n  add = undefined,\n  edit = undefined,\n  remove = undefined,\n  DialogModule = ClassPresentationDialog,\n  onChange = undefined,\n  isOwner,\n  enableLock = true\n}) {\n  const value_str = JSON.stringify(value);\n\n  // Replace or remove (set item to undefined when removing)\n  const handleReplace = React.useCallback(\n    (id: string, item: BlockListItem = undefined) => {\n      var value = JSON.parse(value_str);\n      if (item === undefined) {\n        value = value.filter(i => i.id !== id); // Remove item without replacement\n      } else {\n        const index = value.findIndex(i => i?.id === id);\n        if (index >= 0) {\n          value[index] = item; // Found item in array, update with new value\n        } else {\n          value.push(item); // Item does not exist, so add it to the end\n        }\n      }\n      onChange && onChange({ target: { value } });\n    },\n    [onChange, value_str]\n  );\n  const [, setDialogState] = useDialogState(title);\n\n  const handleSubmit = React.useCallback(\n    ({ values: item, type }) => {\n      type === 'Add' && onChange({ target: { value: [...JSON.parse(value_str), item] } });\n      type === 'Edit' && handleReplace(item?.id, item);\n    },\n    [onChange, handleReplace, value_str]\n  );\n  const onLock = React.useCallback(item => handleReplace(item?.id, { ...item, locked: !bool(item?.locked) }), [handleReplace]);\n  const onRemove = React.useCallback(\n    item => {\n      var result = window.confirm('Are you sure you wish to remove this item?');\n      if (result) {\n        handleReplace(item?.id);\n      }\n    },\n    [handleReplace]\n  );\n  const onEdit = React.useCallback(\n    item => {\n      setDialogState({\n        type: 'Edit',\n        open: true,\n        initialValues: item\n      });\n    },\n    [setDialogState]\n  );\n\n  return (\n    <>\n      {title && (\n        <Typography variant='h5' color='textPrimary' style={{ fontWeight: 'bold' }}>\n          {title}\n        </Typography>\n      )}\n      {subtitle && (\n        <Typography variant='subtitle1' color='textPrimary'>\n          {subtitle}\n        </Typography>\n      )}\n      <Box mt={1}>\n        <Grid container spacing={2}>\n          {value.map((item, i) => (\n            <Grid key={i} item>\n              <ActionCardClassResource\n                item={item}\n                onLock={onLock}\n                viewLabel='View Presentation'\n                onRemove={remove && onRemove}\n                onEdit={edit && onEdit}\n                minHeight={112}\n                titleProps={{ noWrap: false, variant: 'h6', color: 'textPrimary' }}\n                isOwner={isOwner}\n                enableLock={enableLock}\n              />\n            </Grid>\n          ))}\n\n          <Grid style={{ display: add ? 'flex' : 'none' }} key={'add'} item lg={4} sm={6} xs={12}>\n            <DialogButton Module={{ ...DialogModule, id: title, title }} variant='styled' styledVariant='secondary' onSubmit={handleSubmit}>\n              Add New\n            </DialogButton>\n          </Grid>\n        </Grid>\n      </Box>\n    </>\n  );\n}\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport { useDialogState } from '../useDialogState';\nimport { uuid } from '../../../../helpers';\nimport Select from '../../DialogField/Select';\nimport Label from '../../DialogField/Label';\n\nexport const title = 'Pre-Requisite';\n\nexport default function PreRecDialog({ id = title, onDelete, onClose = undefined, onSubmit, anchorEl = undefined, setValues = undefined, ...other }) {\n  const [{ type, initialValues }, setState] = useDialogState(id);\n  const { options = [], classOptions = [] } = initialValues;\n\n  const handleClose = React.useCallback(() => {\n    setState(prev => ({ ...prev, open: false, loading: false }));\n    onClose && onClose();\n  }, [onClose, setState]);\n\n  const handleSubmit = React.useCallback(\n    values => {\n      if (type === 'Add') {\n        onSubmit && onSubmit({ ...values, id: uuid() });\n      } else {\n        onSubmit && onSubmit(values);\n      }\n      handleClose();\n    },\n    [onSubmit, type, handleClose]\n  );\n\n  return (\n    <GenericDialog\n      id={id}\n      title={id}\n      onClose={onClose}\n      onDelete={type === 'Edit' && onDelete}\n      submitLabel={'Done'}\n      onSubmit={handleSubmit}\n      fields={[\n        {\n          id: 'id',\n          hidden: true\n        },\n        {\n          Field: Label,\n          label: 'Select group and assicated class which must be completed prior to starting this class.'\n        },\n        {\n          id: 'groupId',\n          label: 'Select Group',\n          Field: Select,\n          items: options,\n          autoFocus: true,\n          required: true\n        },\n        {\n          id: 'classId',\n          label: 'Must Complete Class',\n          Field: Select,\n          items: classOptions,\n          required: true\n        }\n      ]}\n      {...other}\n    />\n  );\n}\n","import * as React from 'react';\nimport { Box, Grid, Typography } from '@material-ui/core';\nimport useInstructorGroups from '../../database/useInstructorGroups';\nimport DialogButton from '../application/GenericDialog/DialogButton';\nimport * as PreRecDialog from '../application/GenericDialog/PreRec';\nimport useInstructorClasses from '../pages/Class/useInstructorClasses';\n\nexport interface PreRec {\n  id: string;\n  groupId: string; // associated group if linked to a group\n  classId: string; // associated class that must be completed\n}\n\nexport function PreRecs({ value = {}, label = 'Pre-Requisites', disabled, onChange }) {\n  const { data: groups = [] } = useInstructorGroups();\n  const { data: instructorClasses } = useInstructorClasses();\n\n  var options = [{ value: 'All Groups', label: 'All Groups' }].concat((groups as any).map(g => ({ value: g.id, label: g.name })));\n  var classOptions = instructorClasses.map(ic => ({ value: ic.id, label: `${ic.headline}: ${ic.name}` }));\n\n  const value_str = JSON.stringify(value);\n  const handleSubmit = React.useCallback(\n    ({ id, groupId, classId }) => {\n      const value = JSON.parse(value_str);\n      value[id] = { id, groupId, classId };\n      onChange && onChange({ target: { value } });\n    },\n    [onChange, value_str]\n  );\n  const handleDelete = React.useCallback(\n    (values, setState) => {\n      const { id } = values;\n      const value = JSON.parse(value_str);\n      if (value[id]) {\n        delete value[id];\n      }\n      onChange && onChange({ target: { value } });\n      setState(prev => ({ ...prev, open: false, loading: false }));\n    },\n    [onChange, value_str]\n  );\n\n  return (\n    <>\n      <Typography variant='h5' color='textPrimary' style={{ fontWeight: 'bold' }}>\n        {label}\n      </Typography>\n\n      <Box mt={1}>\n        <Grid container spacing={2}>\n          {Object.keys(value).map(k => {\n            const { id, groupId, classId } = value[k];\n            const g = groups.find(g => g.id === groupId);\n            const c = instructorClasses.find(ic => ic.id === classId);\n            const groupName = g?.name ?? groupId;\n            const className = `${c?.headline}: ${c?.name}`;\n            return (\n              <Grid item>\n                <DialogButton\n                  Module={PreRecDialog}\n                  mount={false}\n                  type='Edit'\n                  initialValues={{\n                    id,\n                    groupId,\n                    classId,\n                    options,\n                    classOptions\n                  }}\n                  onDelete={handleDelete}\n                  fullWidth={true}\n                  variant='styled'\n                  styledVariant='secondary'\n                  onSubmit={handleSubmit}\n                >\n                  {`${groupName} must complete ${className}`}\n                </DialogButton>\n              </Grid>\n            );\n          })}\n          <Grid item>\n            <DialogButton\n              Module={PreRecDialog}\n              initialValues={{\n                options,\n                classOptions\n              }}\n              type='Add'\n              variant='styled'\n              styledVariant='secondary'\n              onSubmit={handleSubmit}\n              onDelete={handleDelete} // Has to be here as the edit form isn't mounted, call this conditionall based on type == 'Edit'\n            >\n              Add New\n            </DialogButton>\n          </Grid>\n        </Grid>\n      </Box>\n    </>\n  );\n}\n","import { useGroups } from '../database/useGroups';\nimport { isEmpty } from '../helpers';\nimport { useLayout } from '../components/layout/hooks';\n\nexport default function useInstructorGroups() {\n  const [{ instructor }] = useLayout();\n  var active = instructor && !isEmpty(instructor?.userId) ? true : false;\n\n  return useGroups({\n    active,\n    requestParams: instructor && {\n      // If instructor mode, then filter groups by instructor's userId\n      FilterExpression: '#userId = :userId',\n      ExpressionAttributeNames: {\n        '#userId': 'userId'\n      },\n      ExpressionAttributeValues: {\n        ':userId': instructor?.userId\n      }\n    }\n  });\n}\n","import { useLayout } from '../../layout/hooks';\nimport useClassesByUserId from './useClassesByUserId';\n\nexport default function useInstructorClasses() {\n  const [{ instructor }] = useLayout();\n  const { userId } = instructor;\n  return useClassesByUserId({ userId });\n}\n","import * as React from 'react';\nimport { Grid, Box, Divider } from '@material-ui/core';\nimport ChildPage from '../ChildPage';\nimport { useHandleChangeRouteLayout } from '../../layout/hooks';\nimport StyledButton from '../../general/StyledButton';\nimport { BlockList } from '../../general/BlockList';\nimport { tables } from '../../../database/dbConfig';\nimport { getClassTitle, isEmpty } from '../../../helpers';\nimport useFormState from '../../hooks/useFormState';\nimport Text from '../../application/DialogField/Text';\nimport ImageSelector from '../../application/DialogField/ImageSelector';\nimport { useClassData } from '../../../database/useClassData';\nimport { BlockListClassResource } from '../../general/BlockListClassResource';\nimport { BlockListClassPresentation } from '../../general/BlockListClassPresentation';\nimport { useIsOwner } from '../../../database/useIsOwnertsx';\nimport { PreRecs } from '../../general/PreRecs';\nimport { useIsInstructorMode } from '../../../hooks';\n\nconst Model = tables.classes;\nconst validate = ({ name }) => {\n  const newErrors = {};\n  if (isEmpty(name)) {\n    newErrors['name'] = 'Required';\n  }\n  return newErrors;\n};\n\nconst TitleButton = ({ onClick }) => <StyledButton onClick={onClick}>Save Changes</StyledButton>;\n\nexport default function ClassMaterials() {\n  // Set active to false, so we use the local copy instead of querying the database.\n  // This is useful because the query will fail if the instructor has not saved an edited copy yet.\n  const { data, handleChange }: any = useClassData({ active: false });\n  const { name, headline, image, preRecs = {}, keySkills = [], rankingModel = [], classResources = [], surveyQuestions = [], classPresentations = [] } = data;\n  const isInstructorMode = useIsInstructorMode();\n\n  const handleChangeRouteLayout = useHandleChangeRouteLayout();\n\n  const { formState, handleUpdate } = useFormState({ Model, validate, onSuccess: handleChangeRouteLayout('/ClassDashboard', { class: data }) });\n  const { loading, errors } = formState;\n\n  const isOwner = useIsOwner(data);\n\n  return (\n    <ChildPage\n      backLabel='Back to Class'\n      onBack={handleChangeRouteLayout('/ClassDashboard', { class: data })}\n      title={getClassTitle({ headline, name })}\n      subtitle='Edit Class Materials'\n      TitleButton={props => <TitleButton onClick={handleUpdate(data)} {...props} />}\n    >\n      <Box mt={2}>\n        <Divider />\n\n        <Grid container style={{ marginTop: 16 }} spacing={3}>\n          <Grid item>\n            <Text\n              error={errors['headline']}\n              autoFocus\n              disabled={loading}\n              placeholder='Enter Class Headline'\n              value={headline}\n              onChange={handleChange('headline')}\n              label='Class Headline'\n              fullWidth={false}\n            />\n          </Grid>\n          <Grid item>\n            <Text\n              error={errors['name']}\n              disabled={loading}\n              placeholder='Enter Class Name'\n              value={name}\n              onChange={handleChange('name')}\n              label='Class Name'\n              fullWidth={false}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <ImageSelector error={errors['image']} disabled={loading} value={image} onChange={handleChange('image')} label='Associated Image' />\n          </Grid>\n          {isInstructorMode && (\n            <Grid item xs={12}>\n              <PreRecs disabled={loading} value={preRecs} onChange={handleChange('preRecs')} />\n            </Grid>\n          )}\n\n          <Grid item xs={12}>\n            <BlockList title='Key Skills' isOwner={isOwner} value={keySkills} add={true} edit={true} remove={true} onChange={handleChange('keySkills')} />\n          </Grid>\n          <Grid item xs={12}>\n            <BlockList\n              title='Ranking Model'\n              isOwner={isOwner}\n              value={rankingModel}\n              add={false}\n              edit={true}\n              remove={false}\n              onChange={handleChange('rankingModel')}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <BlockList\n              title='Survey Questions'\n              subtitle='Questions are related to the class materials and will be rated by students from 1 to 5 based on the Ranking Model'\n              isOwner={isOwner}\n              value={surveyQuestions}\n              add={true}\n              edit={true}\n              remove={true}\n              onChange={handleChange('surveyQuestions')}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <BlockListClassPresentation\n              title='Class Presentation Videos'\n              subtitle='Add links to the class presentation videos that are relevant to the lesson'\n              isOwner={isOwner}\n              value={classPresentations}\n              add={true}\n              edit={true}\n              remove={true}\n              onChange={handleChange('classPresentations')}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <BlockListClassResource\n              title='Class Resources'\n              subtitle='Add links to resources that are relevant to the lesson'\n              isOwner={isOwner}\n              value={classResources}\n              add={true}\n              edit={true}\n              remove={true}\n              onChange={handleChange('classResources')}\n              enableLock={true}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <Divider />\n          </Grid>\n          <Grid item xs={12}>\n            <TitleButton onClick={handleUpdate(data)} />\n          </Grid>\n        </Grid>\n      </Box>\n    </ChildPage>\n  );\n}\n","import { useUserId } from '../components/layout/hooks';\n\nexport const useIsOwner = classData => {\n  const uid = useUserId();\n  const { parentUserId, userId } = classData;\n  return parentUserId ? parentUserId === uid : userId === uid;\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Grid, InputLabel, makeStyles, createStyles } from '@material-ui/core';\nimport NotchedOutline from '@material-ui/core/OutlinedInput/NotchedOutline';\nimport { isError } from '../../../helpers';\n\nconst useStyles = makeStyles(({ palette, shape }: any) =>\n  createStyles({\n    root: {\n      position: 'relative',\n      width: '100%'\n    },\n    container: {\n      position: 'relative'\n    },\n    content: {\n      minHeight: 40,\n      paddingLeft: 16,\n      paddingRight: 16,\n      paddingTop: 8,\n      paddingBottom: 8,\n      borderRadius: shape.borderRadius,\n      borderColor: palette.type === 'light' ? 'rgba(0, 0, 0, 0.23)' : 'rgba(255, 255, 255, 0.23)',\n      '&:hover': {\n        borderColor: palette.text.primary\n      }\n    },\n    inputLabel: {\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      // slight alteration to spec spacing to match visual spec result\n      transform: 'translate(0, 24px) scale(1)'\n    },\n    notchedOutline: ({ error }: any) => ({\n      borderColor: isError(error) ? palette.error.main : 'inherit'\n    })\n  })\n);\n\n// Needs some work to handle focused state.  It should use FormControl and formControlState.\nexport default function OutlinedDiv({\n  label = '',\n  error = undefined,\n  width = undefined,\n  maxWidth = undefined,\n  margin = undefined,\n  marginTop = undefined,\n  marginBottom = undefined,\n  height = undefined,\n  children = undefined\n}) {\n  const classes = useStyles({ error });\n  const [labelWidth, setLabelWidth] = React.useState(0);\n  const labelRef = React.useRef(null);\n  React.useEffect(() => {\n    const labelNode: any = ReactDOM.findDOMNode(labelRef.current);\n    setLabelWidth(labelNode != null ? labelNode.offsetWidth : 0);\n  }, [label]);\n\n  return (\n    <div className={classes.root} style={{ width, maxWidth, margin, marginTop, marginBottom, height }}>\n      <InputLabel ref={labelRef} htmlFor={label} variant='outlined' className={classes.inputLabel} shrink>\n        {label}\n      </InputLabel>\n      <div className={classes.container}>\n        <Grid container id={label} className={classes.content} alignItems='center'>\n          <Grid item xs={12}>\n            {children}\n          </Grid>\n          <NotchedOutline className={classes.notchedOutline} notched labelWidth={labelWidth} />\n        </Grid>\n      </div>\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { FormControl, FormControlLabel, FormHelperText, Radio as MuiRadio, RadioGroup, Typography } from '@material-ui/core';\nimport { isError } from '../../../helpers';\nimport OutlinedDiv from '../../general/OutlinedDiv/OutlinedDiv';\n\nconst Radio = ({ items, value = '', label, variant, error, margin = 'dense' as 'dense', onChange, forceErrorMargin, initialValue = undefined, ...other }) => (\n  <FormControl component='fieldset' variant={variant} error={isError(error)} fullWidth margin={margin}>\n    <OutlinedDiv label={label}>\n      <RadioGroup onChange={onChange} value={value} {...other}>\n        {items.map(i => (\n          <FormControlLabel\n            key={i.value}\n            value={i.value}\n            control={<MuiRadio color='default' size='small' />}\n            label={<Typography variant='body2'>{i.label}</Typography>}\n          />\n        ))}\n      </RadioGroup>\n      {(forceErrorMargin || error) && <FormHelperText>{error}</FormHelperText>}\n    </OutlinedDiv>\n  </FormControl>\n);\n\nexport default Radio;\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport Label from '../../DialogField/Label';\nimport Radio from '../../DialogField/Radio';\nimport MarginDivider from '../../DialogField/MarginDivider';\nimport { sendStudentInvite } from './helpers';\nimport { useDialogState } from '../useDialogState';\nimport { useSnackBar } from '../../SnackBar/useSnackBar';\nimport { isEmpty, parseEmails, uuid, validateEmail } from '../../../../helpers';\nimport { tables } from '../../../../database/dbConfig';\nimport { useSubmitDialogData } from '../useSubmitDialogData';\nimport useProcessData from '../../../../database/useProcessData';\nimport Student from '../../../../database/models/Student';\nimport Group from '../../../../database/models/Group';\n\nexport const title = 'Create New Group';\n\nconst validate = ({ participants }) => {\n  const newErrors = {};\n  if (!isEmpty(participants)) {\n    parseEmails(participants).forEach(e => {\n      if (!validateEmail(e)) {\n        newErrors['participants'] = 'Invalid email format';\n      }\n    });\n  }\n  return newErrors;\n};\n\nexport default function CreateGroupDialog({ id = title, onClose = undefined }) {\n  const [state, setState] = useDialogState(id);\n  const { initialValues } = state;\n  const userId = initialValues?.userId;\n\n  const [, setSnackbar] = useSnackBar();\n  const submitData = useSubmitDialogData({ id });\n\n  const handleClose = React.useCallback(\n    (props = undefined, isLast = true) => {\n      props && setSnackbar(props);\n      if (isLast) {\n        setState(prev => ({ ...prev, open: false, loading: false }));\n        onClose && onClose();\n      }\n    },\n    [onClose, setState, setSnackbar]\n  );\n\n  const onSuccess = React.useCallback(() => {\n    handleClose({ open: true, variant: 'success', message: 'Successfully sent invite' });\n  }, [handleClose]);\n\n  const onError = React.useCallback(\n    isLast => () => {\n      handleClose({ open: true, variant: 'error', message: 'Error sending invite' }, isLast);\n    },\n    [handleClose]\n  );\n\n  const processData = useProcessData();\n\n  const onSubmitSuccess = React.useCallback(\n    ({ id: groupId, participants, name, type, location }) => () => {\n      const invitesToSend = parseEmails(participants);\n      if (invitesToSend.length === 0) {\n        handleClose({ open: true, variant: 'success', message: 'Successfully created group' });\n      } else {\n        invitesToSend.forEach((email, i) => {\n          // Create the student invite rows and also send the individual invites\n          const isLast = i === parseEmails(participants).length - 1;\n          const id = uuid();\n\n          const Data: Student = {\n            id,\n            groupId,\n            parentId: userId,\n            email\n          };\n\n          setState(prev => ({ ...prev, loading: true }));\n\n          processData({\n            Model: tables.students,\n            Action: 'c',\n            Data,\n            onError: onError(isLast),\n            onSuccess: () => {\n              sendStudentInvite({ id, email, name, type, location, onError: onError(isLast), onSuccess: isLast && onSuccess });\n            }\n          });\n        });\n      }\n    },\n    [onSuccess, onError, userId, setState, processData, handleClose]\n  );\n\n  const handleSubmit = React.useCallback(\n    ({ name, location, type, participants }) => {\n      // First create the group in the database\n      const group: Group = {\n        id: uuid(),\n        userId, // id of user that created the group\n        name,\n        location,\n        type,\n        participants\n      };\n\n      submitData({\n        Data: group,\n        Model: tables.groups,\n        Action: 'c',\n        OnSuccess: onSubmitSuccess(group) // Next create the student invites\n      });\n    },\n    [userId, submitData, onSubmitSuccess]\n  );\n\n  return (\n    <GenericDialog\n      id={id}\n      title={id}\n      onClose={onClose}\n      submitLabel={'Create Group'}\n      initialValues={initialValues}\n      validate={validate}\n      onSubmit={handleSubmit}\n      fields={[\n        {\n          label: 'Enter Group Information:',\n          Field: Label\n        },\n        {\n          Field: MarginDivider\n        },\n        {\n          id: 'name',\n          label: 'Group Name',\n          placeholder: 'Enter Group Name',\n          required: true\n        },\n        {\n          id: 'location',\n          label: 'Location',\n          placeholder: 'Enter Group Location',\n          required: true\n        },\n        {\n          id: 'type',\n          label: 'Group Type',\n          Field: Radio,\n          variant: 'outlined',\n          items: [\n            { value: 'On Site', label: 'On Site' },\n            { value: 'On Line', label: 'On Line' }\n          ],\n          initialValue: 'On Line'\n        },\n        {\n          id: 'participants',\n          label: 'Group Participats',\n          placeholder: 'Enter email addressess to give acces to this class',\n          required: false,\n          multiline: true,\n          rows: 6\n        }\n      ]}\n    />\n  );\n}\n","import React from 'react';\nimport { useDialogState } from './useDialogState';\nimport useProcessData from '../../../database/useProcessData';\n\nexport const useSubmitDialogData = ({ id, onClose = undefined }) => {\n  const [, setState] = useDialogState(id);\n  const processData = useProcessData();\n\n  const handleClose = React.useCallback(() => {\n    setState(prev => ({ ...prev, open: false, loading: false }));\n    onClose && onClose();\n  }, [onClose, setState]);\n\n  const submitData = React.useCallback(\n    ({ Data, Model, Action = 'c', OnSuccess = undefined, OnError = undefined }) => {\n      setState(prev => ({ ...prev, loading: true }));\n      processData({\n        Model,\n        Action,\n        Data,\n        onError: OnError ? OnError : () => setState(prev => ({ ...prev, loading: false, error: 'Error submitting values' })),\n        onSuccess: OnSuccess ? OnSuccess : handleClose // If OnSuccess is provided, then that function should handle closing of the dialog, otherwise automatically close\n      });\n    },\n    [setState, processData, handleClose]\n  );\n\n  return submitData;\n};\n","import * as React from 'react';\nimport { Grid, Box, Divider, Typography } from '@material-ui/core';\nimport ChildPage from '../ChildPage';\nimport { useHandleChangeRouteLayout, useLayout } from '../../layout/hooks';\nimport { tables } from '../../../database/dbConfig';\nimport { getClassTitle, isEmpty } from '../../../helpers';\nimport useFormState from '../../hooks/useFormState';\nimport DialogButton from '../../application/GenericDialog/DialogButton';\nimport * as CreateGroupDialog from '../../application/GenericDialog/CreateGroup';\nimport { useFullScreen, useIsInstructorMode } from '../../../hooks';\nimport { useGroups } from '../../../database/useGroups';\nimport { useClassData } from '../../../database/useClassData';\nimport ClassGroup from './ClassGroup';\n\nconst Model = tables.classes;\nconst validate = ({ name }) => {\n  const newErrors = {};\n  if (isEmpty(name)) {\n    newErrors['name'] = 'Required';\n  }\n  return newErrors;\n};\n\nconst TitleButton = ({ subtitle = undefined, initialValues = undefined, showArchived, setShowArchived, onClose, disabled }) => (\n  <Grid container spacing={3} justify='center'>\n    <Grid item>\n      <Grid container spacing={1} justify='center'>\n        <Grid item xs={12}>\n          <DialogButton size='large' onClick={() => setShowArchived(!showArchived)} fullWidth variant='styled'>\n            {showArchived ? 'Hide Archived' : 'Show Archived'}\n          </DialogButton>\n        </Grid>\n      </Grid>\n    </Grid>\n    <Grid item>\n      <DialogButton\n        Module={CreateGroupDialog}\n        onClose={onClose}\n        subtitle={subtitle}\n        variant='styled'\n        size='large'\n        fullWidth\n        disabled={disabled}\n        initialValues={initialValues}\n      >\n        Create Group\n      </DialogButton>\n    </Grid>\n  </Grid>\n);\n\nexport default function ClassRoster() {\n  const { data }: any = useClassData();\n  const { userId } = data;\n\n  const { name, headline, id } = data;\n  const isInstructorMode = useIsInstructorMode();\n  const [{ instructor }] = useLayout();\n\n  // TODO: Add logic to retreive class, if no class found, then automatically create the class for the instructor, disable everything until this is done.\n  const handleChangeRouteLayout = useHandleChangeRouteLayout();\n  const { formState, handleUpdate } = useFormState({ Model, validate, onSuccess: handleChangeRouteLayout('/Classes') });\n  const { loading } = formState;\n  const fullScreen = useFullScreen();\n\n  const { data: groups, handleRefresh, loading: loadingGroups } = useGroups({\n    requestParams: instructor && {\n      // If instructor mode, then filter groups by instructor's userId\n      FilterExpression: '#userId = :userId',\n      ExpressionAttributeNames: {\n        '#userId': 'userId'\n      },\n      ExpressionAttributeValues: {\n        ':userId': instructor?.userId\n      }\n    }\n  });\n\n  const [showArchived, setShowArchived] = React.useState(false);\n\n  return (\n    <ChildPage\n      loading={loading || loadingGroups}\n      backLabel='Back to Class'\n      onBack={handleChangeRouteLayout('/ClassDashboard', { class: data })}\n      title={getClassTitle({ headline, name })}\n      subtitle='Class Roster'\n      TitleButton={props =>\n        isInstructorMode && ( // Only show the create group button for instructors\n          <TitleButton\n            showArchived={showArchived}\n            setShowArchived={setShowArchived}\n            subtitle={getClassTitle({ headline, name })}\n            initialValues={{ userId, class: data }}\n            disabled={loading}\n            onClose={handleRefresh}\n            onClick={handleUpdate(data)}\n            {...props}\n          />\n        )\n      }\n    >\n      <Box mt={2}>\n        <Divider />\n        <Grid container style={{ padding: !fullScreen ? 24 : 8 }} spacing={3}>\n          {groups\n            .filter(c => showArchived || !c.deleted)\n            .map((g, i) => (\n              <Grid item key={g?.id} xs={12}>\n                <ClassGroup {...g} handleRefreshGroups={handleRefresh} classId={id} mount={i === 0} />\n              </Grid>\n            ))}\n        </Grid>\n        {showArchived && groups.filter(c => c.deleted).length === 0 && (\n          <>\n            <Box m={3}>\n              <Typography color='error'>There are no archived groups at this time.</Typography>\n            </Box>\n          </>\n        )}\n      </Box>\n    </ChildPage>\n  );\n}\n","import * as React from 'react';\nimport { Container, Grid, Typography } from '@material-ui/core';\nimport Page from './Page';\n\nexport default function TermsAndConditions() {\n  return (\n    <Container maxWidth='md'>\n      <Page title='Terms and Conditions'>\n        <Grid container spacing={2}>\n          <Grid item>\n            <Typography>\n              DOORS offers materials for educational purposes. We are not a health care or medical device provider, and our materials should not be interpreted\n              as medical advice. We make no claims, representations or guarantees that the teaching materials we provide offer physical or therapeutic benefit.\n            </Typography>\n          </Grid>\n          <Grid item>\n            <Typography>\n              Materials are intended for general information purposes only. They are not intended to be relied upon and are not a substitute for professional\n              medical advice based on an individuals condition or unique circumstances. Educational materials we offer are not intended to replace medical\n              treatment or advice.\n            </Typography>\n          </Grid>\n          <Grid item>\n            <Typography>\n              You assume full responsibility for your decisions and actions. We make no representation or warranties about the accuracy, completeness, or\n              suitability for any purpose of the advice, other materials and information published as part of our educational materials.\n            </Typography>\n          </Grid>\n        </Grid>\n      </Page>\n    </Container>\n  );\n}\n","import * as React from 'react';\nimport { Container, Grid } from '@material-ui/core';\nimport Page from './Page';\nimport StyledButton from '../general/StyledButton';\nimport DialogButton from '../application/GenericDialog/DialogButton';\nimport * as AddStudentDialog from '../application/GenericDialog/AddStudent';\nimport * as Icons from '@material-ui/icons';\n\nexport default function StyleGuide() {\n  return (\n    <Container maxWidth='md'>\n      <Page title='Style Guide'>\n        <Grid container spacing={2}>\n          <Grid item>\n            <StyledButton variant='primary'>Primary</StyledButton>\n            <StyledButton variant='primary' pressed={true}>\n              Primary Pressed\n            </StyledButton>\n            <StyledButton variant='primary' disabled={true}>\n              Primary Disabled\n            </StyledButton>\n          </Grid>\n          <Grid item>\n            <StyledButton variant='secondary'>Secondary</StyledButton>\n            <StyledButton variant='secondary' pressed={true}>\n              Secondary Pressed\n            </StyledButton>\n            <StyledButton variant='secondary' disabled={true}>\n              Secondary Disabled\n            </StyledButton>\n          </Grid>\n          <Grid>\n            <StyledButton variant='text'>Text</StyledButton>\n            <StyledButton variant='text' pressed={true}>\n              Text Pressed\n            </StyledButton>\n            <StyledButton variant='text' disabled={true}>\n              Text Disabled\n            </StyledButton>\n          </Grid>\n          <Grid item xs={12}>\n            <DialogButton maxWidth='xl' fullWidth Module={AddStudentDialog} Icon={Icons.Add} size='large' variant='styled' tooltip=''>\n              Add Student\n            </DialogButton>\n          </Grid>\n        </Grid>\n      </Page>\n    </Container>\n  );\n}\n","import * as React from 'react';\nimport clsx from 'clsx';\nimport { Card, Typography, makeStyles, Grid, Tooltip } from '@material-ui/core';\nimport { grey } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles(({ palette, spacing }) => ({\n  root: {},\n  header: ({ minHeight = 116 }: any) => ({\n    minHeight,\n    color: palette.common.black,\n    padding: spacing(2)\n  }),\n  actions: {\n    display: 'flex',\n    alignItems: 'flex-end',\n    justifyContent: 'flex-end'\n  },\n  circle: {\n    borderRadius: 50,\n    width: 36,\n    height: 36,\n    color: palette.primary.main,\n    border: `2px solid ${palette.primary.main}`,\n    cursor: 'pointer',\n    '&:hover': {\n      color: palette.common.white,\n      background: palette.primary.light\n    }\n  },\n  circleSelected: {\n    borderRadius: 50,\n    width: 36,\n    height: 36,\n    color: palette.common.white,\n    border: `2px solid ${palette.primary.light}`,\n    background: palette.primary.main,\n    cursor: 'pointer'\n  },\n  circleLast: {\n    borderRadius: 50,\n    width: 36,\n    height: 36,\n    color: grey[600],\n    border: `2px solid ${grey[600]}`,\n    cursor: 'pointer',\n    '&:hover': {\n      color: palette.common.white,\n      background: palette.primary.light\n    }\n  },\n  circleLastSelected: {\n    borderRadius: 50,\n    width: 36,\n    height: 36,\n    color: palette.common.white,\n    border: `2px solid ${grey[600]}`,\n    background: palette.primary.main,\n    cursor: 'pointer'\n  }\n}));\n\nexport default function SurveyQuestionCard({\n  title = undefined,\n  item = {} as any,\n  index = undefined,\n  className = undefined,\n  titleProps = undefined,\n  minHeight = undefined,\n  rankingModel = [],\n  onChange = undefined,\n  answerKey,\n  lastAnswerKey = undefined,\n  children = undefined,\n  ...rest\n}) {\n  const classes = useStyles({ minHeight });\n  const { name } = item;\n  const Title = title ? title : name ?? '';\n\n  return (\n    <Card className={clsx(classes.root, className)} {...rest}>\n      <div className={classes.header}>\n        {Title && (\n          <Grid container spacing={1}>\n            <Grid item xs>\n              {Title && (\n                <Typography noWrap gutterBottom variant='h5' color='primary' {...titleProps}>\n                  {Title}\n                </Typography>\n              )}\n            </Grid>\n          </Grid>\n        )}\n        <Grid container spacing={2}>\n          {rankingModel.map(rm => {\n            const { id } = rm;\n\n            const answer = item[answerKey] ?? {};\n            const { id: selectedId } = answer;\n\n            const lastAnswer = selectedId ? item[lastAnswerKey] ?? {} : {}; // Only show last answer if answer is selected\n            const { id: lastSelectedId } = lastAnswer;\n\n            return (\n              <Grid item key={id}>\n                <>\n                  <div\n                    className={\n                      id === selectedId && id === lastSelectedId\n                        ? classes.circleLastSelected\n                        : id === selectedId && id !== lastSelectedId\n                        ? classes.circleSelected\n                        : id !== selectedId && id === lastSelectedId\n                        ? classes.circleLast\n                        : classes.circle\n                    }\n                    onClick={onChange && onChange({ ...item, [`${answerKey}`]: rm })}\n                  >\n                    <Tooltip open={lastSelectedId === id} title={'Last Answer'}>\n                      <Typography variant='h5' align='center' color='inherit'>\n                        {Number(id) + 1}\n                      </Typography>\n                    </Tooltip>\n                  </div>\n                </>\n              </Grid>\n            );\n          })}\n        </Grid>\n      </div>\n    </Card>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Box } from '@material-ui/core';\nimport { BlockListItem } from './BlockList';\nimport SurveyQuestionCard from './SurveyQuestionCard';\n\nexport interface SurveyQuestionItem extends BlockListItem {\n  id: string;\n  name: string;\n  preSurveyAnswer: any;\n  postSurveyAnswer: any;\n}\n\nexport default function SurveyQuestions({\n  readonly = true,\n  value = [],\n  rankingModel = [],\n  showIndexBadges = undefined,\n  answerKey,\n  lastAnswerKey = undefined,\n  onChange\n}) {\n  const value_str = JSON.stringify(value);\n\n  const handleChange = React.useCallback(\n    item => () => {\n      const value = JSON.parse(value_str);\n      const index = value.findIndex(v => v.id === item.id);\n      if (index >= 0) {\n        value[index] = item;\n      }\n      onChange({ target: { value } });\n    },\n    [value_str, onChange]\n  );\n\n  return (\n    <>\n      <Box mt={1}>\n        <Grid container spacing={2}>\n          {value.map((item, i) => (\n            <Grid key={i} item lg={4} sm={6} xs={12}>\n              <SurveyQuestionCard\n                answerKey={answerKey}\n                lastAnswerKey={lastAnswerKey}\n                item={item}\n                index={showIndexBadges && i}\n                minHeight={112}\n                titleProps={{ noWrap: false, variant: 'h6', color: 'textPrimary' }}\n                rankingModel={rankingModel}\n                onChange={readonly !== true && handleChange}\n              />\n            </Grid>\n          ))}\n        </Grid>\n      </Box>\n    </>\n  );\n}\n","import React from 'react';\nimport { makeStyles, createStyles, withStyles, Theme } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nconst StyledLinearProgress = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      height: 10,\n      borderRadius: 5\n    },\n    colorPrimary: {\n      backgroundColor: theme.palette.grey[theme.palette.type === 'light' ? 200 : 700]\n    },\n    bar: {\n      borderRadius: 5,\n      backgroundColor: '#F1C30A'\n    }\n  })\n)(LinearProgress);\n\nconst useStyles = makeStyles({\n  root: {\n    flexGrow: 1\n  }\n});\n\nexport default function BorderedLinearProgress({ value, ...other }) {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <StyledLinearProgress variant='determinate' value={value} {...other} />\n    </div>\n  );\n}\n","import React from 'react';\nimport { Box, Typography } from '@material-ui/core';\nimport BorderLinearProgress from './BorderLinearProgress';\n\nexport default function ({ value }) {\n  return (\n    <Box mt={1} mb={1}>\n      <Typography>Your Progress</Typography>\n      <Box mt={1} mb={1}>\n        <BorderLinearProgress value={value} style={{ minWidth: 160 }} />\n      </Box>\n    </Box>\n  );\n}\n","import * as React from 'react';\nimport { useHandleChangeRouteLayout, useLayoutKey } from '../components/layout/hooks';\nimport { tables } from './dbConfig';\nimport useData from './useData';\n\nexport const useSessionData = () => {\n  const session = useLayoutKey('session');\n\n  // Set active to false to use the session in the layout and prevent reading from the server everytime.\n  // There is currently no need to read the session everytime for a single student\n  const { data, updateData, setData, ...other } = useData({ active: false, id: session?.id, Model: tables.sessions, initialState: { data: session } });\n\n  const handleChangeRouteLayout = useHandleChangeRouteLayout();\n\n  const session_str = JSON.stringify(data);\n\n  const handleSaveSession = React.useCallback(\n    nextRoute => () => {\n      updateData({ currentRoute: nextRoute }, handleChangeRouteLayout(nextRoute, { session: JSON.parse(session_str) }));\n    },\n    [updateData, handleChangeRouteLayout, session_str]\n  );\n\n  const handleSaveCompleteSession = React.useCallback(\n    nextRoute => () => {\n      updateData({ completed: true, currentRoute: nextRoute }, handleChangeRouteLayout(nextRoute, { session: JSON.parse(session_str) }));\n    },\n    [updateData, handleChangeRouteLayout, session_str]\n  );\n\n  return { session: data, handleSaveSession, handleSaveCompleteSession, updateData, setData, ...other };\n};\n","import * as React from 'react';\nimport { Box, Grid, Typography } from '@material-ui/core';\nimport Page from '../Page';\nimport SurveyQuestions from '../../general/SurveyQuestions';\nimport { useHandleChangeRoute } from '../../layout/hooks';\nimport StyledButton from '../../general/StyledButton';\nimport { useFullScreen } from '../../../hooks';\nimport YourProgress from '../../general/YourProgress';\nimport RankingModel from './RankingModel';\nimport { useSessionData } from '../../../database/useSessionData';\n\nconst nextRoute = '/Resources';\n\nexport default function PostSurvey() {\n  const { session, handleChange, handleSaveSession } = useSessionData();\n  const { completed, rankingModel = [], surveyQuestions = [] } = session;\n\n  const handleChangeRoute = useHandleChangeRoute();\n\n  const fs = useFullScreen();\n\n  // Only allow continue if all questions have been answered\n  const disabled = surveyQuestions.filter(sq => sq.postSurveyAnswer === undefined).length > 0;\n\n  return (\n    <Page title='Post-Survey' ActionButton={() => <YourProgress value={90} />}>\n      <Grid container spacing={fs ? 2 : 4}>\n        <Grid item xs={12} md={9}>\n          <Typography>Complete the following survey again and see how you've improved.</Typography>\n\n          <Typography>Don't worry if you don't see a big change, you can always take a lesson again!</Typography>\n          <Box mt={4}>\n            <SurveyQuestions\n              readonly={completed === true}\n              answerKey='postSurveyAnswer'\n              lastAnswerKey='preSurveyAnswer'\n              value={surveyQuestions}\n              rankingModel={rankingModel}\n              onChange={handleChange('surveyQuestions')}\n            />\n          </Box>\n          <Box mt={4}>\n            <Grid container spacing={2}>\n              <Grid item>\n                <StyledButton width={148} variant='secondary' onClick={handleChangeRoute('/Lessons')}>\n                  Back\n                </StyledButton>\n              </Grid>\n              <Grid item>\n                {completed === true ? (\n                  <StyledButton width={148} onClick={handleChangeRoute(nextRoute)}>\n                    Next\n                  </StyledButton>\n                ) : (\n                  <StyledButton disabled={disabled} width={148} onClick={handleSaveSession(nextRoute)}>\n                    Continue\n                  </StyledButton>\n                )}\n              </Grid>\n            </Grid>\n          </Box>\n        </Grid>\n        <Grid item xs={12} md={3}>\n          <RankingModel rankingModel={rankingModel} />\n        </Grid>\n      </Grid>\n    </Page>\n  );\n}\n","import * as React from 'react';\nimport clsx from 'clsx';\nimport { Card, Typography, makeStyles, Grid, Tooltip } from '@material-ui/core';\n\nconst useStyles = makeStyles(({ palette, spacing }) => ({\n  root: {},\n  header: ({ minHeight = 116 }: any) => ({\n    minHeight,\n    color: palette.common.black,\n    padding: spacing(2)\n  }),\n  actions: {\n    display: 'flex',\n    alignItems: 'flex-end',\n    justifyContent: 'flex-end'\n  },\n  circle: {\n    borderRadius: 50,\n    width: 156,\n    height: 36,\n    color: palette.primary.main,\n    border: `2px solid ${palette.primary.main}`,\n    cursor: 'pointer',\n    '&:hover': {\n      color: palette.common.white,\n      background: palette.primary.light\n    }\n  },\n  circleSelected: {\n    borderRadius: 50,\n    width: 156,\n    height: 36,\n    color: palette.common.white,\n    border: `2px solid ${palette.primary.light}`,\n    background: palette.primary.main,\n    cursor: 'pointer'\n  }\n}));\n\nexport default function AgeQuestionCard({\n  title = undefined,\n  readonly = undefined,\n  item = {} as any,\n  index = undefined,\n  className = undefined,\n  titleProps = undefined,\n  minHeight = undefined,\n  rankingModel = [],\n  onChange = undefined,\n  children = undefined,\n  ...rest\n}) {\n  const classes = useStyles({ minHeight });\n  const { name } = item;\n  const Title = title ? title : name ?? '';\n\n  return (\n    <Card className={clsx(classes.root, className)} {...rest}>\n      <div className={classes.header}>\n        {Title && (\n          <Grid container spacing={1}>\n            <Grid item xs>\n              {Title && (\n                <Typography noWrap gutterBottom variant='h5' color='primary' {...titleProps}>\n                  {Title}\n                </Typography>\n              )}\n            </Grid>\n          </Grid>\n        )}\n        <Grid container spacing={2}>\n          {rankingModel.map(rm => {\n            const { id } = rm;\n            const { preSurveyAnswer = {} } = item;\n            const { id: selectedId } = preSurveyAnswer;\n            return (\n              <Grid item key={id}>\n                <div\n                  className={id === selectedId ? classes.circleSelected : classes.circle}\n                  onClick={readonly !== true && onChange({ ...item, preSurveyAnswer: rm })}\n                >\n                  <Tooltip title={name}>\n                    <Typography variant='h5' align='center' color='inherit'>\n                      {id}\n                    </Typography>\n                  </Tooltip>\n                </div>\n              </Grid>\n            );\n          })}\n        </Grid>\n      </div>\n    </Card>\n  );\n}\n","import * as React from 'react';\nimport { Box, Grid, Typography } from '@material-ui/core';\nimport Page from '../Page';\nimport SurveyQuestions from '../../general/SurveyQuestions';\nimport { useHandleChangeRoute } from '../../layout/hooks';\nimport StyledButton from '../../general/StyledButton';\nimport AgeQuestionCard from '../../general/AgeQuestionCard';\nimport { defaultAgeRankingModels } from '../../../database/models/Class';\nimport { useFullScreen } from '../../../hooks';\nimport YourProgress from '../../general/YourProgress';\nimport RankingModel from './RankingModel';\nimport { ageQuestionLabel } from '../../../constants';\nimport { useSessionData } from '../../../database/useSessionData';\n\nconst nextRoute = '/Lessons';\n\nexport default function PreSurvey() {\n  const { session, handleChange, handleSaveSession } = useSessionData();\n  const { ageQuestion = { name: ageQuestionLabel }, rankingModel = [], surveyQuestions = [] } = session;\n  const readonly = session?.completed === true;\n\n  const handleChangeRoute = useHandleChangeRoute();\n\n  const handleAgeChange = React.useCallback(value => () => handleChange('ageQuestion')({ target: { value } }), [handleChange]);\n\n  const fs = useFullScreen();\n\n  // Only allow continue if all questions have been answered\n  const disabled = [...surveyQuestions, ageQuestion].filter(sq => sq.preSurveyAnswer === undefined).length > 0;\n\n  return (\n    <Page title='Pre-Survey' ActionButton={() => <YourProgress value={20} />}>\n      <Grid container spacing={fs ? 2 : 4}>\n        <Grid item xs={12} md={9}>\n          <Typography>Before you start your lesson, please complete the following survey.</Typography>\n\n          <Typography>This will help you keep track of all of the new things you will learn!</Typography>\n          <Box mt={4}>\n            <AgeQuestionCard\n              readonly={readonly}\n              item={ageQuestion}\n              minHeight={112}\n              titleProps={{ noWrap: false, variant: 'h6', color: 'textPrimary' }}\n              rankingModel={defaultAgeRankingModels}\n              onChange={handleAgeChange}\n            />\n          </Box>\n          <Box mt={4}>\n            <SurveyQuestions\n              readonly={readonly}\n              answerKey='preSurveyAnswer'\n              value={surveyQuestions}\n              rankingModel={rankingModel}\n              onChange={handleChange('surveyQuestions')}\n            />\n          </Box>\n          <Box mt={4}>\n            {readonly ? (\n              <StyledButton width={148} disabled={disabled} onClick={handleChangeRoute(nextRoute)}>\n                Next\n              </StyledButton>\n            ) : (\n              <StyledButton width={148} disabled={disabled} onClick={handleSaveSession(nextRoute)}>\n                Continue\n              </StyledButton>\n            )}\n          </Box>\n        </Grid>\n        <Grid item xs={12} md={3}>\n          <RankingModel rankingModel={rankingModel} />\n        </Grid>\n      </Grid>\n    </Page>\n  );\n}\n","import * as React from 'react';\nimport { Box, Grid } from '@material-ui/core';\nimport Page from '../Page';\nimport { useWidth } from '../../layout/hooks';\nimport StyledButton from '../../general/StyledButton';\nimport YourProgress from '../../general/YourProgress';\nimport ReactPlayer from 'react-player';\n\nexport default function Lesson({ presentation, onBack }) {\n  const { name, link } = presentation;\n  const width = useWidth();\n\n  return (\n    <Page title={name} ActionButton={() => <YourProgress value={75} />}>\n      <>\n        <ReactPlayer url={link} controls={true} width={Math.min(width - 32, 640)} />\n        <Box mt={4}>\n          <Grid container spacing={2}>\n            <Grid item>\n              <StyledButton width={148} onClick={onBack}>\n                Done\n              </StyledButton>\n            </Grid>\n          </Grid>\n        </Box>\n      </>\n    </Page>\n  );\n}\n","import * as React from 'react';\nimport { Box, Grid, Typography } from '@material-ui/core';\nimport Page from '../Page';\nimport { useHandleChangeRoute } from '../../layout/hooks';\nimport StyledButton from '../../general/StyledButton';\nimport YourProgress from '../../general/YourProgress';\nimport { isEmpty } from '../../../helpers';\nimport { useSessionData } from '../../../database/useSessionData';\nimport { BlockListClassResource } from '../../general/BlockListClassResource';\nimport Lesson from './Lesson';\n\nconst nextRoute = '/Post-Survey';\n\nexport default function Lessons() {\n  const { session, handleSaveSession, updateData } = useSessionData();\n  const { classPresentations = [], viewedPresentations = [], completed } = session;\n\n  const presentations = classPresentations.filter(c => c.deleted !== true); // Ensure we are only showing presentations that are not deleted\n\n  var allViewed = true;\n\n  presentations.forEach(p => {\n    if (!viewedPresentations.find(id => id === p.id)) allViewed = false;\n  });\n\n  const [contentId, setContentId] = React.useState();\n\n  const handleChangeRoute = useHandleChangeRoute();\n\n  const viewedPresentations_str = JSON.stringify(viewedPresentations);\n  const handleLink = React.useCallback(\n    item => () => {\n      const { id } = item;\n      const viewedPresentations = JSON.parse(viewedPresentations_str);\n      if (!viewedPresentations.includes(id)) {\n        updateData({ viewedPresentations: [...viewedPresentations, id] }); // If the user hasn't viewed this presentation yet, mark it as viewed and save\n      }\n      setContentId(id);\n    },\n    [setContentId, updateData, viewedPresentations_str]\n  );\n\n  const presentation = presentations.find(p => p.id === contentId);\n\n  return presentation ? (\n    <Lesson presentation={presentations.find(cp => cp.id === contentId)} onBack={() => setContentId(undefined)} />\n  ) : (\n    <Page title='Lessons' ActionButton={() => <YourProgress value={75} />}>\n      <>\n        {isEmpty(presentations) ? (\n          <Typography>Lessons have not been added. Please contact your administrator or instructor to setup the lessons.</Typography>\n        ) : (\n          <>\n            <Typography>View each of the following lessons prior to continuing:</Typography>\n            <BlockListClassResource enableLock={false} handleLink={handleLink} isOwner={false} viewLabel='View Lesson' value={presentations} viewed={viewedPresentations} />\n          </>\n        )}\n\n        <Box mt={3}>\n          <Grid container spacing={2}>\n            <Grid item>\n              <StyledButton width={148} variant='secondary' onClick={handleChangeRoute('/Pre-Survey')}>\n                Back\n              </StyledButton>\n            </Grid>\n            <Grid item>\n              {completed ? (\n                <StyledButton width={148} onClick={handleChangeRoute(nextRoute)}>\n                  Next\n                </StyledButton>\n              ) : (\n                <StyledButton disabled={!allViewed} width={148} onClick={handleSaveSession(nextRoute)}>\n                  Continue\n                </StyledButton>\n              )}\n            </Grid>\n          </Grid>\n        </Box>\n      </>\n    </Page>\n  );\n}\n","import * as React from 'react';\nimport { Box, Grid, Typography } from '@material-ui/core';\nimport Page from '../Page';\nimport YourProgress from '../../general/YourProgress';\nimport StyledButton from '../../general/StyledButton';\nimport { useHandleChangeRoute } from '../../layout/hooks';\nimport { BlockListClassResource } from '../../general/BlockListClassResource';\nimport { useSessionData } from '../../../database/useSessionData';\n\nconst nextRoute = '/Congratulations';\n\nexport default function Resources() {\n  const handleChangeRoute = useHandleChangeRoute();\n  const { session, handleSaveCompleteSession } = useSessionData();\n  const { classResources, completed } = session;\n\n  return (\n    <Page title='Resources' ActionButton={() => <YourProgress value={100} />}>\n      <>\n        <Typography>You can visit the following resources to complement your learning and practice your skills.</Typography>\n        <BlockListClassResource enableLock={false} isOwner={false} value={classResources} />\n        <Box mt={4}>\n          <Grid container spacing={2}>\n            <Grid item>\n              <StyledButton width={148} variant='secondary' onClick={handleChangeRoute('/Post-Survey')}>\n                Back\n              </StyledButton>\n            </Grid>\n\n            <Grid item>\n              {completed !== true ? (\n                <StyledButton width={148} onClick={handleSaveCompleteSession(nextRoute)}>\n                  End Session\n                </StyledButton>\n              ) : (\n                <StyledButton width={148} onClick={handleChangeRoute('/Classes')}>\n                  My Classes\n                </StyledButton>\n              )}\n            </Grid>\n          </Grid>\n        </Box>\n      </>\n    </Page>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Typography } from '@material-ui/core';\nimport Page from '../Page';\nimport YourProgress from '../../general/YourProgress';\nimport { useHandleChangeRoute, useWidth } from '../../layout/hooks';\nimport StyledButton from '../../general/StyledButton';\nimport { useClassData } from '../../../database/useClassData';\nimport { isEmpty } from '../../../helpers';\nimport group from '../../../images/group.png';\n\nexport default function Congratulations() {\n  const changeRoute = useHandleChangeRoute();\n  const { data } = useClassData();\n  const { headline, name } = data;\n  const width = useWidth();\n\n  const displayText = [headline, name].filter(x => !isEmpty(x)).join(' - ');\n\n  return (\n    <Page title='Congratulations' ActionButton={() => <YourProgress value={100} />}>\n      <Grid container spacing={2}>\n        <Grid item xs={12}>\n          <Typography>{`You completed ${displayText}`}</Typography>\n        </Grid>\n        <Grid item xs>\n          <img src={group} alt='logo' style={{ width: Math.min(width - 32, 400) }} />\n        </Grid>\n        <Grid item xs={12}>\n          <StyledButton onClick={changeRoute('/Classes')}>Go to My Classes</StyledButton>\n        </Grid>\n      </Grid>\n    </Page>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Box, Typography, Divider } from '@material-ui/core';\nimport ChildPage from '../ChildPage';\nimport { useHandleChangeRoute, useUserId } from '../../layout/hooks';\nimport StyledButton from '../../general/StyledButton';\nimport Text from '../../application/DialogField/Text';\nimport { BlockList } from '../../general/BlockList';\nimport { isEmpty, uuid } from '../../../helpers';\nimport { tables } from '../../../database/dbConfig';\nimport ImageSelector from '../../application/DialogField/ImageSelector';\nimport useFormState from '../../hooks/useFormState';\nimport Class, { defaultRankingModels } from '../../../database/models/Class';\nimport { BlockListClassResource } from '../../general/BlockListClassResource';\nimport { BlockListClassPresentation } from '../../general/BlockListClassPresentation';\nimport { useIsInstructorMode, useUserType } from '../../../hooks';\nimport { PreRecs } from '../../general/PreRecs';\n\nconst validate = ({ name }) => {\n  const newErrors = {};\n  if (isEmpty(name)) {\n    newErrors['name'] = 'Required';\n  }\n  return newErrors;\n};\n\nexport default function CreateClass() {\n  const userId = useUserId();\n  const Model = tables.classes;\n\n  const handleChangeRoute = useHandleChangeRoute();\n  const { formState, handleCreate } = useFormState({ Model, validate, onSuccess: handleChangeRoute('/Classes') });\n  const { loading, errors } = formState;\n\n  const userType = useUserType();\n\n  const [state, setState] = React.useState({\n    id: uuid(),\n    userId,\n    userType,\n    name: '',\n    image: 'wifi',\n    headline: '',\n    preRecs: {},\n    keySkills: [],\n    surveyQuestions: [],\n    rankingModel: defaultRankingModels,\n    classResources: [],\n    classPresentations: []\n  } as Class);\n\n  const { name, preRecs, headline, image, keySkills, rankingModel, surveyQuestions, classResources, classPresentations } = state;\n\n  const isInstructorMode = useIsInstructorMode();\n\n  const handleChange = React.useCallback(\n    key => ({ target }) => {\n      const { value } = target;\n      setState(prev => ({ ...prev, [`${key}`]: value }));\n    },\n    [setState]\n  );\n\n  const isOwner = true;\n\n  return (\n    <ChildPage backLabel='Back to Classes' onBack={handleChangeRoute('/Classes')} title='Create New Class'>\n      <Box mt={2}>\n        <Divider />\n        <Grid container style={{ marginTop: 16 }} spacing={3}>\n          <Grid item xs={12}>\n            <Text\n              error={errors['headline']}\n              autoFocus\n              disabled={loading}\n              placeholder='Enter Class Headline'\n              value={headline}\n              onChange={handleChange('headline')}\n              label='Class Headline'\n              fullWidth={false}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <Text\n              error={errors['name']}\n              disabled={loading}\n              placeholder='Enter Class Name'\n              value={name}\n              onChange={handleChange('name')}\n              label='Class Name'\n              fullWidth={false}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <ImageSelector error={errors['image']} disabled={loading} value={image} onChange={handleChange('image')} label='Associated Image' />\n          </Grid>\n          {isInstructorMode && (\n            <Grid item xs={12}>\n              <PreRecs disabled={loading} value={preRecs} onChange={handleChange('preRecs')} />\n            </Grid>\n          )}\n          <Grid item xs={12}>\n            <Typography variant='caption' color='textPrimary'>\n              Edit Class Materials\n            </Typography>\n            <BlockList title='Key Skills' isOwner={isOwner} value={keySkills} add={true} edit={true} remove={true} onChange={handleChange('keySkills')} />\n          </Grid>\n          <Grid item xs={12}>\n            <BlockList\n              title='Survey Questions'\n              subtitle='Questions are related to the class materials and will be rated by students from 1 to 5 based on the Ranking Model'\n              isOwner={isOwner}\n              value={surveyQuestions}\n              add={true}\n              edit={true}\n              remove={true}\n              onChange={handleChange('surveyQuestions')}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <BlockList\n              title='Ranking Model'\n              showIndexBadges={true}\n              isOwner={isOwner}\n              value={rankingModel}\n              add={false}\n              edit={true}\n              remove={false}\n              onChange={handleChange('rankingModel')}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <BlockListClassPresentation\n              title='Class Presentation Videos'\n              subtitle='Add links to the class presentation videos that are relevant to the lesson'\n              isOwner={isOwner}\n              value={classPresentations}\n              add={true}\n              edit={true}\n              onChange={handleChange('classPresentations')}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <BlockListClassResource\n              title='Class Resources'\n              subtitle='Add links to resources that are relevant to the lesson'\n              value={classResources}\n              isOwner={isOwner}\n              add={true}\n              onChange={handleChange('classResources')}\n              enableLock={true}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <StyledButton onClick={handleCreate(state)}>Create New Class</StyledButton>\n          </Grid>\n        </Grid>\n      </Box>\n    </ChildPage>\n  );\n}\n","import * as React from 'react';\nimport { makeStyles, Grid, Paper, Typography, Divider, TextField, CircularProgress, Link } from '@material-ui/core';\nimport { createStyles } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport BrandLogoImage from '../../images/logo.svg';\nimport { isEmpty } from '../../helpers';\nimport { useLogin, useHeight } from './hooks';\nimport { getUrlParamater } from '../../hooks';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    root: ({ height }: any) => ({\n      background: palette.common.white,\n      color: palette.primary.main,\n      height,\n      overflowY: 'auto'\n    }),\n    paper: {\n      marginTop: 32,\n      width: 300\n    },\n    disclaimer: {\n      marginTop: 32,\n      paddingLeft: 16,\n      paddingRight: 16,\n      maxWidth: 650\n    },\n    panelarea: {\n      background: '#F5F5F5'\n    },\n    button: {\n      background: palette.primary.main,\n      color: palette.common.white,\n      '&:hover': {\n        background: palette.primary.dark,\n        color: palette.common.white\n      }\n    },\n    wrapper: {\n      marginTop: 8,\n      width: 224\n    },\n    buttonProgress: {\n      position: 'absolute',\n      top: '25%',\n      left: '50%',\n      marginTop: -8,\n      marginLeft: -12\n    }\n  })\n);\n\nexport default function ForgotPassword({ email: Email = '', onBack, onSuccess = undefined }) {\n  const id = getUrlParamater('i');\n  const BannerMsg = isEmpty(id) ? '' : 'You must log in prior to accepting an invite.  If you do not have an account yet, please create a new account.';\n\n  const height = useHeight();\n  const classes = useStyles({ height });\n  const noAutoComplete = true;\n  var buttonRef = React.useRef(null);\n\n  const [state, setState] = React.useState({\n    loading: false,\n    errors: {},\n    forgotPassword: true,\n    email: Email,\n    newPassword: '',\n    confirmNewPassword: '',\n    confirmationCode: '',\n    enterNewPassword: false\n  });\n\n  const { loading, errors, forgotPassword, email, newPassword, enterNewPassword, confirmNewPassword, confirmationCode } = state;\n\n  const { handleLogin } = useLogin({ state, setState, onSuccess });\n\n  const handleReset = React.useCallback(() => {\n    handleLogin({ forgotPassword, email, enterNewPassword, confirmationCode, newPassword });\n  }, [forgotPassword, confirmationCode, handleLogin, email, enterNewPassword, newPassword]);\n\n  const handleChange = React.useCallback(\n    (name: string) => (event: any) => {\n      const value = event.target.value;\n      setState(prev => ({ ...prev, errors: {}, [name]: value }));\n    },\n    [setState]\n  );\n\n  const handleEnterReset = React.useCallback(() => {\n    setState(prev => ({ ...prev, enterNewPassword: true }));\n  }, [setState]);\n\n  const handleBack = React.useCallback(() => {\n    if (enterNewPassword) {\n      setState(prev => ({ ...prev, enterNewPassword: false }));\n    } else {\n      onBack && onBack();\n    }\n  }, [enterNewPassword, onBack]);\n\n  // Per https://stackoverflow.com/questions/50604671/programmatically-disabling-chrome-auto-fill\n  // The only way to prevent auto fill is autocomplete=newpassword\n  // Note this only prevents the browser from auto populating the fields, it does not prevent chromes new password manager\n  return (\n    <div\n      className={classes.root}\n      onKeyUp={(e: any) => {\n        if (e.keyCode === 13) {\n          // Enter key\n          buttonRef.current && buttonRef.current.click();\n        }\n      }}\n    >\n      <form autoComplete='off'>\n        <Grid container direction='column' justify='center' alignItems='center'>\n          <Grid item>\n            <Typography color='error' align='center' className={classes.disclaimer}>\n              {BannerMsg}\n            </Typography>\n          </Grid>\n          <Grid item xs={12}>\n            <Paper className={classes.paper}>\n              <Typography align='center' className={classes.panelarea}>\n                <img src={BrandLogoImage} alt='logo' style={{ height: 124 }} />\n              </Typography>\n              <Divider />\n              <Grid container spacing={1} direction='column' justify='center' alignItems='center' style={{ padding: 16 }}>\n                <Grid item>\n                  <TextField\n                    autoComplete={noAutoComplete ? 'new-password' : undefined}\n                    id='email'\n                    label='Email'\n                    disabled={loading}\n                    value={email}\n                    onChange={handleChange('email')}\n                    margin='dense'\n                    variant='outlined'\n                    error={isEmpty(errors['email']) ? false : true}\n                    helperText={errors['email']}\n                    autoFocus={!enterNewPassword || isEmpty(Email) ? true : false}\n                    InputLabelProps={{\n                      shrink: true\n                    }}\n                  />\n                </Grid>\n                {enterNewPassword && (\n                  <>\n                    <Grid item>\n                      <TextField\n                        id='confirmationCode'\n                        label='Confirmation Code'\n                        disabled={loading}\n                        value={confirmationCode}\n                        onChange={handleChange('confirmationCode')}\n                        margin='dense'\n                        variant='outlined'\n                        autoFocus={isEmpty(Email) ? false : true}\n                        error={isEmpty(errors['confirmationCode']) ? false : true}\n                        helperText={errors['confirmationCode']}\n                        InputLabelProps={{\n                          shrink: true\n                        }}\n                      />\n                    </Grid>\n                    <Grid item>\n                      <TextField\n                        autoComplete={noAutoComplete ? 'new-password' : undefined}\n                        id='newPassword'\n                        type='password'\n                        label='New Password'\n                        disabled={loading}\n                        value={newPassword}\n                        onChange={handleChange('newPassword')}\n                        margin='dense'\n                        variant='outlined'\n                        error={isEmpty(errors['newPassword']) ? false : true}\n                        helperText={errors['newPassword']}\n                        InputLabelProps={{\n                          shrink: true\n                        }}\n                      />\n                    </Grid>\n                    <Grid item>\n                      <TextField\n                        autoComplete={noAutoComplete ? 'new-password' : undefined}\n                        id='confirmNewPassword'\n                        type='password'\n                        label='Confirm New Password'\n                        disabled={loading}\n                        value={confirmNewPassword}\n                        onChange={handleChange('confirmNewPassword')}\n                        margin='dense'\n                        variant='outlined'\n                        error={isEmpty(errors['confirmNewPassword']) ? false : true}\n                        helperText={errors['confirmNewPassword']}\n                        InputLabelProps={{\n                          shrink: true\n                        }}\n                      />\n                    </Grid>\n                  </>\n                )}\n                <Grid item>\n                  <div className={classes.wrapper}>\n                    <Button ref={buttonRef} fullWidth={true} disabled={loading} variant='contained' className={classes.button} onClick={handleReset}>\n                      Reset Password\n                    </Button>\n                    {loading && <CircularProgress size={24} className={classes.buttonProgress} />}\n                  </div>\n                </Grid>\n                <Grid item>\n                  <div className={classes.wrapper}>\n                    <Button ref={buttonRef} fullWidth={true} disabled={loading} variant='contained' onClick={handleBack}>\n                      Back\n                    </Button>\n                  </div>\n                </Grid>\n                {!enterNewPassword && (\n                  <Grid item>\n                    <div style={{ marginTop: 16 }}>\n                      <Link style={{ marginLeft: 8, cursor: 'pointer' }} underline='always' color='inherit' onClick={handleEnterReset}>\n                        Enter Reset Confirmation Code\n                      </Link>\n                    </div>\n                  </Grid>\n                )}\n              </Grid>\n            </Paper>\n          </Grid>\n        </Grid>\n      </form>\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { useSignedInAsText } from '../../hooks';\nimport { useHandleChangeRoute } from '../layout/hooks';\nimport ChildPage from './ChildPage';\n\nexport default function AccessDenied() {\n  const changeRoute = useHandleChangeRoute();\n  return (\n    <ChildPage\n      backLabel='Back to Classes'\n      onBack={changeRoute('/Classes')}\n      title={'Access Denied'}\n      subtitle={`You are not authorized to view this page.  ${useSignedInAsText()}`}\n    ></ChildPage>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Box, Divider, Typography } from '@material-ui/core';\nimport { useLayout } from '../layout/hooks';\nimport DialogButton from '../application/GenericDialog/DialogButton';\nimport * as CreateGroupDialog from '../application/GenericDialog/CreateGroup';\nimport { useFullScreen, useIsAdminMode, useSignedInAsText } from '../../hooks';\nimport { useGroups } from '../../database/useGroups';\nimport ClassGroup from './Class/ClassGroup';\nimport Page from './Page';\n\nconst width = 200;\n\nconst CreateGroupButton = ({ initialValues = undefined, onClose, disabled }) => (\n  <Grid container style={{ width }} spacing={1} justify='center'>\n    <Grid item xs={12}>\n      <DialogButton\n        Module={CreateGroupDialog}\n        onClose={onClose}\n        fullWidth={true}\n        variant='styled'\n        size='large'\n        disabled={disabled}\n        initialValues={initialValues}\n      >\n        Create Group\n      </DialogButton>\n    </Grid>\n  </Grid>\n);\n\nexport default function Groups() {\n  const isAdminMode = useIsAdminMode();\n  const [{ instructor }] = useLayout();\n  const userId = instructor?.userId;\n  const fullScreen = useFullScreen();\n\n  const { data: groups, handleRefresh, loading } = useGroups({\n    requestParams: instructor && {\n      // If instructor mode, then filter groups by instructor's userId\n      FilterExpression: '#userId = :userId',\n      ExpressionAttributeNames: {\n        '#userId': 'userId'\n      },\n      ExpressionAttributeValues: {\n        ':userId': instructor?.userId\n      }\n    }\n  });\n\n  const [showArchived, setShowArchived] = React.useState(false);\n\n  const Buttons = React.useCallback(() => {\n    return (\n      <Grid container spacing={3}>\n        <Grid item xs>\n          <Grid container style={{ width }} spacing={1} justify='center'>\n            <Grid item xs={12}>\n              <DialogButton size='large' onClick={() => setShowArchived(!showArchived)} fullWidth variant='styled'>\n                {showArchived ? 'Hide Archived' : 'Show Archived'}\n              </DialogButton>\n            </Grid>\n          </Grid>\n        </Grid>\n\n        <Grid item xs>\n          <CreateGroupButton onClose={handleRefresh} disabled={loading} initialValues={{ userId }} />\n        </Grid>\n      </Grid>\n    );\n  }, [handleRefresh, loading, userId, showArchived]);\n\n  return (\n    <Page loading={loading} title={isAdminMode ? `Instructor Groups` : 'My Groups'} subtitle={useSignedInAsText()} ActionButton={Buttons}>\n      <>\n        <Box mt={2}>\n          <Divider />\n          <Grid container style={{ padding: !fullScreen ? 24 : 8 }} spacing={3}>\n            {groups\n              .filter(c => showArchived || !c.deleted)\n              .map((g, i) => (\n                <Grid item key={g?.id} xs={12}>\n                  <ClassGroup {...g} handleRefreshGroups={handleRefresh} mount={i === 0} />\n                </Grid>\n              ))}\n          </Grid>\n          {showArchived && groups.filter(c => c.deleted).length === 0 && (\n            <>\n              <Box m={3}>\n                <Typography color='error'>There are no archived groups at this time.</Typography>\n              </Box>\n            </>\n          )}\n        </Box>\n      </>\n    </Page>\n  );\n}\n","import * as React from 'react';\nimport { Route, Switch } from 'react-router';\nimport { publicUrl } from '../../helpers';\nimport PlayGround from './PlayGround';\nimport Instructors from '../pages/Instructors';\nimport { ProfileProvider } from '../pages/Profile/Profile';\nimport Calendar from '../pages/Calendar/Calendar';\nimport Classes from '../pages/Class/Classes/Classes';\nimport ClassDashboard from '../pages/Class/ClassDashboard/ClassDashboard';\nimport ClassMaterials from '../pages/Class/ClassMaterials';\nimport ClassRoster from '../pages/Class/ClassRoster';\nimport TermsAndConditions from '../pages/TermsAndConditions';\nimport StyleGuide from '../pages/StyleGuide';\nimport PostSurvey from '../pages/Class/PostSurvey';\nimport PreSurvey from '../pages/Class/PreSurvey';\nimport Lessons from '../pages/Class/Lessons';\nimport Resources from '../pages/Class/Resources';\nimport Congratulations from '../pages/Class/Congratulations';\nimport CreateClass from '../pages/Class/CreateClass';\nimport ForgotPassword from './ForgotPassword';\nimport { useHandleChangeRoute, useUserEmail } from './hooks';\nimport { useUserType } from '../../hooks';\nimport AccessDenied from '../pages/AccessDenied';\nimport ClassReport from '../pages/Class/ClassReport/ClassReport';\nimport InstructorClasses from '../pages/Class/Classes/InstructorClasses';\nimport Groups from '../pages/Groups';\n\nconst ForgotPasswordRoute = () => {\n  const email = useUserEmail();\n  const changeRoute = useHandleChangeRoute();\n  return <ForgotPassword email={email} onBack={changeRoute('/Profile')} onSuccess={changeRoute('/Profile')} />;\n};\n\nconst ProtectedRoute = ({ userTypes = [], ...other }) => {\n  const userType = useUserType();\n  const denied = userTypes.length > 0 && !userTypes.includes(userType) ? true : false;\n  return denied ? <AccessDenied /> : <Route {...other} />;\n};\n\nconst Routes = () => (\n  <Switch>\n    <ProtectedRoute userTypes={['Admin']} exact path={publicUrl('/PlayGround')} component={PlayGround} />\n    <ProtectedRoute userTypes={['Admin']} exact path={publicUrl('/Instructors')} component={Instructors} />\n    <ProtectedRoute userTypes={['Instructor', 'Admin']} exact path={publicUrl('/Groups')} component={Groups} />\n    <ProtectedRoute userTypes={['Instructor', 'Admin']} exact path={publicUrl('/StyleGuide')} component={StyleGuide} />\n    <ProtectedRoute userTypes={['Instructor', 'Admin']} exact path={publicUrl('/CreateClass')} component={CreateClass} />\n    <ProtectedRoute userTypes={['Instructor', 'Admin']} exact path={publicUrl('/ClassMaterials')} component={ClassMaterials} />\n    <ProtectedRoute userTypes={['Instructor', 'Admin']} exact path={publicUrl('/ClassDashboard')} component={ClassDashboard} />\n    <ProtectedRoute userTypes={['Instructor', 'Admin']} exact path={publicUrl('/ClassRoster')} component={ClassRoster} />\n    <ProtectedRoute userTypes={['Instructor', 'Admin']} exact path={publicUrl('/ClassReport')} component={ClassReport} />\n    <ProtectedRoute userTypes={['Admin']} exact path={publicUrl('/InstructorClasses')} component={InstructorClasses} />\n    <Route exact path={publicUrl('/TermsAndConditions')} component={TermsAndConditions} />\n    <Route exact path={publicUrl('/Profile')} component={ProfileProvider} />\n    <Route exact path={publicUrl('/Calendar')} component={Calendar} />\n    <Route exact path={publicUrl('/Classes')} component={Classes} />\n    <ProtectedRoute exact path={publicUrl('/Lessons')} component={Lessons} />\n    <ProtectedRoute exact path={publicUrl('/Pre-Survey')} component={PreSurvey} />\n    <ProtectedRoute exact path={publicUrl('/Post-Survey')} component={PostSurvey} />\n    <ProtectedRoute exact path={publicUrl('/Resources')} component={Resources} />\n    <ProtectedRoute exact path={publicUrl('/Congratulations')} component={Congratulations} />\n    <ProtectedRoute exact path={publicUrl('/ForgotPassword')} component={ForgotPasswordRoute} />\n    <Route path={'/'} component={Classes} />\n  </Switch>\n);\n\nexport default Routes;\n","import * as React from 'react';\nimport { triggerResize, isEmpty } from '../../../helpers';\nimport { Tabs, Tab, Typography, createStyles, makeStyles, Container } from '@material-ui/core';\nimport useTabSelector from '../../application/Selector/useTabSelector';\nimport { useLocation } from 'react-router';\n\nexport interface ComponentProps {\n  id?: string;\n  tab?: string;\n  tabs?: TabSelectorItem[];\n  orientation?: string;\n  rounded?: boolean;\n  wrapped?: boolean;\n  minHeight?: number;\n  onChange?: any;\n  classes?: any;\n}\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    root: ({ rounded }) => ({\n      background: palette.common.white,\n      color: palette.text.primary,\n      borderRadius: rounded ? undefined : 0,\n      padding: 0\n    }),\n    tabs: ({ minHeight }: any) => ({\n      minHeight,\n      borderRadius: 'inherit'\n    }),\n    indicator: {\n      background: palette.primary.main,\n      color: palette.common.white,\n      '&:hover': {\n        color: palette.common.white,\n      },\n      height: 6,\n      marginBottom: 4,\n      zIndex: 0,\n      borderRadius: 25,\n    },\n    labelIcon: ({ minHeight }: any) => ({\n      zIndex: 1,\n      minHeight,\n      color: palette.primary.dark,\n    }),\n    selected: ({ minHeight }: any) => ({\n      color: palette.primary.main\n    }),\n    tabroot: ({ minHeight }: any) => ({\n      padding: 0,\n      zIndex: 1,\n      minWidth: 0,\n      minHeight,\n    }),\n    wrapper: {\n      display: 'inline-flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      width: '100%',\n      flexDirection: 'column',\n      borderRadius: 'inherit'\n    }\n  })\n);\n\nexport interface TabSelectorItem {\n  id: string;\n  label?: string;\n  icon?: any;\n  route?: any;\n  Component?: any;\n}\n\nconst TabSelectorToolBar = ({ id, tabs = [], orientation, wrapped, minHeight = 64, rounded = true, onChange }: ComponentProps) => {\n  const classes = useStyles({ minHeight, rounded });\n\n  const [tabSelector, setTabSelector] = useTabSelector(id);\n  const selected = tabSelector.value;\n\n  const { pathname } = useLocation();\n\n  const tabId = tabs[0] && tabs[0].id;\n  const tabRoute = tabs.find((t) => t.id === selected)?.route;\n  const tabToSelect = pathname !== tabRoute && tabs.find((t) => t.route === pathname);\n\n  React.useEffect(() => {\n    isEmpty(selected) && setTabSelector({ value: tabId }); // Select the first tab by default when empty\n    tabToSelect && setTabSelector({ value: tabToSelect.id });\n    triggerResize();\n  }, [setTabSelector, selected, tabId, tabToSelect]);\n\n  React.useEffect(() => {\n    triggerResize(); //User has roated the device, so trigger a resize so the indicator updates correctly\n  }, [orientation]);\n\n  const handleChange = React.useCallback(\n    (event, value) => {\n      setTabSelector({ value });\n      onChange && onChange(value);\n    },\n    [setTabSelector, onChange]\n  );\n\n  const { value = tabs[0].id } = tabSelector;\n\n  return (\n    <Container className={classes.root}>\n      <Tabs variant='fullWidth' className={classes.tabs} scrollButtons='off' value={value} onChange={handleChange} classes={{ indicator: classes.indicator }}>\n        {!tabs ? (\n          <></>\n        ) : (\n            tabs.map((t) => (\n              <Tab\n                key={t.id}\n                classes={{\n                  root: classes.tabroot,\n                  labelIcon: classes.labelIcon,\n                  wrapper: classes.wrapper,\n                  wrapped: classes.labelIcon,\n                  selected: classes.selected\n                }}\n                icon={t.icon && <t.icon style={{ marginBottom: 0 }} />}\n                value={t.id}\n                wrapped={wrapped}\n                label={\n                  <Typography variant='caption' style={{ maxWidth: `calc(100% - ${2}px)` }} noWrap={!wrapped}>\n                    {t.label ? t.label : t.id}\n                  </Typography>\n                }\n              />\n            ))\n          )}\n      </Tabs>\n    </Container>\n  );\n};\n\nexport default TabSelectorToolBar;\n","import { useUserType } from './../../hooks';\nimport * as Icons from '@material-ui/icons';\n\nconst allTabs = [\n  { id: 'My Classes', icon: Icons.Apps, route: '/Classes' },\n  { id: 'My Groups', icon: Icons.People, route: '/Groups', userTypes: ['Instructor'] },\n  { id: 'Instructors', icon: Icons.SupervisorAccount, route: '/Instructors', userTypes: ['Admin'] },\n  { id: 'My Calendar', icon: Icons.Event, route: '/Calendar' },\n  { id: 'My Profile', icon: Icons.AccountBox, route: '/Profile' },\n  { id: 'Help', icon: Icons.Help, userTypes: ['Instructor', 'Student'] }\n];\n\nexport default function useTabs() {\n  const userType = useUserType();\n  const tabs = allTabs.filter(t => t.userTypes === undefined || t.userTypes.find(ut => ut === userType));\n  const tabs_s = JSON.stringify(tabs.map(t => ({ id: t.id, route: t.route })));\n  return { tabs, tabs_s };\n}\n","import { region, identityPoolIdUnauth, adminUsers, sourceEmailAddress } from '../../../../../package.json';\nexport const AWS = require('aws-sdk'); // Load the AWS SDK for Node.js\n\n// Initialize the Amazon Cognito credentials provider\nAWS.config.region = region;\nAWS.config.credentials = new AWS.CognitoIdentityCredentials({\n  IdentityPoolId: identityPoolIdUnauth\n});\n\nexport const sendHelpEmail = ({ name, email, message, onSuccess = undefined, onError = undefined, ToAddresses = adminUsers.split(',') }) => {\n  const body = `Help Request - DOORS Web Application:\n    <p>Name: ${name}</p>  \n    <p>User Email: ${email}</p>  \n    <p>Message: ${message}</p>\n    `;\n\n  // Create sendEmail params\n  var params = {\n    Destination: {\n      /* required */ CcAddresses: [],\n      ToAddresses\n    },\n    Message: {\n      /* required */\n      Body: {\n        /* required */\n        Html: {\n          Charset: 'UTF-8',\n          Data: body\n        },\n        Text: {\n          Charset: 'UTF-8',\n          Data: body\n        }\n      },\n      Subject: {\n        Charset: 'UTF-8',\n        Data: `Help Request - DOORS Web Application`\n      }\n    },\n    Source: sourceEmailAddress,\n    ReplyToAddresses: [email]\n  };\n\n  // Create the promise and SES service object\n  var sendPromise = new AWS.SES({ apiVersion: '2010-12-01' }).sendEmail(params).promise();\n\n  // Handle promise's fulfilled/rejected states\n  sendPromise\n    .then(function (data) {\n      onSuccess && onSuccess(data);\n    })\n    .catch(function (err) {\n      console.error(err, err.stack);\n      onError && onError(err);\n    });\n};\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport Label from '../../DialogField/Label';\nimport MarginDivider from '../../DialogField/MarginDivider';\nimport { sendHelpEmail } from './helpers';\nimport { useUserEmail } from '../../../layout/hooks';\nimport { useDialogState } from '../useDialogState';\nimport { useSnackBar } from '../../SnackBar/useSnackBar';\nimport { useIsStudentMode } from '../../../../hooks';\nimport useParentEmail from './useParentEmail';\n\nexport const title = 'Get In Touch';\n\nexport default function HelpDialog({ id = title, onClose = undefined, ...other }) {\n  const [, setState] = useDialogState(id);\n  const [, setSnackbar] = useSnackBar();\n\n  const handleClose = React.useCallback(\n    (props = undefined) => {\n      props && setSnackbar(props);\n      setState(prev => ({ ...prev, open: false, loading: false }));\n      onClose && onClose();\n    },\n    [onClose, setState, setSnackbar]\n  );\n\n  const onError = React.useCallback(() => {\n    handleClose({ open: true, variant: 'error', message: 'Error sending message' });\n  }, [handleClose]);\n\n  const onSuccess = React.useCallback(() => {\n    handleClose({ open: true, variant: 'success', message: 'Successfully sent message' });\n  }, [handleClose]);\n\n  const isStudentMode = useIsStudentMode();\n  const parentEmail = useParentEmail({ active: isStudentMode });\n\n  const handleSubmit = React.useCallback(\n    ({ name, email, message }, setValues) => {\n      sendHelpEmail({ name, email, message, onSuccess, onError, ToAddresses: parentEmail ? [parentEmail] : undefined });\n    },\n    [onSuccess, onError, parentEmail]\n  );\n\n  return (\n    <GenericDialog\n      id={id}\n      title={id}\n      onClose={onClose}\n      submitLabel={'Send'}\n      onSubmit={handleSubmit}\n      fields={[\n        {\n          label: 'This interface is not monitored . If you are having thoughts of suicide or self-harm, please call 1-800-273-8255.',\n          Field: Label,\n          hidden: !isStudentMode\n        },\n        {\n          Field: MarginDivider,\n          hidden: !isStudentMode\n        },\n        {\n          label: 'If you have any questions or comments about the program, send a message to the program administrators.',\n          Field: Label\n        },\n\n        {\n          Field: MarginDivider\n        },\n        {\n          id: 'email',\n          label: 'Your Email',\n          initialValue: useUserEmail(),\n          required: true,\n          email: true,\n          InputProps: {\n            readOnly: true\n          }\n        },\n        {\n          id: 'name',\n          label: 'Your Name',\n          placeholder: 'Enter your name',\n          required: true\n        },\n        {\n          id: 'message',\n          label: 'Your Message',\n          required: true,\n          multiline: true,\n          rows: 6,\n          placeholder: 'Enter your message'\n        }\n      ]}\n      {...other}\n    />\n  );\n}\n","import { useLayout } from '../../../layout/hooks';\nimport { useProfile } from '../../../../database/useProfile';\n\nexport default function useParentEmail({ active = false }) {\n  const [{ profile }] = useLayout();\n  const parentId = profile?.parentId;\n  const { profile: parentProfile } = useProfile({ id: parentId, active, shouldSetLayout: false });\n  return parentProfile?.email;\n}\n","import * as React from 'react';\nimport { makeStyles, Grid, IconButton, Menu, MenuItem } from '@material-ui/core';\nimport { createStyles } from '@material-ui/core';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport logo from '../../images/logo.svg';\nimport { useAppBarHeightRef, useChangeRoute, useLayout, useLeftDrawer, useLogout } from './hooks';\nimport { useCanChangeUserType, useSignedIn, useFullScreen, useContentPadding } from '../../hooks';\nimport { beta } from '../../constants';\nimport TabSelectorToolBar from '../general/TabSelector/TabSelectorToolBar';\nimport * as Icons from '@material-ui/icons';\nimport useTabSelector from '../application/Selector/useTabSelector';\nimport useTabs from './useTabs';\nimport * as HelpDialog from '../application/GenericDialog/Help';\nimport { useDialogState } from '../application/GenericDialog/useDialogState';\nimport { renderDialogModule } from '../application/GenericDialog/DialogButton';\nimport { defaultUserState } from './store';\n\nconst useStyles = makeStyles(({ breakpoints, palette, zIndex, layout }: any) =>\n  createStyles({\n    appBar: ({ contentPadding }: any) => ({\n      zIndex: zIndex.drawer + 1,\n      paddingTop: beta ? layout.footerheight : 0,\n      color: palette.primary.main,\n      background: palette.common.white,\n      paddingLeft: contentPadding,\n      paddingRight: contentPadding\n    }),\n    appBarFullScreen: {\n      paddingTop: beta ? layout.footerheight : 0,\n      background: palette.common.white,\n      color: palette.primary.dark\n    },\n    logo: {\n      paddingLeft: 8,\n      paddingRight: 16,\n      height: layout.toolbarheight,\n      [breakpoints.down('xs')]: {\n        display: 'none'\n      },\n      cursor: 'pointer'\n    },\n    active: {\n      backgroundColor: palette.primary.dark\n    },\n    toolbar: {\n      background: palette.white\n    },\n    menuButton: {\n      marginLeft: 0,\n      color: palette.primary.main,\n      [breakpoints.up('md')]: {\n        display: 'none'\n      }\n    }\n  })\n);\n\nconst tabSelectorId = 'AppBar';\nconst AppBarTabSelector = props => {\n  const { tabs } = useTabs();\n  return <TabSelectorToolBar id={tabSelectorId} tabs={tabs} {...props} />;\n};\n\nexport default function ApplicationBar() {\n  const contentPadding = useContentPadding();\n  const classes = useStyles({ contentPadding });\n  const signedIn = useSignedIn();\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n  const open = Boolean(anchorEl);\n\n  const [{ prevId }, setState] = useDialogState(HelpDialog.title);\n  const { tabs, tabs_s } = useTabs();\n  const [, setTabSelector] = useTabSelector(tabSelectorId);\n\n  const onLogout = useLogout();\n\n  const [, setLeftDrawerOpen] = useLeftDrawer();\n  const handleOpenLeftDrawer = React.useCallback(() => setLeftDrawerOpen(true), [setLeftDrawerOpen]);\n\n  const handleLogout = React.useCallback(() => {\n    onLogout();\n    setAnchorEl(null);\n  }, [setAnchorEl, onLogout]);\n\n  const changeRoute = useChangeRoute();\n\n  const handleTabChange = React.useCallback(\n    value => {\n      const { id, route } = JSON.parse(tabs_s).find(t => t.id === value);\n      if (id === 'Help') {\n        setState(prev => ({ ...prev, open: true })); // Open the dialog, track previous tab\n      } else {\n        changeRoute(route);\n        setState(prev => ({ prevId: id })); // Open the dialog, track previous tab\n      }\n    },\n    [changeRoute, setState, tabs_s]\n  );\n\n  const defaultTabId = tabs[0].id;\n  const defaultTabRoute = tabs[0].route;\n\n  const handleLogoClick = React.useCallback(() => {\n    setTabSelector(defaultTabId);\n    changeRoute(defaultTabRoute);\n  }, [setTabSelector, changeRoute, defaultTabId, defaultTabRoute]);\n\n  const handleMenu = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = React.useCallback(() => {\n    setAnchorEl(null);\n  }, [setAnchorEl]);\n\n  const handleHelpClose = React.useCallback(() => {\n    setTabSelector({ value: prevId });\n  }, [setTabSelector, prevId]);\n\n  const fullScreen = useFullScreen('xs');\n  const [, , leftDrawerEnabled] = useLeftDrawer();\n\n  const [, setLayout] = useLayout();\n  const resetUserType = React.useCallback(() => {\n    setLayout(defaultUserState);\n    handleLogoClick(); // reset to default\n  }, [setLayout, handleLogoClick]);\n\n  const canChangeUserType = useCanChangeUserType();\n\n  return (\n    <AppBar ref={useAppBarHeightRef()} position='fixed' color='inherit' elevation={1} className={fullScreen ? classes.appBarFullScreen : classes.appBar}>\n      {renderDialogModule({ ...HelpDialog, onClose: handleHelpClose })}\n      <Toolbar className={classes.toolbar} disableGutters={true}>\n        {leftDrawerEnabled && (\n          <IconButton color='inherit' aria-label='open drawer' edge='start' onClick={handleOpenLeftDrawer} className={classes.menuButton}>\n            <Icons.Menu />\n          </IconButton>\n        )}\n        <Grid container alignItems='center' spacing={0}>\n          <Grid item>\n            <img className={classes.logo} src={logo} alt='logo' onClick={handleLogoClick} />\n          </Grid>\n          <Grid item xs style={{ marginLeft: 4, marginRight: 4, minWidth: 0 }}>\n            <AppBarTabSelector onChange={handleTabChange} />\n          </Grid>\n          <Grid item>\n            <Grid container justify='flex-end' alignItems='center'>\n              <Grid item>\n                <IconButton color='inherit' aria-label='account of current user' aria-haspopup='true' onClick={handleMenu}>\n                  {signedIn ? <Icons.AccountCircleTwoTone /> : <Icons.AccountCircle />}\n                </IconButton>\n                <Menu\n                  id='menu-appbar'\n                  anchorEl={anchorEl}\n                  anchorOrigin={{\n                    vertical: 'top',\n                    horizontal: 'right'\n                  }}\n                  keepMounted\n                  transformOrigin={{\n                    vertical: 'top',\n                    horizontal: 'right'\n                  }}\n                  open={open}\n                  onClose={handleClose}\n                  MenuListProps={{ style: { paddingTop: signedIn ? 0 : undefined } }}\n                >\n                  {[\n                    { label: 'Change User Type', onClick: resetUserType, filter: canChangeUserType },\n                    { label: 'Sign Out', onClick: handleLogout, filter: true }\n                  ]\n                    .filter(({ filter }) => filter)\n                    .map(({ label, onClick }) => (\n                      <MenuItem key={label} onClick={onClick}>\n                        {label}\n                      </MenuItem>\n                    ))}\n                </Menu>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Toolbar>\n    </AppBar>\n  );\n}\n","import * as React from 'react';\nimport { makeStyles, createStyles, Toolbar, Link, AppBar, Typography, Grid } from '@material-ui/core';\nimport { theme, beta } from '../../constants';\nimport { useFullScreen, useUserType } from '../../hooks';\nimport { useHandleChangeRoute, useLayout } from './hooks';\nimport packageJson from '../../../package.json';\n\nconst useStyles = makeStyles(({ palette, zIndex }: any) =>\n  createStyles({\n    bottomAppBar: {\n      top: 'auto',\n      bottom: 0,\n      zIndex: zIndex.drawer + 1,\n      background: palette.primary.dark,\n      color: palette.common.white\n    },\n    bottomAppBarBeta: {\n      top: 0,\n      background: palette.primary.main,\n      color: palette.common.white,\n      zIndex: zIndex.drawer + 1\n    },\n    bottomToolBar: {\n      minHeight: (theme as any).layout.footerheight\n    },\n    pointer: {\n      cursor: 'pointer'\n    }\n  } as any)\n);\n\nexport default function Footer() {\n  const classes = useStyles({});\n  const fullScreen = useFullScreen();\n\n  const handleChangeRoute = useHandleChangeRoute();\n  const userType = useUserType();\n\n  const [{ profile }] = useLayout();\n  const displayName = profile?.name ?? profile?.email ?? '';\n\n  return (\n    <>\n      <AppBar position='fixed' color='primary' className={classes.bottomAppBar}>\n        <Toolbar className={classes.bottomToolBar}>\n          <Grid container justify='flex-start'>\n            <Grid item xs={fullScreen ? 5 : 2} zeroMinWidth>\n              <Typography noWrap variant='body2' align='left'>\n                <Link href='https://www.digitalpsych.org/' target='_blank' variant='body2' color='inherit'>\n                  Division of Digital Psychiatry\n                </Link>\n              </Typography>\n            </Grid>\n            {!fullScreen && (\n              <Grid item xs={7} zeroMinWidth>\n                <Typography noWrap variant='body2' align='center'>\n                  <Link href='https://www.bidmc.org/' target='_blank' variant='body2' color='inherit'>\n                    This website is made possible by support from ...\n                  </Link>\n                </Typography>\n              </Grid>\n            )}\n            <Grid item xs={fullScreen ? 7 : 3} zeroMinWidth>\n              <Typography noWrap variant='body2' align='right'>\n                <Link className={classes.pointer} variant='body2' color='inherit' onClick={handleChangeRoute('/TermsAndConditions')}>\n                  Terms and Conditions\n                </Link>\n              </Typography>\n            </Grid>\n          </Grid>\n        </Toolbar>\n      </AppBar>\n      {beta && (\n        <AppBar elevation={1} position='fixed' color='secondary' className={classes.bottomAppBarBeta}>\n          <Toolbar className={classes.bottomToolBar}>\n            <Grid container justify='center' spacing={2}>\n              <Grid item xs={4}>\n                {!fullScreen && (\n                  <Typography variant='body2' color='inherit' noWrap>\n                    {userType} Portal - Under Construction v{packageJson.version}\n                  </Typography>\n                )}\n              </Grid>\n              <Grid item xs={8}>\n                <Grid container justify='flex-end' spacing={1}>\n                  <Grid item>\n                    <Typography noWrap variant='body2' align='right'>\n                      {fullScreen ? displayName : `Welcome, ${displayName}`}\n                    </Typography>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Toolbar>\n        </AppBar>\n      )}\n    </>\n  );\n}\n","import * as React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport clsx from 'clsx';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport InfoIcon from '@material-ui/icons/Info';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { amber, green } from '@material-ui/core/colors';\nimport IconButton from '@material-ui/core/IconButton';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport { useSnackBar } from './useSnackBar';\n\nconst variantIcon = {\n  success: CheckCircleIcon,\n  warning: WarningIcon,\n  error: ErrorIcon,\n  info: InfoIcon\n};\n\nconst useStyles = makeStyles(theme => ({\n  success: {\n    backgroundColor: green[600]\n  },\n  error: {\n    backgroundColor: theme.palette.error.dark\n  },\n  info: {\n    backgroundColor: theme.palette.primary.main\n  },\n  warning: {\n    backgroundColor: amber[700]\n  },\n  icon: {\n    fontSize: 20\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing(1)\n  },\n  message: {\n    display: 'flex',\n    alignItems: 'center'\n  }\n}));\n\nexport default function SnackBar({ className = undefined, ...other }) {\n  const classes = useStyles({});\n  const [{ open, message, variant = 'success' }, setSnackBar] = useSnackBar();\n  const handleClose = React.useCallback((event, reason) => reason !== 'clickaway' && setSnackBar({ open: false }), [setSnackBar]);\n  const Icon = variantIcon[variant];\n  return (\n    <Snackbar\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'right'\n      }}\n      open={open}\n      autoHideDuration={3000}\n      onClose={handleClose}\n    >\n      <SnackbarContent\n        className={clsx(classes[variant], className)}\n        aria-describedby='client-snackbar'\n        message={\n          <span id='client-snackbar' className={classes.message}>\n            <Icon className={clsx(classes.icon, classes.iconVariant)} />\n            {message}\n          </span>\n        }\n        action={[\n          <IconButton key='close' aria-label='close' color='inherit' onClick={handleClose as any}>\n            <CloseIcon className={classes.icon} />\n          </IconButton>\n        ]}\n        {...other}\n      />\n    </Snackbar>\n  );\n}\n","import * as React from 'react';\nimport { createStyles } from '@material-ui/core';\nimport Drawer from '@material-ui/core/Drawer';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useAppBarHeight, useHeight, useLeftDrawer } from './hooks';\nimport LeftDrawerContent from './LeftDrawerContent';\nimport { useFullScreen } from '../../hooks';\n\nconst useStyles = makeStyles(({ palette, breakpoints, layout }: any) =>\n  createStyles({\n    drawer: {\n      [breakpoints.up('sm')]: {\n        width: layout.leftDrawerWidth,\n        flexShrink: 0\n      }\n    },\n    drawerPaper: ({ height, appBarHeight }: any) => ({\n      padding: 8,\n      marginTop: appBarHeight,\n      width: layout.leftDrawerWidth,\n      height: height - (appBarHeight + layout.footerheight),\n      background: palette.primary.light,\n      color: palette.common.white,\n      [breakpoints.down('sm')]: {\n        height: '100%'\n      }\n    }),\n    drawerPaperTemporary: {\n      width: layout.leftDrawerWidth\n    }\n  })\n);\n\nconst LeftDrawer = () => {\n  const height = useHeight();\n  const fullScreen = useFullScreen();\n  const appBarHeight = useAppBarHeight();\n  const classes = useStyles({ height, appBarHeight });\n  const [leftDrawer, setLeftDrawer] = useLeftDrawer();\n  const handleLeftDrawerClose = React.useCallback(() => setLeftDrawer(false), [setLeftDrawer]);\n\n  return (\n    <nav className={classes.drawer} aria-label='navigation drawer'>\n      <Drawer\n        variant='temporary'\n        open={fullScreen && leftDrawer}\n        onClose={handleLeftDrawerClose}\n        classes={{\n          paper: classes.drawerPaperTemporary\n        }}\n        ModalProps={{\n          keepMounted: true // Better open performance on mobile.\n        }}\n      >\n        <LeftDrawerContent />\n      </Drawer>\n      <Drawer\n        classes={{\n          paper: classes.drawerPaper\n        }}\n        variant='persistent'\n        open={leftDrawer}\n      >\n        <LeftDrawerContent />\n      </Drawer>\n    </nav>\n  );\n};\n\nexport default LeftDrawer;\n","import * as React from 'react';\nimport { makeStyles, createStyles, useTheme } from '@material-ui/core';\nimport ApplicationBar from './ApplicationBar';\nimport Footer from './Footer';\nimport SnackBar from '../application/SnackBar/SnackBar';\nimport { useAppBarHeight, useHeight, useLeftDrawer } from './hooks';\nimport { useLocation } from 'react-router';\nimport { useContentPadding, useFullScreen } from '../../hooks';\nimport LeftDrawer from './LeftDrawer';\n\nconst useStyles = makeStyles(({ breakpoints, palette, transitions, layout }: any) =>\n  createStyles({\n    root: {\n      display: 'static'\n    },\n    content: ({ leftDrawerOpen }) => ({\n      flexGrow: 1,\n      backgroundColor: palette.common.white,\n      marginLeft: leftDrawerOpen ? layout.leftDrawerWidth : 0,\n      [breakpoints.down('sm')]: {\n        marginLeft: 0,\n        flexShrink: 0\n      },\n      transition: transitions.create(['margin'], {\n        easing: transitions.easing.easeOut,\n        duration: transitions.duration.enteringScreen\n      })\n    }),\n    innerContent: ({ overflow = 'auto', contentHeight, contentPadding, padInnerContent = true }) => ({\n      height: contentHeight - (!padInnerContent ? 0 : contentPadding * 2 + 1),\n      overflow,\n      padding: padInnerContent ? contentPadding : 0,\n      color: palette.primary.dark\n    }),\n    toolbar: ({ appBarHeight }: any) => ({\n      background: palette.white,\n      height: appBarHeight\n    })\n  })\n);\n\nexport default function Layout({ children }) {\n  const { pathname } = useLocation();\n  const height = useHeight();\n  const appBarHeight = useAppBarHeight();\n\n  const { layout }: any = useTheme();\n  const { noPadPaths, noScrollPaths } = layout;\n  const componentsOnPage = [appBarHeight, layout.footerheight];\n  var contentHeight = height - componentsOnPage.reduce((t, c) => t + c, 0);\n  const [leftDrawerOpen] = useLeftDrawer();\n  const fullScreen = useFullScreen();\n\n  const contentPadding = useContentPadding();\n  const classes = useStyles({\n    contentPadding,\n    padInnerContent: noPadPaths.findIndex(p => p === pathname) > -1 ? false : true,\n    overflow: noScrollPaths.findIndex(p => p === pathname) > -1 ? 'hidden' : 'auto',\n    contentHeight,\n    appBarHeight,\n    leftDrawerOpen,\n    fullScreen\n  });\n\n  return (\n    <div data-testid='app-container' className={classes.root}>\n      <main className={classes.content}>\n        <ApplicationBar />\n        <LeftDrawer />\n        <div className={classes.toolbar} />\n        <div className={classes.innerContent}>{children}</div>\n        <Footer />\n        <SnackBar />\n      </main>\n    </div>\n  );\n}\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport TermsAndConditions from '../../../pages/TermsAndConditions';\n\nexport const title = 'Terms and Conditions';\n\nexport default function TermsAndConditionsDialog({ id = title, onClose = undefined, ...other }) {\n  return (\n    <GenericDialog\n      id={id}\n      title={null}\n      submitLabel={null}\n      cancelLabel={'Close'}\n      maxWidth='md'\n      fields={[\n        {\n          Field: TermsAndConditions\n        }\n      ]}\n      {...other}\n    />\n  );\n}\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport { bool, copyToLower, isEmpty as isValEmpty } from '../../../../helpers';\nimport { useDialogState } from '../useDialogState';\nimport { Auth } from 'aws-amplify';\nimport DialogButton from '../DialogButton';\nimport { useLogin } from '../../../layout/hooks';\nimport Check from '../../DialogField/Check';\nimport * as TermsAndConditionsDialog from '../../GenericDialog/TermsAndConditions';\nimport { Grid, Typography } from '@material-ui/core';\nimport Label from '../../DialogField/Label';\n\nconst passwordValidator = require('password-validator');\nexport const title = 'Create New Account';\n\n// create a password schema\nconst schema = new passwordValidator();\n\nschema.is().min(8).has().uppercase().has().lowercase().has().digits().has().symbols();\n\nconst formatPasswordValidateError = errors => {\n  const displayErrors = [];\n  for (let i = 0; i < errors.length; i++) {\n    if (errors[i] === 'min') {\n      displayErrors.push('Password length should be a at least 8 characters');\n    } else if (errors[i] === 'lowercase') {\n      displayErrors.push('Password should contain lowercase letters');\n    } else if (errors[i] === 'uppercase') {\n      displayErrors.push('Password should contain uppercase letters');\n    } else if (errors[i] === 'digits') {\n      displayErrors.push('Password should contain digits');\n    } else if (errors[i] === 'symbols') {\n      displayErrors.push('Password should contain symbols');\n    }\n  }\n  return (\n    <Grid container>\n      {displayErrors.map(e => (\n        <Grid item xs={12}>\n          <Typography variant='caption'>{e}</Typography>\n        </Grid>\n      ))}\n    </Grid>\n  );\n};\n\nconst handleValidation = (values, dialogState) => {\n  const { agree, password, confirmationCodeError, resendCodeError, confirmPassword, message } = values;\n  var errors = copyToLower(dialogState.errors); // start with server generated errors, ensure all keys start with lowercase letter\n\n  if (password !== confirmPassword) {\n    errors['confirmPassword'] = 'Passwords must match.';\n    errors['password'] = 'Passwords must match.';\n  }\n\n  const validationRulesErrors = schema.validate(password, { list: true });\n  if (validationRulesErrors.length > 0) {\n    errors['password'] = formatPasswordValidateError(validationRulesErrors);\n  }\n\n  if (!isValEmpty(message)) {\n    if (message.includes('password') || message.includes('Password')) {\n      errors['confirmPassword'] = message;\n      errors['password'] = message;\n    } else {\n      errors['email'] = message;\n    }\n  }\n\n  if (!isValEmpty(confirmationCodeError)) {\n    errors['confirmationCode'] = confirmationCodeError;\n  }\n\n  if (!isValEmpty(resendCodeError)) {\n    errors['email'] = resendCodeError;\n  }\n\n  if (bool(agree) !== true) {\n    errors['agree'] = 'You must agree to the terms and conditions to proceed.';\n  }\n\n  return errors;\n};\n\nconst EnterConfirmationCode = ({ value = false, onChange }) => {\n  const handleClick = () => onChange({ target: { value: !value } });\n  return (\n    <DialogButton variant='link' tooltip='' onClick={handleClick}>\n      {value ? 'Back' : 'Enter Verification Code'}\n    </DialogButton>\n  );\n};\n\nconst ResendConfirmationCode = ({ value = false, onChange }) => {\n  const handleClick = () => onChange({ target: { value: !value } });\n  return (\n    <DialogButton variant='link' tooltip='' onClick={handleClick}>\n      {value ? 'Back' : 'Resend Verification Code'}\n    </DialogButton>\n  );\n};\n\nexport const ViewTermsAndConditions = () => (\n  <DialogButton Module={TermsAndConditionsDialog} fullWidth={true} size='small' margin='dense' variant='link' tooltip=''>\n    View Terms and Conditions\n  </DialogButton>\n);\n\nconst hidden = ({ confirm, resend }) => confirm || resend;\n\nexport default function RegisterDialog({ id = title, onClose }) {\n  const [dialogState, setState] = useDialogState(id);\n  const { confirm } = dialogState;\n  const dialogStateStr = JSON.stringify(dialogState);\n\n  const { handleLogin } = useLogin({ dialogState, setState });\n\n  const handleAdd = React.useCallback(\n    (values, setValues) => {\n      console.log('Creating account');\n      const { email: Email = '', password } = values;\n      const email = Email.toLowerCase(); // enusre lower case\n      setState(prev => ({ ...prev, loading: true, showErrors: false, errors: {} }));\n      Auth.signUp({\n        username: email,\n        password,\n        attributes: {\n          email,\n          name: email\n        }\n      })\n        .then(result => {\n          console.log('Succesfully signed up user!');\n          setState(prev => ({ ...prev, open: true, loading: false, errors: {} }));\n          setValues(prev => ({ ...prev, confirm: true }));\n          /*setTimeout(\n            () =>\n              alert(\n                'Account created successfully.  Please check your email for a confirmation code.  You may need to check your spam and junk folders if you cannot locate the confirmation email.'\n              ),\n            500\n          );*/\n        })\n        .catch(err => {\n          console.error('Error with Register');\n          console.error({ err });\n          const newErrors = handleValidation({ ...values, message: err.message }, JSON.parse(dialogStateStr));\n          setState(prev => ({ ...prev, showErrors: true, loading: false, errors: newErrors }));\n        });\n    },\n    [dialogStateStr, setState]\n  );\n\n  const handleConfirm = React.useCallback(\n    values => {\n      const { email: Email = '', password, confirmationCode } = values;\n      const email = Email.toLowerCase(); // ensure lower case\n      console.log('Confirming account');\n      Auth.confirmSignUp(email, confirmationCode)\n        .then(() => {\n          console.log('Confirmed account!');\n          setState(prev => ({ ...prev, open: false, loading: false, confirm: false }));\n          handleLogin({ email, password });\n        })\n        .catch(err => {\n          console.error('Invalid code');\n          console.error(err);\n          const newErrors = handleValidation({ ...values, confirmationCodeError: err.message }, JSON.parse(dialogStateStr));\n          setState(prev => ({ ...prev, loading: false, showErrors: true, errors: newErrors }));\n        });\n    },\n    [dialogStateStr, setState, handleLogin]\n  );\n\n  const handleResend = React.useCallback(\n    (values, setValues) => {\n      const { email: Email = '' } = values;\n      const email = Email.toLowerCase(); // ensure lower case\n      console.log('Requesting resend of verification code');\n      Auth.resendSignUp(email)\n        .then(() => {\n          setState(prev => ({ ...prev, confirm: true, resend: false }));\n          setValues(prev => ({ ...prev, confirm: true, resend: false }));\n        })\n        .catch(err => {\n          console.error('Error requesting new verification code');\n          console.error(err);\n          const newErrors = handleValidation({ ...values, resendCodeError: err.message }, JSON.parse(dialogStateStr));\n          setState(prev => ({ ...prev, loading: false, showErrors: true, errors: newErrors }));\n        });\n    },\n    [dialogStateStr, setState]\n  );\n\n  const handleSubmit = React.useCallback(\n    ({ confirm, resend, ...other }, setValues) => {\n      return resend ? handleResend(other, setValues) : confirm ? handleConfirm(other, setValues) : handleAdd(other, setValues);\n    },\n    [handleResend, handleConfirm, handleAdd]\n  );\n\n  return (\n    <GenericDialog\n      id={id}\n      title={values => (values.confirmOnly ? 'Confirm Account' : id)}\n      submitLabel={values => (values.resend ? 'Resend Verification Code' : values.confirm ? 'Confirm' : id)}\n      onSubmit={handleSubmit}\n      onClose={onClose}\n      validate={handleValidation}\n      fields={[\n        {\n          id: 'confirmationCodeLabel',\n          Field: Label,\n          variant: 'caption',\n          label:\n            'An verification code has been sent to your email address.  If you did not receive a confirmation code please check your junk and spam folders.  You may request a new verification code by clicking the Resend Verification Code link below.',\n          hidden: ({ confirm, resend }) => !confirm || resend,\n          style: { marginBottom: 8 }\n        },\n        {\n          id: 'email',\n          label: 'Email',\n          required: true,\n          email: true\n        },\n        {\n          id: 'password',\n          label: 'Password',\n          required: true,\n          inputProps: {\n            type: 'password'\n          },\n          hidden\n        },\n        {\n          id: 'confirmPassword',\n          label: 'Confirm Password',\n          required: true,\n          inputProps: {\n            type: 'password'\n          },\n          hidden\n        },\n        {\n          id: 'confirmationCode',\n          label: 'Enter Verification Code Sent to above Email',\n          required: confirm ? true : false,\n          hidden: ({ confirm, resend }) => !confirm || resend\n        },\n        {\n          id: 'agree',\n          Field: Check,\n          color: 'primary',\n          label: 'I agree to the terms and conditions',\n          hidden\n        },\n        {\n          Field: ViewTermsAndConditions,\n          hidden\n        },\n\n        {\n          id: 'confirm',\n          label: 'Enter Verification Code',\n          Field: EnterConfirmationCode,\n          initialValue: false,\n          hidden: ({ resend, confirmOnly }) => resend || confirmOnly\n        },\n        {\n          id: 'resend',\n          label: 'Resend Verification Code',\n          Field: ResendConfirmationCode,\n          initialValue: false\n        }\n      ]}\n    />\n  );\n}\n","import { region, identityPoolIdUnauth, adminUsers, sourceEmailAddress } from '../../../package.json';\nexport const AWS = require('aws-sdk'); // Load the AWS SDK for Node.js\n\n// Initialize the Amazon Cognito credentials provider\nAWS.config.region = region;\nAWS.config.credentials = new AWS.CognitoIdentityCredentials({\n  IdentityPoolId: identityPoolIdUnauth\n});\n\nexport const sendInviteRequestEmail = ({ email, type, onSuccess = undefined, onError = undefined }) => {\n  const body = `The following user has requested an invite:\n    <p>User Email: ${email}</p>\n    <p>Invite Type: ${type}</p>\n    `;\n\n  // Create sendEmail params\n  var params = {\n    Destination: {\n      /* required */ CcAddresses: [],\n      ToAddresses: adminUsers.split(',')\n    },\n    Message: {\n      /* required */\n      Body: {\n        /* required */\n        Html: {\n          Charset: 'UTF-8',\n          Data: body\n        },\n        Text: {\n          Charset: 'UTF-8',\n          Data: body\n        }\n      },\n      Subject: {\n        Charset: 'UTF-8',\n        Data: `Invite Request - DOORS Web Application`\n      }\n    },\n    Source: sourceEmailAddress,\n    ReplyToAddresses: [email]\n  };\n\n  // Create the promise and SES service object\n  var sendPromise = new AWS.SES({ apiVersion: '2010-12-01' }).sendEmail(params).promise();\n\n  // Handle promise's fulfilled/rejected states\n  sendPromise\n    .then(function (data) {\n      onSuccess && onSuccess(data);\n    })\n    .catch(function (err) {\n      console.error(err, err.stack);\n      onError && onError(err);\n    });\n};\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport Label from '../../DialogField/Label';\nimport MarginDivider from '../../DialogField/MarginDivider';\nimport { useDialogState } from '../useDialogState';\nimport { sendInviteRequestEmail } from '../../../layout/sendInviteRequestEmail';\nimport Select from '../../DialogField/Select';\n\nexport const title = 'Request an Invite';\n\nexport default function RequestInviteDialog({ id = title, onClose }) {\n  const [, setState] = useDialogState(id);\n  React.useEffect(() => {\n    setState({ loading: true });\n  }, [setState]);\n\n  const handleSubmit = React.useCallback(\n    values => {\n      const { email, type } = values;\n      setState(prev => ({ ...prev, loading: true }));\n      email &&\n        sendInviteRequestEmail({\n          email,\n          type,\n          onSuccess: () => {\n            setState(prev => ({ ...prev, loading: false, open: false }));\n            setTimeout(\n              () => alert('The program administrators have been notified of your invite request.  Once approved you will receive an invite link via email.'),\n              500\n            );\n          }\n        });\n    },\n    [setState]\n  );\n\n  return (\n    <GenericDialog\n      id={id}\n      hasChanged={true} // Don't require a changed value\n      title={id}\n      submitLabel='Request Invite'\n      onSubmit={handleSubmit}\n      onClose={onClose}\n      fields={[\n        {\n          label: `Please enter your email to request an invite:`,\n          Field: Label\n        },\n        {\n          Field: MarginDivider\n        },\n        {\n          id: 'email',\n          label: 'Email',\n          required: true,\n          email: true\n        },\n        {\n          id: 'type',\n          label: 'I am registering as a',\n          Field: Select,\n          required: true,\n          items: [\n            { label: 'Student', value: 'Student' },\n            { label: 'Instructor', value: 'Instructor' }\n          ]\n        }\n      ]}\n    />\n  );\n}\n","import * as React from 'react';\nimport { makeStyles, Grid, Paper, Typography, Divider, TextField, CircularProgress } from '@material-ui/core';\nimport { createStyles, Link } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport BrandLogoImage from '../../images/logo.svg';\nimport { isEmpty } from '../../helpers';\nimport { useLogin, useHeight } from './hooks';\nimport DialogButton from '../application/GenericDialog/DialogButton';\nimport * as RegisterDialog from '../application/GenericDialog/Register';\nimport * as RequestInviteDialog from '../application/GenericDialog/RequestInvite';\nimport { getUrlParamater } from '../../hooks';\nimport ForgotPassword from './ForgotPassword';\n\nconst useStyles = makeStyles(({ palette, mixins }: any) =>\n  createStyles({\n    root: ({ height }: any) => ({\n      background: palette.common.white,\n      color: palette.primary.main,\n      height,\n      overflowY: 'auto'\n    }),\n    paper: {\n      marginTop: 32,\n      width: 300\n    },\n    disclaimer: {\n      marginTop: 32,\n      paddingLeft: 16,\n      paddingRight: 16,\n      maxWidth: 650\n    },\n    panelarea: {\n      background: '#F5F5F5'\n    },\n    button: {\n      background: palette.primary.main,\n      color: palette.common.white,\n      '&:hover': {\n        background: palette.primary.dark,\n        color: palette.common.white\n      },\n      marginTop: 8\n    },\n    wrapper: {\n      width: 224\n    },\n    buttonProgress: {\n      position: 'absolute',\n      top: '25%',\n      left: '50%',\n      marginTop: -8,\n      marginLeft: -12\n    }\n  })\n);\n\nexport default function Login() {\n  const id = getUrlParamater('i');\n  const BannerMsg = isEmpty(id) ? '' : 'You must log in prior to accepting an invite.  If you do not have an account yet, please create a new account.';\n\n  const height = useHeight();\n  const classes = useStyles({ height });\n  const noAutoComplete = true;\n  var buttonRef = React.useRef(null);\n\n  const [values, setValues] = React.useState({\n    email: '',\n    password: '',\n    forgotPassword: false\n  });\n\n  const { email, password } = values;\n\n  const [state, setState] = React.useState({ enableKeys: true, loading: false, errors: {}, forgotPassword: false });\n  const { enableKeys, loading, errors, forgotPassword } = state;\n\n  const { handleLogin } = useLogin({ state, setState });\n\n  const handleSubmit = React.useCallback(() => {\n    handleLogin({ email, password });\n  }, [handleLogin, email, password]);\n\n  const handleChange = (name: string) => (event: any) => {\n    const value = event.target.value;\n    setValues({ ...values, [name]: value });\n    setState(prev => ({ ...prev, errors: {} }));\n  };\n\n  const handleForgotPassword = React.useCallback(() => {\n    setState(prev => ({ ...prev, forgotPassword: true }));\n  }, []);\n\n  const handleBack = React.useCallback(() => {\n    setState(prev => ({ ...prev, forgotPassword: false }));\n  }, []);\n\n  // Per https://stackoverflow.com/questions/50604671/programmatically-disabling-chrome-auto-fill\n  // The only way to prevent auto fill is autocomplete=newpassword\n  // Note this only prevents the browser from auto populating the fields, it does not prevent chromes new password manager\n  return forgotPassword ? (\n    <ForgotPassword email={email} onBack={handleBack} />\n  ) : (\n    <div\n      className={classes.root}\n      onKeyUp={(e: any) => {\n        if (e.keyCode === 13) {\n          // Enter key\n          enableKeys && buttonRef.current && buttonRef.current.click();\n        }\n      }}\n    >\n      <form autoComplete='off'>\n        <Grid container direction='column' justify='center' alignItems='center'>\n          <Grid item>\n            <Typography color='error' align='center' className={classes.disclaimer}>\n              {BannerMsg}\n            </Typography>\n          </Grid>\n          <Grid item xs={12}>\n            <Paper className={classes.paper}>\n              <Typography align='center' className={classes.panelarea}>\n                <img src={BrandLogoImage} alt='logo' style={{ height: 124 }} />\n              </Typography>\n              <Divider />\n              <Grid container spacing={1} direction='column' justify='center' alignItems='center' style={{ padding: 16 }}>\n                <Grid item>\n                  <TextField\n                    autoComplete={noAutoComplete ? 'new-password' : undefined}\n                    id='email'\n                    label='Email'\n                    disabled={loading}\n                    value={values.email}\n                    onChange={handleChange('email')}\n                    margin='dense'\n                    variant='outlined'\n                    error={isEmpty(errors['email']) ? false : true}\n                    helperText={errors['email']}\n                    autoFocus={true}\n                    InputLabelProps={{\n                      shrink: true\n                    }}\n                  />\n                </Grid>\n                <Grid item>\n                  <TextField\n                    autoComplete={noAutoComplete ? 'new-password' : undefined}\n                    id='password'\n                    label='Password'\n                    disabled={loading}\n                    type='password'\n                    value={values.password}\n                    onChange={handleChange('password')}\n                    margin='dense'\n                    variant='outlined'\n                    error={isEmpty(errors['password']) ? false : true}\n                    helperText={errors['password']}\n                    fullWidth\n                    InputLabelProps={{\n                      shrink: true\n                    }}\n                  />\n                </Grid>\n                <Grid item>\n                  <div className={classes.wrapper}>\n                    <Button ref={buttonRef} fullWidth={true} disabled={loading} variant='contained' className={classes.button} onClick={handleSubmit}>\n                      Login\n                    </Button>\n                    {loading && <CircularProgress size={24} className={classes.buttonProgress} />}\n                  </div>\n                </Grid>\n                <Grid item>\n                  <div className={classes.wrapper}>\n                    <DialogButton\n                      Module={RegisterDialog}\n                      disabled={loading}\n                      size='medium'\n                      variant='contained'\n                      tooltip=''\n                      onClick={() => setState(prev => ({ ...prev, enableKeys: false }))}\n                      onClose={() => setState(prev => ({ ...prev, enableKeys: true }))}\n                      className={classes.button}\n                    >\n                      Create New Account\n                    </DialogButton>\n                  </div>\n                </Grid>\n                <Grid item>\n                  <div className={classes.wrapper}>\n                    <DialogButton\n                      Module={RegisterDialog}\n                      mount={false}\n                      disabled={loading}\n                      initialValues={{ confirm: true, confirmOnly: true, email, password }}\n                      size='medium'\n                      variant='contained'\n                      tooltip=''\n                      onClick={() => setState(prev => ({ ...prev, enableKeys: false }))}\n                      onClose={() => setState(prev => ({ ...prev, enableKeys: true }))}\n                      className={classes.button}\n                    >\n                      Confirm Account\n                    </DialogButton>\n                  </div>\n                </Grid>\n                <Grid item>\n                  <div className={classes.wrapper}>\n                    <DialogButton\n                      Module={RequestInviteDialog}\n                      disabled={loading}\n                      initialValues={{ email }}\n                      size='medium'\n                      variant='contained'\n                      tooltip=''\n                      onClick={() => setState(prev => ({ ...prev, enableKeys: false }))}\n                      onClose={() => setState(prev => ({ ...prev, enableKeys: true }))}\n                      className={classes.button}\n                    >\n                      <Grid item xs={12}>\n                        Request an Invite\n                      </Grid>\n                    </DialogButton>\n                  </div>\n                </Grid>\n                <Grid item>\n                  <div style={{ marginTop: 16 }}>\n                    <Link style={{ marginLeft: 8, cursor: 'pointer' }} underline='always' color='inherit' onClick={handleForgotPassword}>\n                      Forgot Password\n                    </Link>\n                  </div>\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n        </Grid>\n      </form>\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { useSelector } from 'react-redux';\nimport { AppState } from '../../store';\nimport Login from './Login';\n\nexport default function AuthGate({ children }) {\n  const auth = useSelector((state: AppState) => state.layout.auth);\n  return auth !== undefined && auth !== null ? children : <Login />;\n}\n","import { isEmpty } from '../helpers';\nimport { tables } from './dbConfig';\nimport { isExpired } from './useInstructor';\nimport { useTableData } from './useTableData';\n\nexport default function useInvites({ email = undefined, Model = tables.students } = {}) {\n  const { data, loading, success, handleRefresh } = useTableData({\n    loadOnMount: !isEmpty(email),\n    TableName: Model,\n    requestParams: {\n      FilterExpression:\n        '#email = :email AND (#accepted = :accepted OR attribute_not_exists(#accepted)) AND (#deleted = :deleted OR attribute_not_exists(#deleted))',\n      ExpressionAttributeNames: {\n        '#email': 'email',\n        '#accepted': 'accepted',\n        '#deleted': 'deleted'\n      },\n      ExpressionAttributeValues: {\n        ':email': email,\n        ':accepted': false,\n        ':deleted': false\n      }\n    }\n  });\n\n  const completed = loading === false && success === true;\n  return {\n    invites: completed ? data.filter(r => !isExpired(r)) : undefined,\n    loading,\n    handleRefresh\n  };\n}\n","import { tables } from './dbConfig';\nimport useTableRow from './useTableRow';\n\nexport default function useGroupName({ groupId }) {\n  const { row } = useTableRow({ id: groupId, Model: tables.groups });\n  return row?.name;\n}\n","import * as React from 'react';\nimport { Container, Grid, Typography } from '@material-ui/core';\nimport Page from './Page';\nimport { ViewTermsAndConditions } from '../application/GenericDialog/Register';\n\nexport default function ResearchPartAgreement() {\n  return (\n    <Container maxWidth='md'>\n      <Page title='I agree to be part of a research study...'>\n        <Grid container spacing={2}>\n          <Grid item>\n            <Typography>\n              By creating an account, I agree that my progress in digital learning can be used for assessing the overall effectiveness of lessons. All data\n              collected will not contain personal healthcare information and will be anonymized and de-identified for analysis. I also agree to the\n              Terms and Conditions below.\n            </Typography>\n          </Grid>\n          <Grid item>\n            <ViewTermsAndConditions />\n          </Grid>\n        </Grid>\n      </Page>\n    </Container>\n  );\n}\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport { bool, copyToLower } from '../../../../helpers';\nimport Check from '../../DialogField/Check';\nimport { useDialogState } from '../useDialogState';\nimport ResearchPartAgreement from '../../../pages/ResearchPartyAgreement';\n\nexport const title = 'Research Study Agreement';\n\nconst validate = (values, dialogState) => {\n  const { agree } = values;\n  var errors = copyToLower(dialogState.errors); // start with server generated errors, ensure all keys start with lowercase letter\n\n  if (bool(agree) !== true) {\n    errors['agree'] = 'You must agree to the terms and conditions to proceed.';\n  }\n\n  return errors;\n};\n\nexport default function ResearchPartyAgreementDialog({ id = title, onSubmit }) {\n  const [, setState] = useDialogState(id);\n  const handleSubmit = React.useCallback(() => {\n    setState({ open: false });\n    onSubmit && onSubmit();\n  }, [setState, onSubmit]);\n  return (\n    <GenericDialog\n      id={id}\n      title={null}\n      onSubmit={handleSubmit}\n      validate={validate}\n      submitLabel='I Agree'\n      cancelLabel={'I Do Not Agree'}\n      maxWidth='md'\n      onClose={() => alert('Unfortunately, you cannot participate at this time without agreeing to terms. Please contact team@digitalpsych.org to learn more.')}\n      fields={[\n        {\n          Field: ResearchPartAgreement\n        },\n        {\n          id: 'agree',\n          Field: Check,\n          color: 'primary',\n          style: { marginLeft: 24 },\n          label: 'I agree to the terms and conditions above'\n        }\n      ]}\n    />\n  );\n}\n","import * as React from 'react';\nimport { makeStyles, Grid, Paper, Typography, Divider, CircularProgress, Box } from '@material-ui/core';\nimport { createStyles } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport BrandLogoImage from '../../images/logo.svg';\nimport { useHeight, useLogout, useUserEmail, useUserId } from './hooks';\nimport { isEmpty, timeAgo } from '../../helpers';\nimport { push } from 'connected-react-router';\nimport { useDispatch } from 'react-redux';\nimport { tables } from '../../database/dbConfig';\nimport useTableRow from '../../database/useTableRow';\nimport useGroupName from '../../database/useGroupName';\nimport * as ResearchPartyAgreementDialog from '../application/GenericDialog/ResearchPartyAgreement';\nimport * as RegisterDialog from '../application/GenericDialog/Register';\nimport DialogButton from '../application/GenericDialog/DialogButton';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    root: ({ height }: any) => ({\n      background: palette.common.white,\n      color: palette.primary.main,\n      height,\n      overflowY: 'auto'\n    }),\n    paper: {\n      marginTop: 32,\n      width: 300\n    },\n    disclaimer: {\n      maxWidth: 650\n    },\n    summary: {\n      marginTop: 8,\n      maxWdith: 650\n    },\n    panelarea: {\n      background: '#F5F5F5'\n    },\n    button: {\n      background: palette.primary.main,\n      color: palette.common.white,\n      '&:hover': {\n        background: palette.primary.dark,\n        color: palette.common.white\n      },\n      marginTop: 8\n    },\n    backButton: {\n      marginTop: 8\n    },\n    wrapper: {\n      width: 224\n    },\n    buttonProgress: {\n      position: 'absolute',\n      top: '25%',\n      left: '50%',\n      marginTop: -8,\n      marginLeft: -12\n    }\n  })\n);\n\nexport default function AcceptInvite({ id, type, onBack = undefined }) {\n  const HeaderMsg = type === 's' ? 'Student invitation' : 'Instructor invitation';\n  const BannerMsg = 'Click below to accept';\n  const height = useHeight();\n  const classes = useStyles({ height });\n  var buttonRef = React.useRef(null);\n\n  const [state, setState] = React.useState({ enableKeys: true, loading: false, error: undefined, response: undefined, errors: {} });\n  const { enableKeys, loading, error } = state;\n\n  const { row, setRow, expired } = useTableRow({\n    Model: type === 's' ? tables.students : tables.instructors,\n    id,\n    state,\n    setState\n  });\n\n  const groupId = row?.groupId;\n\n  const groupName = useGroupName({ groupId });\n\n  const dispatch = useDispatch();\n  const userId = useUserId();\n\n  const handleClose = React.useCallback(() => {\n    dispatch(push('')); // This clears any query params\n    onBack && onBack(); // Force a refresh in parent component\n  }, [onBack, dispatch]);\n\n  const handleSubmit = React.useCallback(\n    accepted => () => {\n      setRow({ values: { accepted, deleted: accepted === false, userId }, onSuccess: handleClose });\n    },\n    [setRow, handleClose, userId]\n  );\n\n  const email = useUserEmail();\n  const isError = !isEmpty(row?.userId) || expired || row?.deleted || !isEmpty(error) || email.toLowerCase() !== row?.email.toLowerCase();\n  const handleLogout = useLogout();\n\n  const errorMsg =\n    loading && isError && !isEmpty(row?.userId)\n      ? 'Invite has already been accepted'\n      : expired || row?.deleted\n      ? 'Invite has expired or no longer exists. Please request a new invite.'\n      : email.toLowerCase() !== row?.email.toLowerCase()\n      ? `Current user's email does not match the invite.  Please logout of the current account and login with the ${row?.email} email address or create a new account if one does not already exist.`\n      : error;\n\n  const isMismatch = errorMsg?.includes(`Current user's email does not match`);\n\n  return (\n    <div\n      className={classes.root}\n      onKeyUp={(e: any) => {\n        if (e.keyCode === 13) {\n          // Enter key\n          enableKeys && buttonRef.current && buttonRef.current.click();\n        }\n      }}\n    >\n      <form autoComplete='off'>\n        <Grid container direction='column' justify='center' alignItems='center'>\n          <Grid item xs={12}>\n            <Paper className={classes.paper}>\n              <Typography align='center' className={classes.panelarea}>\n                <img src={BrandLogoImage} alt='logo' style={{ height: 124 }} />\n              </Typography>\n              <Divider />\n              <Grid container spacing={1} direction='column' justify='center' alignItems='center' style={{ padding: 16 }}>\n                <Grid item>\n                  {groupName && (\n                    <Typography align='center' className={classes.disclaimer}>\n                      {groupName}\n                    </Typography>\n                  )}\n                  <Typography align='center' className={classes.disclaimer}>\n                    {HeaderMsg}\n                  </Typography>\n\n                  <Divider style={{ marginTop: 8 }} />\n\n                  <Box mt={1}>\n                    <Typography align='center' className={classes.disclaimer}>\n                      {BannerMsg}\n                    </Typography>\n                  </Box>\n                </Grid>\n                <Grid item>\n                  <div className={classes.wrapper}>\n                    <DialogButton\n                      Module={ResearchPartyAgreementDialog}\n                      ref={buttonRef}\n                      fullWidth={true}\n                      disabled={loading || isError}\n                      variant='contained'\n                      className={classes.button}\n                      onSubmit={handleSubmit(true)}\n                    >\n                      Accept Invite\n                    </DialogButton>\n                    {loading && <CircularProgress size={24} className={classes.buttonProgress} />}\n                  </div>\n                </Grid>\n                <Grid item>\n                  <div className={classes.wrapper}>\n                    <Button fullWidth={true} disabled={loading || isError} variant='contained' className={classes.button} onClick={handleSubmit(false)}>\n                      Decline Invite\n                    </Button>\n                    {loading && <CircularProgress size={24} className={classes.buttonProgress} />}\n                  </div>\n                </Grid>\n                {isMismatch && (\n                  <Grid item style={{ marginTop: 8 }}>\n                    <div className={classes.wrapper}>\n                      <DialogButton\n                        Module={RegisterDialog}\n                        disabled={loading}\n                        size='medium'\n                        variant='contained'\n                        tooltip=''\n                        onClick={() => setState(prev => ({ ...prev, enableKeys: false }))}\n                        onClose={() => setState(prev => ({ ...prev, enableKeys: true }))}\n                        className={classes.button}\n                      >\n                        Create New Account\n                      </DialogButton>\n                    </div>\n                  </Grid>\n                )}\n                <Grid item style={{ marginTop: 8 }}>\n                  <div className={classes.wrapper}>\n                    <Button fullWidth={true} disabled={loading} variant='contained' onClick={handleLogout}>\n                      Logout\n                    </Button>\n                    {loading && <CircularProgress size={24} className={classes.buttonProgress} />}\n                  </div>\n                </Grid>\n                {/*<Grid item>\n                  <div className={classes.wrapper}>\n                    <Button className={classes.backButton} ref={buttonRef} fullWidth={true} variant='contained' onClick={handleClose}>\n                      Back\n                    </Button>\n                  </div>\n                </Grid>\n                */}\n                <Grid item xs={12}>\n                  <Typography noWrap align='center' className={classes.summary}>\n                    {row?.email}\n                  </Typography>\n                  <Typography align='center' className={classes.summary}>\n                    Invited {timeAgo(row?.created)}\n                  </Typography>\n                  {errorMsg && (\n                    <Typography align='center' color='error' className={classes.summary}>\n                      {errorMsg}\n                    </Typography>\n                  )}\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n        </Grid>\n      </form>\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { tables } from '../../database/dbConfig';\nimport useInvites from '../../database/useInvites';\nimport { isEmpty } from '../../helpers';\nimport { getUrlParamater } from '../../hooks';\nimport AcceptInvite from './AcceptInvite';\nimport { useUserEmail } from './hooks';\n\nexport default function InviteGate({ children }) {\n  const [id, setId] = React.useState(getUrlParamater('i'));\n  const [type, setType] = React.useState(getUrlParamater('t'));\n\n  const email = useUserEmail();\n  const { invites: students, handleRefresh: refreshStudents } = useInvites({ email });\n  const { invites: instructors, handleRefresh: refreshInstructors } = useInvites({ email, Model: tables.instructors });\n\n  const handleBack = React.useCallback(() => {\n    refreshInstructors();\n    refreshStudents();\n    setId(getUrlParamater('i'));\n    setType(getUrlParamater('t'));\n  }, [setId, refreshInstructors, refreshStudents]);\n\n  if (students?.length > 0) {\n    return <AcceptInvite id={students[0].id} type='s' onBack={handleBack} />;\n  } else if (instructors?.length > 0) {\n    return <AcceptInvite id={instructors[0].id} type='i' onBack={handleBack} />;\n  } else {\n    return !isEmpty(id) ? <AcceptInvite id={id} type={type} onBack={handleBack} /> : children;\n  }\n}\n","import * as React from 'react';\nimport { makeStyles, Grid, Paper, Typography, Divider, Box } from '@material-ui/core';\nimport { createStyles } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport BrandLogoImage from '../../images/logo.svg';\nimport { useChangeRoute, useHeight, useLayout, useLogout, useUserEmail } from './hooks';\nimport useGroupName from '../../database/useGroupName';\nimport { sendInviteRequestEmail } from './sendInviteRequestEmail';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    root: ({ height }: any) => ({\n      background: palette.common.white,\n      color: palette.primary.main,\n      height,\n      overflowY: 'auto'\n    }),\n    paper: {\n      marginTop: 32,\n      width: 300\n    },\n    disclaimer: {\n      maxWidth: 650\n    },\n    summary: {\n      marginTop: 8,\n      maxWdith: 650\n    },\n    panelarea: {\n      background: '#F5F5F5'\n    },\n    button: {\n      background: palette.primary.main,\n      color: palette.common.white,\n      '&:hover': {\n        background: palette.primary.dark,\n        color: palette.common.white\n      }\n    },\n    wrapper: {\n      width: 224,\n      marginTop: 8\n    }\n  })\n);\n\nconst GroupName = ({ groupId }) => {\n  const name = useGroupName({ groupId });\n  return (\n    <Typography style={{ fontSize: 9 }} display='block' variant='overline' noWrap>\n      {name}\n    </Typography>\n  );\n};\n\nexport default function SelectUserType({ instructors = [], students = [], isAdmin, onBack = undefined }) {\n  const height = useHeight();\n  const classes = useStyles({ height });\n  var buttonRef = React.useRef(null);\n  const [, setLayout] = useLayout();\n  const onLogout = useLogout();\n  const changeRoute = useChangeRoute();\n  const handleSelect = React.useCallback(\n    props => () => {\n      setLayout(props);\n      changeRoute('/Classes');\n    },\n    [setLayout, changeRoute]\n  );\n  const isError = !isAdmin && instructors.length === 0 && students.length === 0;\n  const BannerMsg = isError ? 'No associated user types' : 'You have multiple user types or groups, please select desired user type:';\n\n  var buttons = [];\n  if (isAdmin) {\n    buttons = buttons.concat({\n      label: 'Admin',\n      state: { admin: true, student: undefined, instructor: undefined }\n    });\n  }\n\n  // Instructor buttons\n  buttons = buttons.concat(\n    instructors.map(instructor => ({\n      label: 'Instructor',\n      sublabel: instructors.length > 1 && `Invited by: ${instructor.parentId}`,\n      state: { admin: false, student: undefined, instructor }\n    }))\n  );\n\n  // Student buttons\n  buttons = buttons.concat(\n    students.map(student => {\n      return {\n        label: 'Student',\n        groupId: student.groupId,\n        state: { admin: false, student, instructor: undefined }\n      };\n    })\n  );\n\n  const email = useUserEmail();\n\n  const handleRequest = React.useCallback(\n    type => () => {\n      sendInviteRequestEmail({\n        email,\n        type,\n        onSuccess: () =>\n          alert('The program administrators have been notified of your invite request.  Once approved you will receive an invite link via email.')\n      });\n    },\n    [email]\n  );\n\n  return (\n    <div\n      className={classes.root}\n      onKeyUp={(e: any) => {\n        if (e.keyCode === 13) {\n          // Enter key\n          buttonRef.current && buttonRef.current.click();\n        }\n      }}\n    >\n      <form autoComplete='off'>\n        <Grid container direction='column' justify='center' alignItems='center'>\n          <Grid item xs={12}>\n            <Paper className={classes.paper}>\n              <Typography align='center' className={classes.panelarea}>\n                <img src={BrandLogoImage} alt='logo' style={{ height: 124 }} />\n              </Typography>\n              <Divider />\n              <Grid container spacing={1} direction='column' justify='center' alignItems='center' style={{ padding: 16 }}>\n                <Grid item>\n                  <Typography align='center' className={classes.disclaimer}>\n                    {BannerMsg}\n                  </Typography>\n                </Grid>\n                {buttons.map(({ label, groupId, state }, i) => (\n                  <Grid item key={[label, groupId].filter(l => l).join('-')}>\n                    <div className={classes.wrapper}>\n                      <Button\n                        ref={i === 0 ? buttonRef : undefined}\n                        fullWidth={true}\n                        variant='contained'\n                        className={classes.button}\n                        onClick={handleSelect(state)}\n                      >\n                        <Grid container>\n                          {label && (\n                            <Grid item xs={12}>\n                              {label}\n                            </Grid>\n                          )}\n                          {groupId && (\n                            <Grid item xs={12}>\n                              <GroupName groupId={groupId} />\n                            </Grid>\n                          )}\n                        </Grid>\n                      </Button>\n                    </div>\n                  </Grid>\n                ))}\n                {isError && (\n                  <>\n                    <Grid item>\n                      <div className={classes.wrapper}>\n                        <Button fullWidth={true} variant='contained' className={classes.button} onClick={handleRequest('Student')}>\n                          <Grid item xs={12}>\n                            Request Student Invite\n                          </Grid>\n                        </Button>\n                      </div>\n                    </Grid>\n                    <Grid item>\n                      <div className={classes.wrapper}>\n                        <Button fullWidth={true} variant='contained' className={classes.button} onClick={handleRequest('Instructor')}>\n                          <Grid item xs={12}>\n                            Request Instructor Invite\n                          </Grid>\n                        </Button>\n                      </div>\n                    </Grid>\n                  </>\n                )}\n                <Grid item>\n                  <div className={classes.wrapper}>\n                    <Button fullWidth={true} variant='contained' onClick={onLogout}>\n                      Logout\n                    </Button>\n                  </div>\n                </Grid>\n                <Grid item xs={12}>\n                  {isError && (\n                    <>\n                      <Typography align='center' color='error' className={classes.summary}>\n                        You have not accepted any invites yet. You need to receive and accept an invite before you can use this application.\n                      </Typography>\n                      <Box mt={2}>\n                        <Typography align='center' color='error' className={classes.summary}>\n                          Please contact your instructor or administrator or click above to request an invite.\n                        </Typography>\n                      </Box>\n                    </>\n                  )}\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n        </Grid>\n      </form>\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { useLayout, useUserId } from './hooks';\nimport SelectUserType from './SelectUserType';\nimport { useIsAdmin } from '../../hooks';\nimport useInstructorsByUserId from '../application/GenericTable/Instructors/useInstructorsByUserId';\nimport useStudentsByUserId from '../../database/useStudentsByUserId';\nimport { isEmpty } from '../../helpers';\nimport LoadingGate from './LoadingGate';\n\nexport default function UserTypeGate({ children }) {\n  const isAdmin = useIsAdmin();\n\n  const [{ admin, instructor, student }, setLayout] = useLayout();\n\n  const { instructors, handleRefresh, loading } = useInstructorsByUserId();\n  const { students, handleRefresh: handleRefreshStudents, loading: loadingStudents } = useStudentsByUserId();\n\n  const userId = useUserId();\n\n  // Refresh on load or whenever the userId or\n  React.useEffect(() => {\n    if (!isEmpty(userId)) {\n      handleRefresh();\n      handleRefreshStudents();\n    }\n  }, [userId, handleRefresh, handleRefreshStudents]);\n\n  React.useEffect(() => {\n    // Auto select user type if user is only associated with one type\n    if (instructors && students) {\n      // If both instructors and students are loaded from the database, then proceed\n      if (isAdmin && instructors.length === 0 && students.length === 0) {\n        setLayout({ admin: true, students, instructors, back: undefined }); // Must be an admin user\n      } else if (!isAdmin && instructors.length > 0 && students.length === 0) {\n        setLayout({ instructor: instructors[0], students, instructors, back: undefined }); // Must be an instructor\n      } else if (!isAdmin && instructors.length === 0 && students.length === 1) {\n        setLayout({ student: students[0], students, instructors, back: undefined }); // Must be a student\n      } else {\n        setLayout({ students, instructors, back: undefined }); // Can be one of admin, instructor or studnet, not sure\n      }\n    }\n    // eslint-disable-next-line\n  }, [userId, isAdmin, JSON.stringify(instructors), JSON.stringify(students)]);\n\n  // If viewing is not empty, then return children\n  // Else if completed == false, then show loading\n  // Else if completed and only one user type exists, set viewing automatically\n  // Else show the select user type\n\n  return admin || instructor || student ? (\n    children\n  ) : (\n    <LoadingGate loading={loading || loadingStudents}>\n      <SelectUserType instructors={instructors} students={students} isAdmin={isAdmin} />\n    </LoadingGate>\n  );\n}\n","import { tables } from '../../../../database/dbConfig';\nimport { useTableData } from '../../../../database/useTableData';\nimport { useUserId } from '../../../layout/hooks';\n\nexport default function useInstructorsByUserId() {\n  const userId = useUserId();\n  const { data = [], loading, success, handleRefresh } = useTableData({\n    loadOnMount: false,\n    TableName: tables.instructors,\n    requestParams: {\n      FilterExpression: '#userId = :userId AND #accepted = :accepted AND (#deleted = :deleted OR attribute_not_exists(#deleted))',\n      ExpressionAttributeNames: {\n        '#userId': 'userId',\n        '#accepted': 'accepted',\n        '#deleted': 'deleted'\n      },\n      ExpressionAttributeValues: {\n        ':userId': userId,\n        ':accepted': true,\n        ':deleted': false\n      }\n    }\n  });\n\n  const completed = loading === false && success === true;\n  return {\n    loading,\n    instructors: completed ? data : undefined,\n    handleRefresh\n  };\n}\n","import * as React from 'react';\nimport { useLogout } from './hooks';\nimport LoadingGate from './LoadingGate';\nimport Profile from '../pages/Profile/Profile';\nimport { Box } from '@material-ui/core';\nimport { isEmpty } from '../../helpers';\nimport Page from '../pages/Page';\nimport useProfileEmailAutoUpdate from './useProfileEmailAutoUpdate';\nimport { makeStyles, createStyles } from '@material-ui/core';\nimport { useHeight } from './hooks';\nimport { useContentPadding, useFullScreen } from '../../hooks';\nimport { useProfile } from '../../database/useProfile';\n\nconst useStyles = makeStyles(({ breakpoints, palette, transitions, layout }: any) =>\n  createStyles({\n    root: {\n      display: 'static'\n    },\n    content: ({ leftDrawerOpen }) => ({\n      flexGrow: 1,\n      backgroundColor: palette.common.white,\n      marginLeft: leftDrawerOpen ? layout.leftDrawerWidth : 0,\n      [breakpoints.down('sm')]: {\n        marginLeft: 0,\n        flexShrink: 0\n      },\n      transition: transitions.create(['margin'], {\n        easing: transitions.easing.easeOut,\n        duration: transitions.duration.enteringScreen\n      })\n    }),\n    innerContent: ({ overflow = 'auto', contentHeight, contentPadding, padInnerContent = true }) => ({\n      height: contentHeight - (!padInnerContent ? 0 : contentPadding * 2 + 1),\n      overflow,\n      padding: padInnerContent ? contentPadding : 0,\n      color: palette.primary.dark\n    }),\n    toolbar: ({ appBarHeight }: any) => ({\n      background: palette.white,\n      height: appBarHeight\n    })\n  })\n);\n\nexport default function ProfileGate({ children }) {\n  const { profile, setProfile, loading, handleRefresh } = useProfile();\n  useProfileEmailAutoUpdate();\n  const handleLogout = useLogout();\n\n  const height = useHeight();\n  const fullScreen = useFullScreen();\n\n  const contentPadding = useContentPadding();\n  const classes = useStyles({\n    contentPadding,\n    padInnerContent: true,\n    overflow: 'auto',\n    contentHeight: height,\n    appBarHeight: 0,\n    fullScreen\n  });\n\n  return (\n    <LoadingGate loading={loading}>\n      {profile === undefined || isEmpty(profile?.name) ? (\n        <div data-testid='app-container' className={classes.root}>\n          <main className={classes.content}>\n            <div className={classes.innerContent}>\n              <Box m={3}>\n                <Page\n                  backLabel='Logout'\n                  onBack={handleLogout}\n                  title='Welcome to DOORS!'\n                  subtitle='To get started, please complete your profile and hit save to continue:'\n                >\n                  <LoadingGate loading={loading}>\n                    <Box m={4}>\n                      <Profile showDescriptions={true} profile={profile} handleRefresh={handleRefresh} loading={loading} setProfile={setProfile} />\n                    </Box>\n                  </LoadingGate>\n                </Page>\n              </Box>\n            </div>\n          </main>\n        </div>\n      ) : (\n        children\n      )}\n    </LoadingGate>\n  );\n}\n","import * as React from 'react';\nimport { useProfile } from '../../database/useProfile';\nimport { isEmpty } from '../../helpers';\nimport { useLayout, useUserEmail, useUserId } from './hooks';\n\nexport default function useProfileEmailAutoUpdate() {\n  const id = useUserId();\n  const email = useUserEmail();\n  const [{ profile }] = useLayout();\n  const { readSetRow } = useProfile({ id, shouldSetLayout: true });\n\n  const profileId = profile?.id;\n  const profileEmail = profile?.email;\n\n  // This monitors the profile email and the cognito email and esnures that the profile email is auto updated to match the cognito email\n\n  React.useEffect(() => {\n    if (!isEmpty(id) && id === profileId) {\n      if (!isEmpty(email) && profileEmail?.toLowerCase() !== email?.toLowerCase()) {\n        console.log('Syncing profile: ' + email);\n        readSetRow({ values: { email } });\n      } else {\n        console.log('Profile in sync: ' + email);\n      }\n    }\n  }, [id, profileId, email, profileEmail, readSetRow]);\n}\n","import * as React from 'react';\nimport Routes from './routes';\nimport { ConnectedRouter } from 'connected-react-router';\nimport { AppState } from '../../store';\nimport { connect } from 'react-redux';\nimport Layout from './Layout';\nimport AuthGate from './AuthGate';\nimport InviteGate from './InviteGate';\nimport UserTypeGate from './UserTypeGate';\nimport ProfileGate from './ProfileGate';\n\nexport interface AppRouterProps {\n  history?: any;\n}\n\nfunction AppRouter(props: AppRouterProps) {\n  const { history } = props;\n  return (\n    <ConnectedRouter history={history}>\n      <AuthGate>\n        <InviteGate>\n          <UserTypeGate>\n            <ProfileGate>\n              <Layout>\n                <Routes />\n              </Layout>\n            </ProfileGate>\n          </UserTypeGate>\n        </InviteGate>\n      </AuthGate>\n    </ConnectedRouter>\n  );\n}\n\nconst mapStateToProps = (state: AppState, ownProp: AppRouterProps): AppRouterProps => {\n  var history = ownProp.history;\n  const location = state && state.router && state.router.location; //location from redux store (previously persisted location)\n  history.location = location ? location : history.location; //if a previous location exists, then set it, otherwise use the passed in/default value\n  return { history };\n};\n\nexport default connect(mapStateToProps)(AppRouter);\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { exactProp } from '@material-ui/utils';\nimport { withStyles } from '@material-ui/core';\n\nexport const html = {\n  WebkitFontSmoothing: 'antialiased', // Antialiasing.\n  MozOsxFontSmoothing: 'grayscale' // Antialiasing.\n  //boxSizing: 'border-box', // Custom, remove box sizing as it affects child layout height calculations\n};\n\nexport const body = theme => ({\n  color: theme.palette.text.primary,\n  ...theme.typography.body2,\n  backgroundColor: theme.palette.background.default,\n  '@media print': {\n    // Save printer ink.\n    backgroundColor: theme.palette.common.white\n  }\n});\n\nexport const styles = theme => ({\n  '@global': {\n    html,\n    '*, *::before, *::after': {\n      boxSizing: 'inherit'\n    },\n    'strong, b': {\n      fontWeight: theme.typography.fontWeightBold\n    },\n    body: {\n      margin: 0, // Remove the margin in all browsers.\n      ...body(theme),\n      // Add support for document.body.requestFullScreen().\n      // Other elements, if background transparent, are not supported.\n      '&::backdrop': {\n        backgroundColor: theme.palette.background.default\n      }\n    }\n  }\n});\n\n/**\n * Kickstart an elegant, consistent, and simple baseline to build upon.\n */\nfunction CssBaseline(props) {\n  /* eslint-disable no-unused-vars */\n  const { children = null } = props;\n  /* eslint-enable no-unused-vars */\n  return <React.Fragment>{children}</React.Fragment>;\n}\n\nCssBaseline.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * You can wrap a node.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object\n};\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line\n  CssBaseline['propTypes' + ''] = exactProp(CssBaseline.propTypes);\n}\n\nexport default withStyles(styles, { name: 'MuiCssBaseline' })(CssBaseline);\n","import React from 'react';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport configureStore from './storeConfig';\nimport { createBrowserHistory } from 'history';\nimport { AppState } from './store';\nimport { persistStore } from 'redux-persist';\nimport ViewPort from './components/layout/ViewPort';\nimport AppRouter from './components/layout/AppRouter';\nimport { theme } from './constants';\nimport Amplify from 'aws-amplify';\nimport awsconfig from './aws-exports';\nimport CssBaselineCustom from './components/layout/CssBaselineCustom';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\n\nexport const history = createBrowserHistory(); // Create browser history to use in the Redux store'\nexport const initialState = (window as any).initialReduxState as AppState; // Get the application-wide store instance, prepopulating with state from the server where available.\nexport const store = configureStore(history, initialState) as any; //Setup the global store object\nexport const getState = store.getState;\nexport const persistor = persistStore(store); //Setup the global persistor\n\nAmplify.configure(awsconfig);\n\nfunction ThemedViewPort(props: any) {\n  const { children } = props;\n\n  return (\n    <MuiThemeProvider theme={theme}>\n      <CssBaselineCustom />\n      <ViewPort>{children}</ViewPort>\n    </MuiThemeProvider>\n  );\n}\n\nfunction AppWrapper(props: any) {\n  const { children } = props;\n  return (\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\n          <ThemedViewPort>{children}</ThemedViewPort>\n        </MuiPickersUtilsProvider>\n      </PersistGate>\n    </Provider>\n  );\n}\n\nfunction App() {\n  return (\n    <AppWrapper>\n      <React.Suspense fallback={<></>}>\n        <AppRouter history={history} />\n      </React.Suspense>\n    </AppWrapper>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport { printHeader } from './helpers';\n\nprintHeader();\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\nimport { Reducer } from 'redux';\nimport { evalFunc } from '../../../helpers';\nimport { AppState } from '../../../store';\nimport { SortComparator, updateState, setDefaults } from './helpers';\nimport { useDispatch, useSelector } from 'react-redux';\n\nexport type State = Table[];\nconst defaultValues: Table[] = [];\n\nexport interface Table {\n  id?: string;\n  tab?: string; //indicates the current tab we are viewing from the tab selector\n  searchtext?: string;\n  columnfiltervalue?: string | boolean;\n  columnfiltercolumn?: string;\n  orderBy?: string;\n  orderDirection?: 'asc' | 'desc';\n  sortComparator?: SortComparator;\n  filters?: [];\n}\n\n// Actions\nconst tableUpdate = (table: Table) => ({ type: 'TABLE_UPDATE', table });\nconst tableFilterUpdate = (id: string, filters) => (dispatch, getState) =>\n  dispatch({ type: 'TABLE_UPDATE', table: { id, filters: evalFunc(filters, (getState().table[id] || {}).filters || {}) } });\n\n// Reducer\nexport const reducer: Reducer<State> = (state: State, action): State => {\n  switch (action.type) {\n    case 'TABLE_UPDATE':\n      return updateState(state, action.table);\n    case 'persist/REHYDRATE':\n      const payload: AppState = action && (action as any).payload;\n      const hydratestate: State = payload && payload.table;\n      return setDefaults(hydratestate ? hydratestate : [], defaultValues);\n    default:\n  }\n  return setDefaults(state ? { ...state } : [], defaultValues);\n};\n\n// Hooks\nexport const useTableUpdate = () => {\n  const dispatch = useDispatch();\n  return React.useCallback((t: Table) => dispatch(tableUpdate(t)), [dispatch]);\n};\n\nexport const useTableFilterUpdate = () => {\n  const dispatch = useDispatch();\n  return React.useCallback((id, filters) => dispatch(tableFilterUpdate(id, filters)), [dispatch]);\n};\n\nexport const useTable = name => useSelector((state: AppState) => state.table[name] ?? ({ id: name } as any));\n\nexport function useTableFilterValues(name): any {\n  const { filters: values = {} } = useTable(name);\n  const tableFilterUpdate = useTableFilterUpdate();\n  const setValues = React.useCallback(\n    values => {\n      tableFilterUpdate(name, values);\n    },\n    [name, tableFilterUpdate]\n  );\n  return [values, setValues];\n}\n"],"sourceRoot":""}